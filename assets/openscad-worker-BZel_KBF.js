(function(){"use strict";var Ru=(()=>{var e=self.location.href;return(function(t={}){var r=typeof t<"u"?t:{},i,n;r.ready=new Promise(function(s,a){i=s,n=a});var o=Object.assign({},r),u=[],l="./this.program",p=(s,a)=>{throw a},h=typeof window=="object",_=typeof importScripts=="function",m=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",A="";function S(s){return r.locateFile?r.locateFile(s,A):A+s}var O,k,E;(h||_)&&(_?A=self.location.href:typeof document<"u"&&document.currentScript&&(A=document.currentScript.src),e&&(A=e),A.indexOf("blob:")!==0?A=A.substr(0,A.replace(/[?#].*/,"").lastIndexOf("/")+1):A="",O=s=>{var a=new XMLHttpRequest;return a.open("GET",s,!1),a.send(null),a.responseText},_&&(E=s=>{var a=new XMLHttpRequest;return a.open("GET",s,!1),a.responseType="arraybuffer",a.send(null),new Uint8Array(a.response)}),k=(s,a,c)=>{var f=new XMLHttpRequest;f.open("GET",s,!0),f.responseType="arraybuffer",f.onload=()=>{if(f.status==200||f.status==0&&f.response){a(f.response);return}c()},f.onerror=c,f.send(null)});var v=r.print||console.log.bind(console),N=r.printErr||console.warn.bind(console);Object.assign(r,o),o=null,r.arguments&&(u=r.arguments),r.thisProgram&&(l=r.thisProgram),r.quit&&(p=r.quit);var T;r.wasmBinary&&(T=r.wasmBinary);var j=r.noExitRuntime||!1;typeof WebAssembly!="object"&&rt("no native wasm support detected");var R,V=!1,ae;function ne(s,a){s||rt(a)}var de=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function P(s,a,c){a>>>=0;for(var f=a+c,g=a;s[g]&&!(g>=f);)++g;if(g-a>16&&s.buffer&&de)return de.decode(s.subarray(a,g));for(var b="";a<g;){var D=s[a++];if(!(D&128)){b+=String.fromCharCode(D);continue}var L=s[a++]&63;if((D&224)==192){b+=String.fromCharCode((D&31)<<6|L);continue}var Q=s[a++]&63;if((D&240)==224?D=(D&15)<<12|L<<6|Q:D=(D&7)<<18|L<<12|Q<<6|s[a++]&63,D<65536)b+=String.fromCharCode(D);else{var pe=D-65536;b+=String.fromCharCode(55296|pe>>10,56320|pe&1023)}}return b}function Y(s,a){return s>>>=0,s?P(ve,s,a):""}function me(s,a,c,f){if(c>>>=0,!(f>0))return 0;for(var g=c,b=c+f-1,D=0;D<s.length;++D){var L=s.charCodeAt(D);if(L>=55296&&L<=57343){var Q=s.charCodeAt(++D);L=65536+((L&1023)<<10)|Q&1023}if(L<=127){if(c>=b)break;a[c++>>>0]=L}else if(L<=2047){if(c+1>=b)break;a[c++>>>0]=192|L>>6,a[c++>>>0]=128|L&63}else if(L<=65535){if(c+2>=b)break;a[c++>>>0]=224|L>>12,a[c++>>>0]=128|L>>6&63,a[c++>>>0]=128|L&63}else{if(c+3>=b)break;a[c++>>>0]=240|L>>18,a[c++>>>0]=128|L>>12&63,a[c++>>>0]=128|L>>6&63,a[c++>>>0]=128|L&63}}return a[c>>>0]=0,c-g}function G(s,a,c){return me(s,ve,a,c)}function J(s){for(var a=0,c=0;c<s.length;++c){var f=s.charCodeAt(c);f<=127?a++:f<=2047?a+=2:f>=55296&&f<=57343?(a+=4,++c):a+=3}return a}var re,ve,We,_e,W,x;function X(){var s=R.buffer;r.HEAP8=re=new Int8Array(s),r.HEAP16=We=new Int16Array(s),r.HEAP32=W=new Int32Array(s),r.HEAPU8=ve=new Uint8Array(s),r.HEAPU16=_e=new Uint16Array(s),r.HEAPU32=x=new Uint32Array(s),r.HEAPF32=new Float32Array(s),r.HEAPF64=new Float64Array(s)}var se,ie=[],Le=[],je=[],Qe=[],He=[],ue=0;function ye(){return j||ue>0}function be(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)fe(r.preRun.shift());Ee(ie)}function ge(){!r.noFSInit&&!w.init.initialized&&w.init(),w.ignorePermissions=!1,Vt.root=w.mount(Vt,{},null),Ee(Le)}function xe(){Ee(je)}function $(){_u(),Ee(Qe),w.quit()}function Z(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)Oe(r.postRun.shift());Ee(He)}function fe(s){ie.unshift(s)}function Ne(s){Le.unshift(s)}function Oe(s){He.unshift(s)}var Se=0,C=null;function q(s){return s}function he(s){Se++,r.monitorRunDependencies&&r.monitorRunDependencies(Se)}function le(s){if(Se--,r.monitorRunDependencies&&r.monitorRunDependencies(Se),Se==0&&C){var a=C;C=null,a()}}function rt(s){r.onAbort&&r.onAbort(s),s="Aborted("+s+")",N(s),V=!0,ae=1,s+=". Build with -sASSERTIONS for more info.";var a=new WebAssembly.RuntimeError(s);throw n(a),a}var Tt="data:application/octet-stream;base64,";function at(s){return s.startsWith(Tt)}var It=0;function I(s){return function(){if(V)throw"program has already aborted!";It+=1;try{return s.apply(null,arguments)}catch(a){if(V||It>1||a===1/0||a==="unwind")throw a;rt("unhandled exception: "+[a,a.stack])}finally{It-=1}}}function d(s){var a={};for(var c in s){var f=s[c];typeof f=="function"?a[c]=I(f):a[c]=f}return a}function y(){var s=se.get,a={};se.get=c=>{var f=s.call(se,c),g=a[c];return(!g||g.func!==f)&&(g=a[c]={func:f,wrapper:I(f)}),g.wrapper}}var z;r.locateFile?(z="openscad.wasm",at(z)||(z=S(z))):z=new URL("/assets/openscad-DIKIGOy4.wasm",self.location.href).href;function H(s){try{if(s==z&&T)return new Uint8Array(T);if(E)return E(s);throw"both async and sync fetching of the wasm failed"}catch(a){rt(a)}}function U(s){return!T&&(h||_)&&typeof fetch=="function"?fetch(s,{credentials:"same-origin"}).then(function(a){if(!a.ok)throw"failed to load wasm binary file at '"+s+"'";return a.arrayBuffer()}).catch(function(){return H(s)}):Promise.resolve().then(function(){return H(s)})}function B(s,a,c){return U(s).then(function(f){return WebAssembly.instantiate(f,a)}).then(function(f){return f}).then(c,function(f){N("failed to asynchronously prepare wasm: "+f),rt(f)})}function Ce(s,a,c,f){return!s&&typeof WebAssembly.instantiateStreaming=="function"&&!at(a)&&typeof fetch=="function"?fetch(a,{credentials:"same-origin"}).then(function(g){var b=WebAssembly.instantiateStreaming(g,c);return b.then(f,function(D){return N("wasm streaming compile failed: "+D),N("falling back to ArrayBuffer instantiation"),B(a,c,f)})}):B(a,c,f)}function wt(){var s={a:ty};function a(f,g){var b=f.exports;return b=d(b),r.asm=b,R=r.asm.Ab,X(),se=r.asm.Db,Ne(r.asm.Bb),y(),le(),b}he();function c(f){a(f.instance)}if(r.instantiateWasm)try{return r.instantiateWasm(s,a)}catch(f){N("Module.instantiateWasm callback failed with error: "+f),n(f)}return Ce(T,z,s,c).catch(n),{}}var ze,et;function Ae(s){this.name="ExitStatus",this.message="Program terminated with exit("+s+")",this.status=s}function Ee(s){for(;s.length>0;)s.shift()(r)}function ot(s,a,c,f){rt("Assertion failed: "+Y(s)+", at: "+[a?Y(a):"unknown filename",c,f?Y(f):"unknown function"])}var Rt=[];function Ge(s){var a=Rt[s];return a||(s>=Rt.length&&(Rt.length=s+1),Rt[s]=a=se.get(s)),a}function Be(s,a){Ge(s)(a)}var we=[];function st(s){s.add_ref()}var Jr=0;function M(s){var a=new Re(s);return a.get_caught()||(a.set_caught(!0),Jr--),a.set_rethrown(!1),we.push(a),st(a),a.get_exception_ptr()}function F(){if(!we.length)return 0;var s=we[we.length-1];return st(s),s.excPtr}function Me(s){if(s.release_ref()&&!s.get_rethrown()){var a=s.get_destructor();a&&Ge(a)(s.excPtr),uu(s.excPtr)}}function Re(s){this.excPtr=s,this.ptr=s-24,this.set_type=function(a){x[this.ptr+4>>>2]=a},this.get_type=function(){return x[this.ptr+4>>>2]},this.set_destructor=function(a){x[this.ptr+8>>>2]=a},this.get_destructor=function(){return x[this.ptr+8>>>2]},this.set_refcount=function(a){W[this.ptr>>>2]=a},this.set_caught=function(a){a=a?1:0,re[this.ptr+12>>>0]=a},this.get_caught=function(){return re[this.ptr+12>>>0]!=0},this.set_rethrown=function(a){a=a?1:0,re[this.ptr+13>>>0]=a},this.get_rethrown=function(){return re[this.ptr+13>>>0]!=0},this.init=function(a,c){this.set_adjusted_ptr(0),this.set_type(a),this.set_destructor(c),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var a=W[this.ptr>>>2];W[this.ptr>>>2]=a+1},this.release_ref=function(){var a=W[this.ptr>>>2];return W[this.ptr>>>2]=a-1,a===1},this.set_adjusted_ptr=function(a){x[this.ptr+16>>>2]=a},this.get_adjusted_ptr=function(){return x[this.ptr+16>>>2]},this.get_exception_ptr=function(){var a=pu(this.get_type());if(a)return x[this.excPtr>>>2];var c=this.get_adjusted_ptr();return c!==0?c:this.excPtr}}function Ze(s){s&&Me(new Re(s))}var Pt=0;function fr(){Ye(0);var s=we.pop();Me(s),Pt=0}function Ci(s){throw Pt||(Pt=s),s}function wr(){var s=Pt;if(!s)return zn(0),0;var a=new Re(s);a.set_adjusted_ptr(s);var c=a.get_type();if(!c)return zn(0),s;for(var f=0;f<arguments.length;f++){var g=arguments[f];if(g===0||g===c)break;var b=a.ptr+16;if(yu(g,c,b))return zn(g),s}return zn(c),s}var Pi=wr,on=wr,Bi=wr,Fi=wr;function vi(){var s=we.pop();s||rt("no exception to throw");var a=s.excPtr;throw s.get_rethrown()||(we.push(s),s.set_rethrown(!0),s.set_caught(!1),Jr++),Pt=a,a}function Si(s,a,c){var f=new Re(s);throw f.init(a,c),Pt=s,Jr++,s}function ki(){return Jr}var mt={isAbs:s=>s.charAt(0)==="/",splitPath:s=>{var a=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return a.exec(s).slice(1)},normalizeArray:(s,a)=>{for(var c=0,f=s.length-1;f>=0;f--){var g=s[f];g==="."?s.splice(f,1):g===".."?(s.splice(f,1),c++):c&&(s.splice(f,1),c--)}if(a)for(;c;c--)s.unshift("..");return s},normalize:s=>{var a=mt.isAbs(s),c=s.substr(-1)==="/";return s=mt.normalizeArray(s.split("/").filter(f=>!!f),!a).join("/"),!s&&!a&&(s="."),s&&c&&(s+="/"),(a?"/":"")+s},dirname:s=>{var a=mt.splitPath(s),c=a[0],f=a[1];return!c&&!f?".":(f&&(f=f.substr(0,f.length-1)),c+f)},basename:s=>{if(s==="/")return"/";s=mt.normalize(s),s=s.replace(/\/$/,"");var a=s.lastIndexOf("/");return a===-1?s:s.substr(a+1)},join:function(){var s=Array.prototype.slice.call(arguments);return mt.normalize(s.join("/"))},join2:(s,a)=>mt.normalize(s+"/"+a)};function Lr(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var s=new Uint8Array(1);return()=>(crypto.getRandomValues(s),s[0])}else return()=>rt("randomDevice")}var er={resolve:function(){for(var s="",a=!1,c=arguments.length-1;c>=-1&&!a;c--){var f=c>=0?arguments[c]:w.cwd();if(typeof f!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!f)return"";s=f+"/"+s,a=mt.isAbs(f)}return s=mt.normalizeArray(s.split("/").filter(g=>!!g),!a).join("/"),(a?"/":"")+s||"."},relative:(s,a)=>{s=er.resolve(s).substr(1),a=er.resolve(a).substr(1);function c(pe){for(var Ie=0;Ie<pe.length&&pe[Ie]==="";Ie++);for(var Pe=pe.length-1;Pe>=0&&pe[Pe]==="";Pe--);return Ie>Pe?[]:pe.slice(Ie,Pe-Ie+1)}for(var f=c(s.split("/")),g=c(a.split("/")),b=Math.min(f.length,g.length),D=b,L=0;L<b;L++)if(f[L]!==g[L]){D=L;break}for(var Q=[],L=D;L<f.length;L++)Q.push("..");return Q=Q.concat(g.slice(D)),Q.join("/")}};function Ui(s,a,c){var f=J(s)+1,g=new Array(f),b=me(s,g,0,g.length);return a&&(g.length=b),g}var Zr={ttys:[],init:function(){},shutdown:function(){},register:function(s,a){Zr.ttys[s]={input:[],output:[],ops:a},w.registerDevice(s,Zr.stream_ops)},stream_ops:{open:function(s){var a=Zr.ttys[s.node.rdev];if(!a)throw new w.ErrnoError(43);s.tty=a,s.seekable=!1},close:function(s){s.tty.ops.fsync(s.tty)},fsync:function(s){s.tty.ops.fsync(s.tty)},read:function(s,a,c,f,g){if(!s.tty||!s.tty.ops.get_char)throw new w.ErrnoError(60);for(var b=0,D=0;D<f;D++){var L;try{L=s.tty.ops.get_char(s.tty)}catch{throw new w.ErrnoError(29)}if(L===void 0&&b===0)throw new w.ErrnoError(6);if(L==null)break;b++,a[c+D]=L}return b&&(s.node.timestamp=Date.now()),b},write:function(s,a,c,f,g){if(!s.tty||!s.tty.ops.put_char)throw new w.ErrnoError(60);try{for(var b=0;b<f;b++)s.tty.ops.put_char(s.tty,a[c+b])}catch{throw new w.ErrnoError(29)}return f&&(s.node.timestamp=Date.now()),b}},default_tty_ops:{get_char:function(s){if(!s.input.length){var a=null;if(typeof window<"u"&&typeof window.prompt=="function"?(a=window.prompt("Input: "),a!==null&&(a+=`
`)):typeof readline=="function"&&(a=readline(),a!==null&&(a+=`
`)),!a)return null;s.input=Ui(a,!0)}return s.input.shift()},put_char:function(s,a){a===null||a===10?(v(P(s.output,0)),s.output=[]):a!=0&&s.output.push(a)},fsync:function(s){s.output&&s.output.length>0&&(v(P(s.output,0)),s.output=[])}},default_tty1_ops:{put_char:function(s,a){a===null||a===10?(N(P(s.output,0)),s.output=[]):a!=0&&s.output.push(a)},fsync:function(s){s.output&&s.output.length>0&&(N(P(s.output,0)),s.output=[])}}};function cn(s,a){return ve.fill(0,s,s+a),s}function gs(s,a){return Math.ceil(s/a)*a}function Dn(s){s=gs(s,65536);var a=mu(65536,s);return a?cn(a,s):0}var ft={ops_table:null,mount:function(s){return ft.createNode(null,"/",16895,0)},createNode:function(s,a,c,f){if(w.isBlkdev(c)||w.isFIFO(c))throw new w.ErrnoError(63);ft.ops_table||(ft.ops_table={dir:{node:{getattr:ft.node_ops.getattr,setattr:ft.node_ops.setattr,lookup:ft.node_ops.lookup,mknod:ft.node_ops.mknod,rename:ft.node_ops.rename,unlink:ft.node_ops.unlink,rmdir:ft.node_ops.rmdir,readdir:ft.node_ops.readdir,symlink:ft.node_ops.symlink},stream:{llseek:ft.stream_ops.llseek}},file:{node:{getattr:ft.node_ops.getattr,setattr:ft.node_ops.setattr},stream:{llseek:ft.stream_ops.llseek,read:ft.stream_ops.read,write:ft.stream_ops.write,allocate:ft.stream_ops.allocate,mmap:ft.stream_ops.mmap,msync:ft.stream_ops.msync}},link:{node:{getattr:ft.node_ops.getattr,setattr:ft.node_ops.setattr,readlink:ft.node_ops.readlink},stream:{}},chrdev:{node:{getattr:ft.node_ops.getattr,setattr:ft.node_ops.setattr},stream:w.chrdev_stream_ops}});var g=w.createNode(s,a,c,f);return w.isDir(g.mode)?(g.node_ops=ft.ops_table.dir.node,g.stream_ops=ft.ops_table.dir.stream,g.contents={}):w.isFile(g.mode)?(g.node_ops=ft.ops_table.file.node,g.stream_ops=ft.ops_table.file.stream,g.usedBytes=0,g.contents=null):w.isLink(g.mode)?(g.node_ops=ft.ops_table.link.node,g.stream_ops=ft.ops_table.link.stream):w.isChrdev(g.mode)&&(g.node_ops=ft.ops_table.chrdev.node,g.stream_ops=ft.ops_table.chrdev.stream),g.timestamp=Date.now(),s&&(s.contents[a]=g,s.timestamp=g.timestamp),g},getFileDataAsTypedArray:function(s){return s.contents?s.contents.subarray?s.contents.subarray(0,s.usedBytes):new Uint8Array(s.contents):new Uint8Array(0)},expandFileStorage:function(s,a){a>>>=0;var c=s.contents?s.contents.length:0;if(!(c>=a)){var f=1024*1024;a=Math.max(a,c*(c<f?2:1.125)>>>0),c!=0&&(a=Math.max(a,256));var g=s.contents;s.contents=new Uint8Array(a),s.usedBytes>0&&s.contents.set(g.subarray(0,s.usedBytes),0)}},resizeFileStorage:function(s,a){if(a>>>=0,s.usedBytes!=a)if(a==0)s.contents=null,s.usedBytes=0;else{var c=s.contents;s.contents=new Uint8Array(a),c&&s.contents.set(c.subarray(0,Math.min(a,s.usedBytes))),s.usedBytes=a}},node_ops:{getattr:function(s){var a={};return a.dev=w.isChrdev(s.mode)?s.id:1,a.ino=s.id,a.mode=s.mode,a.nlink=1,a.uid=0,a.gid=0,a.rdev=s.rdev,w.isDir(s.mode)?a.size=4096:w.isFile(s.mode)?a.size=s.usedBytes:w.isLink(s.mode)?a.size=s.link.length:a.size=0,a.atime=new Date(s.timestamp),a.mtime=new Date(s.timestamp),a.ctime=new Date(s.timestamp),a.blksize=4096,a.blocks=Math.ceil(a.size/a.blksize),a},setattr:function(s,a){a.mode!==void 0&&(s.mode=a.mode),a.timestamp!==void 0&&(s.timestamp=a.timestamp),a.size!==void 0&&ft.resizeFileStorage(s,a.size)},lookup:function(s,a){throw w.genericErrors[44]},mknod:function(s,a,c,f){return ft.createNode(s,a,c,f)},rename:function(s,a,c){if(w.isDir(s.mode)){var f;try{f=w.lookupNode(a,c)}catch{}if(f)for(var g in f.contents)throw new w.ErrnoError(55)}delete s.parent.contents[s.name],s.parent.timestamp=Date.now(),s.name=c,a.contents[c]=s,a.timestamp=s.parent.timestamp,s.parent=a},unlink:function(s,a){delete s.contents[a],s.timestamp=Date.now()},rmdir:function(s,a){var c=w.lookupNode(s,a);for(var f in c.contents)throw new w.ErrnoError(55);delete s.contents[a],s.timestamp=Date.now()},readdir:function(s){var a=[".",".."];for(var c in s.contents)s.contents.hasOwnProperty(c)&&a.push(c);return a},symlink:function(s,a,c){var f=ft.createNode(s,a,41471,0);return f.link=c,f},readlink:function(s){if(!w.isLink(s.mode))throw new w.ErrnoError(28);return s.link}},stream_ops:{read:function(s,a,c,f,g){var b=s.node.contents;if(g>=s.node.usedBytes)return 0;var D=Math.min(s.node.usedBytes-g,f);if(D>8&&b.subarray)a.set(b.subarray(g,g+D),c);else for(var L=0;L<D;L++)a[c+L]=b[g+L];return D},write:function(s,a,c,f,g,b){if(a.buffer===re.buffer&&(b=!1),!f)return 0;var D=s.node;if(D.timestamp=Date.now(),a.subarray&&(!D.contents||D.contents.subarray)){if(b)return D.contents=a.subarray(c,c+f),D.usedBytes=f,f;if(D.usedBytes===0&&g===0)return D.contents=a.slice(c,c+f),D.usedBytes=f,f;if(g+f<=D.usedBytes)return D.contents.set(a.subarray(c,c+f),g),f}if(ft.expandFileStorage(D,g+f),D.contents.subarray&&a.subarray)D.contents.set(a.subarray(c,c+f),g);else for(var L=0;L<f;L++)D.contents[g+L]=a[c+L];return D.usedBytes=Math.max(D.usedBytes,g+f),f},llseek:function(s,a,c){var f=a;if(c===1?f+=s.position:c===2&&w.isFile(s.node.mode)&&(f+=s.node.usedBytes),f<0)throw new w.ErrnoError(28);return f},allocate:function(s,a,c){ft.expandFileStorage(s.node,a+c),s.node.usedBytes=Math.max(s.node.usedBytes,a+c)},mmap:function(s,a,c,f,g){if(!w.isFile(s.node.mode))throw new w.ErrnoError(43);var b,D,L=s.node.contents;if(!(g&2)&&L.buffer===re.buffer)D=!1,b=L.byteOffset;else{if((c>0||c+a<L.length)&&(L.subarray?L=L.subarray(c,c+a):L=Array.prototype.slice.call(L,c,c+a)),D=!0,b=Dn(a),!b)throw new w.ErrnoError(48);b>>>=0,re.set(L,b>>>0)}return{ptr:b,allocated:D}},msync:function(s,a,c,f,g){return ft.stream_ops.write(s,a,0,f,c,!1),0}}};function ws(s,a,c,f){var g="al "+s;k(s,b=>{ne(b,'Loading data file "'+s+'" failed (no arrayBuffer).'),a(new Uint8Array(b)),g&&le()},b=>{if(c)c();else throw'Loading data file "'+s+'" failed.'}),g&&he()}var w={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(s,a={})=>{if(s=er.resolve(s),!s)return{path:"",node:null};var c={follow_mount:!0,recurse_count:0};if(a=Object.assign(c,a),a.recurse_count>8)throw new w.ErrnoError(32);for(var f=s.split("/").filter(Pe=>!!Pe),g=w.root,b="/",D=0;D<f.length;D++){var L=D===f.length-1;if(L&&a.parent)break;if(g=w.lookupNode(g,f[D]),b=mt.join2(b,f[D]),w.isMountpoint(g)&&(!L||L&&a.follow_mount)&&(g=g.mounted.root),!L||a.follow)for(var Q=0;w.isLink(g.mode);){var pe=w.readlink(b);b=er.resolve(mt.dirname(b),pe);var Ie=w.lookupPath(b,{recurse_count:a.recurse_count+1});if(g=Ie.node,Q++>40)throw new w.ErrnoError(32)}}return{path:b,node:g}},getPath:s=>{for(var a;;){if(w.isRoot(s)){var c=s.mount.mountpoint;return a?c[c.length-1]!=="/"?c+"/"+a:c+a:c}a=a?s.name+"/"+a:s.name,s=s.parent}},hashName:(s,a)=>{for(var c=0,f=0;f<a.length;f++)c=(c<<5)-c+a.charCodeAt(f)|0;return(s+c>>>0)%w.nameTable.length},hashAddNode:s=>{var a=w.hashName(s.parent.id,s.name);s.name_next=w.nameTable[a],w.nameTable[a]=s},hashRemoveNode:s=>{var a=w.hashName(s.parent.id,s.name);if(w.nameTable[a]===s)w.nameTable[a]=s.name_next;else for(var c=w.nameTable[a];c;){if(c.name_next===s){c.name_next=s.name_next;break}c=c.name_next}},lookupNode:(s,a)=>{var c=w.mayLookup(s);if(c)throw new w.ErrnoError(c,s);for(var f=w.hashName(s.id,a),g=w.nameTable[f];g;g=g.name_next){var b=g.name;if(g.parent.id===s.id&&b===a)return g}return w.lookup(s,a)},createNode:(s,a,c,f)=>{var g=new w.FSNode(s,a,c,f);return w.hashAddNode(g),g},destroyNode:s=>{w.hashRemoveNode(s)},isRoot:s=>s===s.parent,isMountpoint:s=>!!s.mounted,isFile:s=>(s&61440)===32768,isDir:s=>(s&61440)===16384,isLink:s=>(s&61440)===40960,isChrdev:s=>(s&61440)===8192,isBlkdev:s=>(s&61440)===24576,isFIFO:s=>(s&61440)===4096,isSocket:s=>(s&49152)===49152,flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:s=>{var a=w.flagModes[s];if(typeof a>"u")throw new Error("Unknown file open mode: "+s);return a},flagsToPermissionString:s=>{var a=["r","w","rw"][s&3];return s&512&&(a+="w"),a},nodePermissions:(s,a)=>w.ignorePermissions?0:a.includes("r")&&!(s.mode&292)||a.includes("w")&&!(s.mode&146)||a.includes("x")&&!(s.mode&73)?2:0,mayLookup:s=>{var a=w.nodePermissions(s,"x");return a||(s.node_ops.lookup?0:2)},mayCreate:(s,a)=>{try{var c=w.lookupNode(s,a);return 20}catch{}return w.nodePermissions(s,"wx")},mayDelete:(s,a,c)=>{var f;try{f=w.lookupNode(s,a)}catch(b){return b.errno}var g=w.nodePermissions(s,"wx");if(g)return g;if(c){if(!w.isDir(f.mode))return 54;if(w.isRoot(f)||w.getPath(f)===w.cwd())return 10}else if(w.isDir(f.mode))return 31;return 0},mayOpen:(s,a)=>s?w.isLink(s.mode)?32:w.isDir(s.mode)&&(w.flagsToPermissionString(a)!=="r"||a&512)?31:w.nodePermissions(s,w.flagsToPermissionString(a)):44,MAX_OPEN_FDS:4096,nextfd:(s=0,a=w.MAX_OPEN_FDS)=>{for(var c=s;c<=a;c++)if(!w.streams[c])return c;throw new w.ErrnoError(33)},getStream:s=>w.streams[s],createStream:(s,a,c)=>{w.FSStream||(w.FSStream=function(){this.shared={}},w.FSStream.prototype={},Object.defineProperties(w.FSStream.prototype,{object:{get:function(){return this.node},set:function(g){this.node=g}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(g){this.shared.flags=g}},position:{get:function(){return this.shared.position},set:function(g){this.shared.position=g}}})),s=Object.assign(new w.FSStream,s);var f=w.nextfd(a,c);return s.fd=f,w.streams[f]=s,s},closeStream:s=>{w.streams[s]=null},chrdev_stream_ops:{open:s=>{var a=w.getDevice(s.node.rdev);s.stream_ops=a.stream_ops,s.stream_ops.open&&s.stream_ops.open(s)},llseek:()=>{throw new w.ErrnoError(70)}},major:s=>s>>8,minor:s=>s&255,makedev:(s,a)=>s<<8|a,registerDevice:(s,a)=>{w.devices[s]={stream_ops:a}},getDevice:s=>w.devices[s],getMounts:s=>{for(var a=[],c=[s];c.length;){var f=c.pop();a.push(f),c.push.apply(c,f.mounts)}return a},syncfs:(s,a)=>{typeof s=="function"&&(a=s,s=!1),w.syncFSRequests++,w.syncFSRequests>1&&N("warning: "+w.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var c=w.getMounts(w.root.mount),f=0;function g(D){return w.syncFSRequests--,a(D)}function b(D){if(D)return b.errored?void 0:(b.errored=!0,g(D));++f>=c.length&&g(null)}c.forEach(D=>{if(!D.type.syncfs)return b(null);D.type.syncfs(D,s,b)})},mount:(s,a,c)=>{var f=c==="/",g=!c,b;if(f&&w.root)throw new w.ErrnoError(10);if(!f&&!g){var D=w.lookupPath(c,{follow_mount:!1});if(c=D.path,b=D.node,w.isMountpoint(b))throw new w.ErrnoError(10);if(!w.isDir(b.mode))throw new w.ErrnoError(54)}var L={type:s,opts:a,mountpoint:c,mounts:[]},Q=s.mount(L);return Q.mount=L,L.root=Q,f?w.root=Q:b&&(b.mounted=L,b.mount&&b.mount.mounts.push(L)),Q},unmount:s=>{var a=w.lookupPath(s,{follow_mount:!1});if(!w.isMountpoint(a.node))throw new w.ErrnoError(28);var c=a.node,f=c.mounted,g=w.getMounts(f);Object.keys(w.nameTable).forEach(D=>{for(var L=w.nameTable[D];L;){var Q=L.name_next;g.includes(L.mount)&&w.destroyNode(L),L=Q}}),c.mounted=null;var b=c.mount.mounts.indexOf(f);c.mount.mounts.splice(b,1)},lookup:(s,a)=>s.node_ops.lookup(s,a),mknod:(s,a,c)=>{var f=w.lookupPath(s,{parent:!0}),g=f.node,b=mt.basename(s);if(!b||b==="."||b==="..")throw new w.ErrnoError(28);var D=w.mayCreate(g,b);if(D)throw new w.ErrnoError(D);if(!g.node_ops.mknod)throw new w.ErrnoError(63);return g.node_ops.mknod(g,b,a,c)},create:(s,a)=>(a=a!==void 0?a:438,a&=4095,a|=32768,w.mknod(s,a,0)),mkdir:(s,a)=>(a=a!==void 0?a:511,a&=1023,a|=16384,w.mknod(s,a,0)),mkdirTree:(s,a)=>{for(var c=s.split("/"),f="",g=0;g<c.length;++g)if(c[g]){f+="/"+c[g];try{w.mkdir(f,a)}catch(b){if(b.errno!=20)throw b}}},mkdev:(s,a,c)=>(typeof c>"u"&&(c=a,a=438),a|=8192,w.mknod(s,a,c)),symlink:(s,a)=>{if(!er.resolve(s))throw new w.ErrnoError(44);var c=w.lookupPath(a,{parent:!0}),f=c.node;if(!f)throw new w.ErrnoError(44);var g=mt.basename(a),b=w.mayCreate(f,g);if(b)throw new w.ErrnoError(b);if(!f.node_ops.symlink)throw new w.ErrnoError(63);return f.node_ops.symlink(f,g,s)},rename:(s,a)=>{var c=mt.dirname(s),f=mt.dirname(a),g=mt.basename(s),b=mt.basename(a),D,L,Q;if(D=w.lookupPath(s,{parent:!0}),L=D.node,D=w.lookupPath(a,{parent:!0}),Q=D.node,!L||!Q)throw new w.ErrnoError(44);if(L.mount!==Q.mount)throw new w.ErrnoError(75);var pe=w.lookupNode(L,g),Ie=er.relative(s,f);if(Ie.charAt(0)!==".")throw new w.ErrnoError(28);if(Ie=er.relative(a,c),Ie.charAt(0)!==".")throw new w.ErrnoError(55);var Pe;try{Pe=w.lookupNode(Q,b)}catch{}if(pe!==Pe){var Te=w.isDir(pe.mode),Fe=w.mayDelete(L,g,Te);if(Fe)throw new w.ErrnoError(Fe);if(Fe=Pe?w.mayDelete(Q,b,Te):w.mayCreate(Q,b),Fe)throw new w.ErrnoError(Fe);if(!L.node_ops.rename)throw new w.ErrnoError(63);if(w.isMountpoint(pe)||Pe&&w.isMountpoint(Pe))throw new w.ErrnoError(10);if(Q!==L&&(Fe=w.nodePermissions(L,"w"),Fe))throw new w.ErrnoError(Fe);w.hashRemoveNode(pe);try{L.node_ops.rename(pe,Q,b)}catch(tt){throw tt}finally{w.hashAddNode(pe)}}},rmdir:s=>{var a=w.lookupPath(s,{parent:!0}),c=a.node,f=mt.basename(s),g=w.lookupNode(c,f),b=w.mayDelete(c,f,!0);if(b)throw new w.ErrnoError(b);if(!c.node_ops.rmdir)throw new w.ErrnoError(63);if(w.isMountpoint(g))throw new w.ErrnoError(10);c.node_ops.rmdir(c,f),w.destroyNode(g)},readdir:s=>{var a=w.lookupPath(s,{follow:!0}),c=a.node;if(!c.node_ops.readdir)throw new w.ErrnoError(54);return c.node_ops.readdir(c)},unlink:s=>{var a=w.lookupPath(s,{parent:!0}),c=a.node;if(!c)throw new w.ErrnoError(44);var f=mt.basename(s),g=w.lookupNode(c,f),b=w.mayDelete(c,f,!1);if(b)throw new w.ErrnoError(b);if(!c.node_ops.unlink)throw new w.ErrnoError(63);if(w.isMountpoint(g))throw new w.ErrnoError(10);c.node_ops.unlink(c,f),w.destroyNode(g)},readlink:s=>{var a=w.lookupPath(s),c=a.node;if(!c)throw new w.ErrnoError(44);if(!c.node_ops.readlink)throw new w.ErrnoError(28);return er.resolve(w.getPath(c.parent),c.node_ops.readlink(c))},stat:(s,a)=>{var c=w.lookupPath(s,{follow:!a}),f=c.node;if(!f)throw new w.ErrnoError(44);if(!f.node_ops.getattr)throw new w.ErrnoError(63);return f.node_ops.getattr(f)},lstat:s=>w.stat(s,!0),chmod:(s,a,c)=>{var f;if(typeof s=="string"){var g=w.lookupPath(s,{follow:!c});f=g.node}else f=s;if(!f.node_ops.setattr)throw new w.ErrnoError(63);f.node_ops.setattr(f,{mode:a&4095|f.mode&-4096,timestamp:Date.now()})},lchmod:(s,a)=>{w.chmod(s,a,!0)},fchmod:(s,a)=>{var c=w.getStream(s);if(!c)throw new w.ErrnoError(8);w.chmod(c.node,a)},chown:(s,a,c,f)=>{var g;if(typeof s=="string"){var b=w.lookupPath(s,{follow:!f});g=b.node}else g=s;if(!g.node_ops.setattr)throw new w.ErrnoError(63);g.node_ops.setattr(g,{timestamp:Date.now()})},lchown:(s,a,c)=>{w.chown(s,a,c,!0)},fchown:(s,a,c)=>{var f=w.getStream(s);if(!f)throw new w.ErrnoError(8);w.chown(f.node,a,c)},truncate:(s,a)=>{if(a<0)throw new w.ErrnoError(28);var c;if(typeof s=="string"){var f=w.lookupPath(s,{follow:!0});c=f.node}else c=s;if(!c.node_ops.setattr)throw new w.ErrnoError(63);if(w.isDir(c.mode))throw new w.ErrnoError(31);if(!w.isFile(c.mode))throw new w.ErrnoError(28);var g=w.nodePermissions(c,"w");if(g)throw new w.ErrnoError(g);c.node_ops.setattr(c,{size:a,timestamp:Date.now()})},ftruncate:(s,a)=>{var c=w.getStream(s);if(!c)throw new w.ErrnoError(8);if((c.flags&2097155)===0)throw new w.ErrnoError(28);w.truncate(c.node,a)},utime:(s,a,c)=>{var f=w.lookupPath(s,{follow:!0}),g=f.node;g.node_ops.setattr(g,{timestamp:Math.max(a,c)})},open:(s,a,c)=>{if(s==="")throw new w.ErrnoError(44);a=typeof a=="string"?w.modeStringToFlags(a):a,c=typeof c>"u"?438:c,a&64?c=c&4095|32768:c=0;var f;if(typeof s=="object")f=s;else{s=mt.normalize(s);try{var g=w.lookupPath(s,{follow:!(a&131072)});f=g.node}catch{}}var b=!1;if(a&64)if(f){if(a&128)throw new w.ErrnoError(20)}else f=w.mknod(s,c,0),b=!0;if(!f)throw new w.ErrnoError(44);if(w.isChrdev(f.mode)&&(a&=-513),a&65536&&!w.isDir(f.mode))throw new w.ErrnoError(54);if(!b){var D=w.mayOpen(f,a);if(D)throw new w.ErrnoError(D)}a&512&&!b&&w.truncate(f,0),a&=-131713;var L=w.createStream({node:f,path:w.getPath(f),flags:a,seekable:!0,position:0,stream_ops:f.stream_ops,ungotten:[],error:!1});return L.stream_ops.open&&L.stream_ops.open(L),r.logReadFiles&&!(a&1)&&(w.readFiles||(w.readFiles={}),s in w.readFiles||(w.readFiles[s]=1)),L},close:s=>{if(w.isClosed(s))throw new w.ErrnoError(8);s.getdents&&(s.getdents=null);try{s.stream_ops.close&&s.stream_ops.close(s)}catch(a){throw a}finally{w.closeStream(s.fd)}s.fd=null},isClosed:s=>s.fd===null,llseek:(s,a,c)=>{if(w.isClosed(s))throw new w.ErrnoError(8);if(!s.seekable||!s.stream_ops.llseek)throw new w.ErrnoError(70);if(c!=0&&c!=1&&c!=2)throw new w.ErrnoError(28);return s.position=s.stream_ops.llseek(s,a,c),s.ungotten=[],s.position},read:(s,a,c,f,g)=>{if(c>>>=0,f<0||g<0)throw new w.ErrnoError(28);if(w.isClosed(s))throw new w.ErrnoError(8);if((s.flags&2097155)===1)throw new w.ErrnoError(8);if(w.isDir(s.node.mode))throw new w.ErrnoError(31);if(!s.stream_ops.read)throw new w.ErrnoError(28);var b=typeof g<"u";if(!b)g=s.position;else if(!s.seekable)throw new w.ErrnoError(70);var D=s.stream_ops.read(s,a,c,f,g);return b||(s.position+=D),D},write:(s,a,c,f,g,b)=>{if(c>>>=0,f<0||g<0)throw new w.ErrnoError(28);if(w.isClosed(s))throw new w.ErrnoError(8);if((s.flags&2097155)===0)throw new w.ErrnoError(8);if(w.isDir(s.node.mode))throw new w.ErrnoError(31);if(!s.stream_ops.write)throw new w.ErrnoError(28);s.seekable&&s.flags&1024&&w.llseek(s,0,2);var D=typeof g<"u";if(!D)g=s.position;else if(!s.seekable)throw new w.ErrnoError(70);var L=s.stream_ops.write(s,a,c,f,g,b);return D||(s.position+=L),L},allocate:(s,a,c)=>{if(w.isClosed(s))throw new w.ErrnoError(8);if(a<0||c<=0)throw new w.ErrnoError(28);if((s.flags&2097155)===0)throw new w.ErrnoError(8);if(!w.isFile(s.node.mode)&&!w.isDir(s.node.mode))throw new w.ErrnoError(43);if(!s.stream_ops.allocate)throw new w.ErrnoError(138);s.stream_ops.allocate(s,a,c)},mmap:(s,a,c,f,g)=>{if((f&2)!==0&&(g&2)===0&&(s.flags&2097155)!==2)throw new w.ErrnoError(2);if((s.flags&2097155)===1)throw new w.ErrnoError(2);if(!s.stream_ops.mmap)throw new w.ErrnoError(43);return s.stream_ops.mmap(s,a,c,f,g)},msync:(s,a,c,f,g)=>(c>>>=0,s.stream_ops.msync?s.stream_ops.msync(s,a,c,f,g):0),munmap:s=>0,ioctl:(s,a,c)=>{if(!s.stream_ops.ioctl)throw new w.ErrnoError(59);return s.stream_ops.ioctl(s,a,c)},readFile:(s,a={})=>{if(a.flags=a.flags||0,a.encoding=a.encoding||"binary",a.encoding!=="utf8"&&a.encoding!=="binary")throw new Error('Invalid encoding type "'+a.encoding+'"');var c,f=w.open(s,a.flags),g=w.stat(s),b=g.size,D=new Uint8Array(b);return w.read(f,D,0,b,0),a.encoding==="utf8"?c=P(D,0):a.encoding==="binary"&&(c=D),w.close(f),c},writeFile:(s,a,c={})=>{c.flags=c.flags||577;var f=w.open(s,c.flags,c.mode);if(typeof a=="string"){var g=new Uint8Array(J(a)+1),b=me(a,g,0,g.length);w.write(f,g,0,b,void 0,c.canOwn)}else if(ArrayBuffer.isView(a))w.write(f,a,0,a.byteLength,void 0,c.canOwn);else throw new Error("Unsupported data type");w.close(f)},cwd:()=>w.currentPath,chdir:s=>{var a=w.lookupPath(s,{follow:!0});if(a.node===null)throw new w.ErrnoError(44);if(!w.isDir(a.node.mode))throw new w.ErrnoError(54);var c=w.nodePermissions(a.node,"x");if(c)throw new w.ErrnoError(c);w.currentPath=a.path},createDefaultDirectories:()=>{w.mkdir("/tmp"),w.mkdir("/home"),w.mkdir("/home/web_user")},createDefaultDevices:()=>{w.mkdir("/dev"),w.registerDevice(w.makedev(1,3),{read:()=>0,write:(a,c,f,g,b)=>g}),w.mkdev("/dev/null",w.makedev(1,3)),Zr.register(w.makedev(5,0),Zr.default_tty_ops),Zr.register(w.makedev(6,0),Zr.default_tty1_ops),w.mkdev("/dev/tty",w.makedev(5,0)),w.mkdev("/dev/tty1",w.makedev(6,0));var s=Lr();w.createDevice("/dev","random",s),w.createDevice("/dev","urandom",s),w.mkdir("/dev/shm"),w.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{w.mkdir("/proc");var s=w.mkdir("/proc/self");w.mkdir("/proc/self/fd"),w.mount({mount:()=>{var a=w.createNode(s,"fd",16895,73);return a.node_ops={lookup:(c,f)=>{var g=+f,b=w.getStream(g);if(!b)throw new w.ErrnoError(8);var D={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>b.path}};return D.parent=D,D}},a}},{},"/proc/self/fd")},createStandardStreams:()=>{r.stdin?w.createDevice("/dev","stdin",r.stdin):w.symlink("/dev/tty","/dev/stdin"),r.stdout?w.createDevice("/dev","stdout",null,r.stdout):w.symlink("/dev/tty","/dev/stdout"),r.stderr?w.createDevice("/dev","stderr",null,r.stderr):w.symlink("/dev/tty1","/dev/stderr"),w.open("/dev/stdin",0),w.open("/dev/stdout",1),w.open("/dev/stderr",1)},ensureErrnoError:()=>{w.ErrnoError||(w.ErrnoError=function(a,c){this.name="ErrnoError",this.node=c,this.setErrno=function(f){this.errno=f},this.setErrno(a),this.message="FS error"},w.ErrnoError.prototype=new Error,w.ErrnoError.prototype.constructor=w.ErrnoError,[44].forEach(s=>{w.genericErrors[s]=new w.ErrnoError(s),w.genericErrors[s].stack="<generic error, no stack>"}))},staticInit:()=>{w.ensureErrnoError(),w.nameTable=new Array(4096),w.mount(ft,{},"/"),w.createDefaultDirectories(),w.createDefaultDevices(),w.createSpecialDirectories(),w.filesystems={MEMFS:ft}},init:(s,a,c)=>{w.init.initialized=!0,w.ensureErrnoError(),r.stdin=s||r.stdin,r.stdout=a||r.stdout,r.stderr=c||r.stderr,w.createStandardStreams()},quit:()=>{w.init.initialized=!1,hu(0);for(var s=0;s<w.streams.length;s++){var a=w.streams[s];a&&w.close(a)}},getMode:(s,a)=>{var c=0;return s&&(c|=365),a&&(c|=146),c},findObject:(s,a)=>{var c=w.analyzePath(s,a);return c.exists?c.object:null},analyzePath:(s,a)=>{try{var c=w.lookupPath(s,{follow:!a});s=c.path}catch{}var f={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var c=w.lookupPath(s,{parent:!0});f.parentExists=!0,f.parentPath=c.path,f.parentObject=c.node,f.name=mt.basename(s),c=w.lookupPath(s,{follow:!a}),f.exists=!0,f.path=c.path,f.object=c.node,f.name=c.node.name,f.isRoot=c.path==="/"}catch(g){f.error=g.errno}return f},createPath:(s,a,c,f)=>{s=typeof s=="string"?s:w.getPath(s);for(var g=a.split("/").reverse();g.length;){var b=g.pop();if(b){var D=mt.join2(s,b);try{w.mkdir(D)}catch{}s=D}}return D},createFile:(s,a,c,f,g)=>{var b=mt.join2(typeof s=="string"?s:w.getPath(s),a),D=w.getMode(f,g);return w.create(b,D)},createDataFile:(s,a,c,f,g,b)=>{var D=a;s&&(s=typeof s=="string"?s:w.getPath(s),D=a?mt.join2(s,a):s);var L=w.getMode(f,g),Q=w.create(D,L);if(c){if(typeof c=="string"){for(var pe=new Array(c.length),Ie=0,Pe=c.length;Ie<Pe;++Ie)pe[Ie]=c.charCodeAt(Ie);c=pe}w.chmod(Q,L|146);var Te=w.open(Q,577);w.write(Te,c,0,c.length,0,b),w.close(Te),w.chmod(Q,L)}return Q},createDevice:(s,a,c,f)=>{var g=mt.join2(typeof s=="string"?s:w.getPath(s),a),b=w.getMode(!!c,!!f);w.createDevice.major||(w.createDevice.major=64);var D=w.makedev(w.createDevice.major++,0);return w.registerDevice(D,{open:L=>{L.seekable=!1},close:L=>{f&&f.buffer&&f.buffer.length&&f(10)},read:(L,Q,pe,Ie,Pe)=>{for(var Te=0,Fe=0;Fe<Ie;Fe++){var tt;try{tt=c()}catch{throw new w.ErrnoError(29)}if(tt===void 0&&Te===0)throw new w.ErrnoError(6);if(tt==null)break;Te++,Q[pe+Fe]=tt}return Te&&(L.node.timestamp=Date.now()),Te},write:(L,Q,pe,Ie,Pe)=>{for(var Te=0;Te<Ie;Te++)try{f(Q[pe+Te])}catch{throw new w.ErrnoError(29)}return Ie&&(L.node.timestamp=Date.now()),Te}}),w.mkdev(g,b,D)},forceLoadFile:s=>{if(s.isDevice||s.isFolder||s.link||s.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(O)try{s.contents=Ui(O(s.url),!0),s.usedBytes=s.contents.length}catch{throw new w.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:(s,a,c,f,g)=>{function b(){this.lengthKnown=!1,this.chunks=[]}if(b.prototype.get=function(Fe){if(!(Fe>this.length-1||Fe<0)){var tt=Fe%this.chunkSize,vt=Fe/this.chunkSize|0;return this.getter(vt)[tt]}},b.prototype.setDataGetter=function(Fe){this.getter=Fe},b.prototype.cacheLength=function(){var Fe=new XMLHttpRequest;if(Fe.open("HEAD",c,!1),Fe.send(null),!(Fe.status>=200&&Fe.status<300||Fe.status===304))throw new Error("Couldn't load "+c+". Status: "+Fe.status);var tt=Number(Fe.getResponseHeader("Content-length")),vt,zt=(vt=Fe.getResponseHeader("Accept-Ranges"))&&vt==="bytes",Mt=(vt=Fe.getResponseHeader("Content-Encoding"))&&vt==="gzip",De=1024*1024;zt||(De=tt);var it=(Gt,$r)=>{if(Gt>$r)throw new Error("invalid range ("+Gt+", "+$r+") or no bytes requested!");if($r>tt-1)throw new Error("only "+tt+" bytes available! programmer error!");var rr=new XMLHttpRequest;if(rr.open("GET",c,!1),tt!==De&&rr.setRequestHeader("Range","bytes="+Gt+"-"+$r),rr.responseType="arraybuffer",rr.overrideMimeType&&rr.overrideMimeType("text/plain; charset=x-user-defined"),rr.send(null),!(rr.status>=200&&rr.status<300||rr.status===304))throw new Error("Couldn't load "+c+". Status: "+rr.status);return rr.response!==void 0?new Uint8Array(rr.response||[]):Ui(rr.responseText||"",!0)},or=this;or.setDataGetter(Gt=>{var $r=Gt*De,rr=(Gt+1)*De-1;if(rr=Math.min(rr,tt-1),typeof or.chunks[Gt]>"u"&&(or.chunks[Gt]=it($r,rr)),typeof or.chunks[Gt]>"u")throw new Error("doXHR failed!");return or.chunks[Gt]}),(Mt||!tt)&&(De=tt=1,tt=this.getter(0).length,De=tt,v("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=tt,this._chunkSize=De,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!_)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var D=new b;Object.defineProperties(D,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var L={isDevice:!1,contents:D}}else var L={isDevice:!1,url:c};var Q=w.createFile(s,a,L,f,g);L.contents?Q.contents=L.contents:L.url&&(Q.contents=null,Q.url=L.url),Object.defineProperties(Q,{usedBytes:{get:function(){return this.contents.length}}});var pe={},Ie=Object.keys(Q.stream_ops);Ie.forEach(Te=>{var Fe=Q.stream_ops[Te];pe[Te]=function(){return w.forceLoadFile(Q),Fe.apply(null,arguments)}});function Pe(Te,Fe,tt,vt,zt){var Mt=Te.node.contents;if(zt>=Mt.length)return 0;var De=Math.min(Mt.length-zt,vt);if(Mt.slice)for(var it=0;it<De;it++)Fe[tt+it]=Mt[zt+it];else for(var it=0;it<De;it++)Fe[tt+it]=Mt.get(zt+it);return De}return pe.read=(Te,Fe,tt,vt,zt)=>(w.forceLoadFile(Q),Pe(Te,Fe,tt,vt,zt)),pe.mmap=(Te,Fe,tt,vt,zt)=>{w.forceLoadFile(Q);var Mt=Dn(Fe);if(!Mt)throw new w.ErrnoError(48);return Pe(Te,re,Mt,Fe,tt),{ptr:Mt,allocated:!0}},Q.stream_ops=pe,Q},createPreloadedFile:(s,a,c,f,g,b,D,L,Q,pe)=>{var Ie=a?er.resolve(mt.join2(s,a)):s;function Pe(Te){function Fe(tt){pe&&pe(),L||w.createDataFile(s,a,tt,f,g,Q),b&&b(),le()}Browser.handledByPreloadPlugin(Te,Ie,Fe,()=>{D&&D(),le()})||Fe(Te)}he(),typeof c=="string"?ws(c,Te=>Pe(Te),D):Pe(c)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(s,a=(()=>{}),c=(()=>{}))=>{var f=w.indexedDB();try{var g=f.open(w.DB_NAME(),w.DB_VERSION)}catch(b){return c(b)}g.onupgradeneeded=()=>{v("creating db");var b=g.result;b.createObjectStore(w.DB_STORE_NAME)},g.onsuccess=()=>{var b=g.result,D=b.transaction([w.DB_STORE_NAME],"readwrite"),L=D.objectStore(w.DB_STORE_NAME),Q=0,pe=0,Ie=s.length;function Pe(){pe==0?a():c()}s.forEach(Te=>{var Fe=L.put(w.analyzePath(Te).object.contents,Te);Fe.onsuccess=()=>{Q++,Q+pe==Ie&&Pe()},Fe.onerror=()=>{pe++,Q+pe==Ie&&Pe()}}),D.onerror=c},g.onerror=c},loadFilesFromDB:(s,a=(()=>{}),c=(()=>{}))=>{var f=w.indexedDB();try{var g=f.open(w.DB_NAME(),w.DB_VERSION)}catch(b){return c(b)}g.onupgradeneeded=c,g.onsuccess=()=>{var b=g.result;try{var D=b.transaction([w.DB_STORE_NAME],"readonly")}catch(Te){c(Te);return}var L=D.objectStore(w.DB_STORE_NAME),Q=0,pe=0,Ie=s.length;function Pe(){pe==0?a():c()}s.forEach(Te=>{var Fe=L.get(Te);Fe.onsuccess=()=>{w.analyzePath(Te).exists&&w.unlink(Te),w.createDataFile(mt.dirname(Te),mt.basename(Te),Fe.result,!0,!0,!0),Q++,Q+pe==Ie&&Pe()},Fe.onerror=()=>{pe++,Q+pe==Ie&&Pe()}}),D.onerror=c},g.onerror=c}},nt={DEFAULT_POLLMASK:5,calculateAt:function(s,a,c){if(mt.isAbs(a))return a;var f;if(s===-100)f=w.cwd();else{var g=nt.getStreamFromFD(s);f=g.path}if(a.length==0){if(!c)throw new w.ErrnoError(44);return f}return mt.join2(f,a)},doStat:function(s,a,c){try{var f=s(a)}catch(L){if(L&&L.node&&mt.normalize(a)!==mt.normalize(w.getPath(L.node)))return-54;throw L}W[c>>>2]=f.dev,W[c+8>>>2]=f.ino,W[c+12>>>2]=f.mode,x[c+16>>>2]=f.nlink,W[c+20>>>2]=f.uid,W[c+24>>>2]=f.gid,W[c+28>>>2]=f.rdev,et=[f.size>>>0,(ze=f.size,+Math.abs(ze)>=1?ze>0?(Math.min(+Math.floor(ze/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ze-+(~~ze>>>0))/4294967296)>>>0:0)],W[c+40>>>2]=et[0],W[c+44>>>2]=et[1],W[c+48>>>2]=4096,W[c+52>>>2]=f.blocks;var g=f.atime.getTime(),b=f.mtime.getTime(),D=f.ctime.getTime();return et=[Math.floor(g/1e3)>>>0,(ze=Math.floor(g/1e3),+Math.abs(ze)>=1?ze>0?(Math.min(+Math.floor(ze/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ze-+(~~ze>>>0))/4294967296)>>>0:0)],W[c+56>>>2]=et[0],W[c+60>>>2]=et[1],x[c+64>>>2]=g%1e3*1e3,et=[Math.floor(b/1e3)>>>0,(ze=Math.floor(b/1e3),+Math.abs(ze)>=1?ze>0?(Math.min(+Math.floor(ze/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ze-+(~~ze>>>0))/4294967296)>>>0:0)],W[c+72>>>2]=et[0],W[c+76>>>2]=et[1],x[c+80>>>2]=b%1e3*1e3,et=[Math.floor(D/1e3)>>>0,(ze=Math.floor(D/1e3),+Math.abs(ze)>=1?ze>0?(Math.min(+Math.floor(ze/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ze-+(~~ze>>>0))/4294967296)>>>0:0)],W[c+88>>>2]=et[0],W[c+92>>>2]=et[1],x[c+96>>>2]=D%1e3*1e3,et=[f.ino>>>0,(ze=f.ino,+Math.abs(ze)>=1?ze>0?(Math.min(+Math.floor(ze/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ze-+(~~ze>>>0))/4294967296)>>>0:0)],W[c+104>>>2]=et[0],W[c+108>>>2]=et[1],0},doMsync:function(s,a,c,f,g){if(!w.isFile(a.node.mode))throw new w.ErrnoError(43);if(f&2)return 0;s>>>=0;var b=ve.slice(s,s+c);w.msync(a,b,g,c,f)},varargs:void 0,get:function(){nt.varargs+=4;var s=W[nt.varargs-4>>>2];return s},getStr:function(s){var a=Y(s);return a},getStreamFromFD:function(s){var a=w.getStream(s);if(!a)throw new w.ErrnoError(8);return a}};function bs(s){try{return s=nt.getStr(s),w.chdir(s),0}catch(a){if(typeof w>"u"||a.name!=="ErrnoError")throw a;return-a.errno}}function Es(s,a){try{return s=nt.getStr(s),w.chmod(s,a),0}catch(c){if(typeof w>"u"||c.name!=="ErrnoError")throw c;return-c.errno}}var Vt={mount:function(s){return r.websocket=r.websocket&&typeof r.websocket=="object"?r.websocket:{},r.websocket._callbacks={},r.websocket.on=function(a,c){return typeof c=="function"&&(this._callbacks[a]=c),this},r.websocket.emit=function(a,c){typeof this._callbacks[a]=="function"&&this._callbacks[a].call(this,c)},w.createNode(null,"/",16895,0)},createSocket:function(s,a,c){a&=-526337;var f=a==1;if(f&&c&&c!=6)throw new w.ErrnoError(66);var g={family:s,type:a,protocol:c,server:null,error:null,peers:{},pending:[],recv_queue:[],sock_ops:Vt.websocket_sock_ops},b=Vt.nextname(),D=w.createNode(Vt.root,b,49152,0);D.sock=g;var L=w.createStream({path:b,node:D,flags:2,seekable:!1,stream_ops:Vt.stream_ops});return g.stream=L,g},getSocket:function(s){var a=w.getStream(s);return!a||!w.isSocket(a.node.mode)?null:a.node.sock},stream_ops:{poll:function(s){var a=s.node.sock;return a.sock_ops.poll(a)},ioctl:function(s,a,c){var f=s.node.sock;return f.sock_ops.ioctl(f,a,c)},read:function(s,a,c,f,g){var b=s.node.sock,D=b.sock_ops.recvmsg(b,f);return D?(a.set(D.buffer,c),D.buffer.length):0},write:function(s,a,c,f,g){var b=s.node.sock;return b.sock_ops.sendmsg(b,a,c,f)},close:function(s){var a=s.node.sock;a.sock_ops.close(a)}},nextname:function(){return Vt.nextname.current||(Vt.nextname.current=0),"socket["+Vt.nextname.current+++"]"},websocket_sock_ops:{createPeer:function(s,a,c){var f;if(typeof a=="object"&&(f=a,a=null,c=null),f)if(f._socket)a=f._socket.remoteAddress,c=f._socket.remotePort;else{var g=/ws[s]?:\/\/([^:]+):(\d+)/.exec(f.url);if(!g)throw new Error("WebSocket URL must be in the format ws(s)://address:port");a=g[1],c=parseInt(g[2],10)}else try{var b=r.websocket&&typeof r.websocket=="object",D="ws:#".replace("#","//");if(b&&typeof r.websocket.url=="string"&&(D=r.websocket.url),D==="ws://"||D==="wss://"){var L=a.split("/");D=D+L[0]+":"+c+"/"+L.slice(1).join("/")}var Q="binary";b&&typeof r.websocket.subprotocol=="string"&&(Q=r.websocket.subprotocol);var pe=void 0;Q!=="null"&&(Q=Q.replace(/^ +| +$/g,"").split(/ *, */),pe=Q),b&&r.websocket.subprotocol===null&&(Q="null",pe=void 0);var Ie;Ie=WebSocket,f=new Ie(D,pe),f.binaryType="arraybuffer"}catch{throw new w.ErrnoError(23)}var Pe={addr:a,port:c,socket:f,dgram_send_queue:[]};return Vt.websocket_sock_ops.addPeer(s,Pe),Vt.websocket_sock_ops.handlePeerEvents(s,Pe),s.type===2&&typeof s.sport<"u"&&Pe.dgram_send_queue.push(new Uint8Array([255,255,255,255,112,111,114,116,(s.sport&65280)>>8,s.sport&255])),Pe},getPeer:function(s,a,c){return s.peers[a+":"+c]},addPeer:function(s,a){s.peers[a.addr+":"+a.port]=a},removePeer:function(s,a){delete s.peers[a.addr+":"+a.port]},handlePeerEvents:function(s,a){var c=!0,f=function(){r.websocket.emit("open",s.stream.fd);try{for(var b=a.dgram_send_queue.shift();b;)a.socket.send(b),b=a.dgram_send_queue.shift()}catch{a.socket.close()}};function g(b){if(typeof b=="string"){var D=new TextEncoder;b=D.encode(b)}else{if(ne(b.byteLength!==void 0),b.byteLength==0)return;b=new Uint8Array(b)}var L=c;if(c=!1,L&&b.length===10&&b[0]===255&&b[1]===255&&b[2]===255&&b[3]===255&&b[4]===112&&b[5]===111&&b[6]===114&&b[7]===116){var Q=b[8]<<8|b[9];Vt.websocket_sock_ops.removePeer(s,a),a.port=Q,Vt.websocket_sock_ops.addPeer(s,a);return}s.recv_queue.push({addr:a.addr,port:a.port,data:b}),r.websocket.emit("message",s.stream.fd)}m?(a.socket.on("open",f),a.socket.on("message",function(b,D){D&&g(new Uint8Array(b).buffer)}),a.socket.on("close",function(){r.websocket.emit("close",s.stream.fd)}),a.socket.on("error",function(b){s.error=14,r.websocket.emit("error",[s.stream.fd,s.error,"ECONNREFUSED: Connection refused"])})):(a.socket.onopen=f,a.socket.onclose=function(){r.websocket.emit("close",s.stream.fd)},a.socket.onmessage=function(D){g(D.data)},a.socket.onerror=function(b){s.error=14,r.websocket.emit("error",[s.stream.fd,s.error,"ECONNREFUSED: Connection refused"])})},poll:function(s){if(s.type===1&&s.server)return s.pending.length?65:0;var a=0,c=s.type===1?Vt.websocket_sock_ops.getPeer(s,s.daddr,s.dport):null;return(s.recv_queue.length||!c||c&&c.socket.readyState===c.socket.CLOSING||c&&c.socket.readyState===c.socket.CLOSED)&&(a|=65),(!c||c&&c.socket.readyState===c.socket.OPEN)&&(a|=4),(c&&c.socket.readyState===c.socket.CLOSING||c&&c.socket.readyState===c.socket.CLOSED)&&(a|=16),a},ioctl:function(s,a,c){if(a===21531){var f=0;return s.recv_queue.length&&(f=s.recv_queue[0].data.length),W[c>>>2]=f,0}else return 28},close:function(s){if(s.server){try{s.server.close()}catch{}s.server=null}for(var a=Object.keys(s.peers),c=0;c<a.length;c++){var f=s.peers[a[c]];try{f.socket.close()}catch{}Vt.websocket_sock_ops.removePeer(s,f)}return 0},bind:function(s,a,c){if(typeof s.saddr<"u"||typeof s.sport<"u")throw new w.ErrnoError(28);if(s.saddr=a,s.sport=c,s.type===2){s.server&&(s.server.close(),s.server=null);try{s.sock_ops.listen(s,0)}catch(f){if(f.name!=="ErrnoError"||f.errno!==138)throw f}}},connect:function(s,a,c){if(s.server)throw new w.ErrnoError(138);if(typeof s.daddr<"u"&&typeof s.dport<"u"){var f=Vt.websocket_sock_ops.getPeer(s,s.daddr,s.dport);if(f)throw f.socket.readyState===f.socket.CONNECTING?new w.ErrnoError(7):new w.ErrnoError(30)}var g=Vt.websocket_sock_ops.createPeer(s,a,c);throw s.daddr=g.addr,s.dport=g.port,new w.ErrnoError(26)},listen:function(s,a){if(!m)throw new w.ErrnoError(138)},accept:function(s){if(!s.server||!s.pending.length)throw new w.ErrnoError(28);var a=s.pending.shift();return a.stream.flags=s.stream.flags,a},getname:function(s,a){var c,f;if(a){if(s.daddr===void 0||s.dport===void 0)throw new w.ErrnoError(53);c=s.daddr,f=s.dport}else c=s.saddr||0,f=s.sport||0;return{addr:c,port:f}},sendmsg:function(s,a,c,f,g,b){if(s.type===2){if((g===void 0||b===void 0)&&(g=s.daddr,b=s.dport),g===void 0||b===void 0)throw new w.ErrnoError(17)}else g=s.daddr,b=s.dport;var D=Vt.websocket_sock_ops.getPeer(s,g,b);if(s.type===1){if(!D||D.socket.readyState===D.socket.CLOSING||D.socket.readyState===D.socket.CLOSED)throw new w.ErrnoError(53);if(D.socket.readyState===D.socket.CONNECTING)throw new w.ErrnoError(6)}ArrayBuffer.isView(a)&&(c+=a.byteOffset,a=a.buffer);var L;if(L=a.slice(c,c+f),s.type===2&&(!D||D.socket.readyState!==D.socket.OPEN))return(!D||D.socket.readyState===D.socket.CLOSING||D.socket.readyState===D.socket.CLOSED)&&(D=Vt.websocket_sock_ops.createPeer(s,g,b)),D.dgram_send_queue.push(L),f;try{return D.socket.send(L),f}catch{throw new w.ErrnoError(28)}},recvmsg:function(s,a){if(s.type===1&&s.server)throw new w.ErrnoError(53);var c=s.recv_queue.shift();if(!c){if(s.type===1){var f=Vt.websocket_sock_ops.getPeer(s,s.daddr,s.dport);if(!f)throw new w.ErrnoError(53);if(f.socket.readyState===f.socket.CLOSING||f.socket.readyState===f.socket.CLOSED)return null;throw new w.ErrnoError(6)}throw new w.ErrnoError(6)}var g=c.data.byteLength||c.data.length,b=c.data.byteOffset||0,D=c.data.buffer||c.data,L=Math.min(a,g),Q={buffer:new Uint8Array(D,b,L),addr:c.addr,port:c.port};if(s.type===1&&L<g){var pe=g-L;c.data=new Uint8Array(D,b+L,pe),s.recv_queue.unshift(c)}return Q}}};function ji(s){var a=Vt.getSocket(s);if(!a)throw new w.ErrnoError(8);return a}function Nn(s){return W[du()>>>2]=s,s}function Tn(s){return(s&255)+"."+(s>>8&255)+"."+(s>>16&255)+"."+(s>>24&255)}function vs(s){var a="",c=0,f=0,g=0,b=0,D=0,L=0,Q=[s[0]&65535,s[0]>>16,s[1]&65535,s[1]>>16,s[2]&65535,s[2]>>16,s[3]&65535,s[3]>>16],pe=!0,Ie="";for(L=0;L<5;L++)if(Q[L]!==0){pe=!1;break}if(pe){if(Ie=Tn(Q[6]|Q[7]<<16),Q[5]===-1)return a="::ffff:",a+=Ie,a;if(Q[5]===0)return a="::",Ie==="0.0.0.0"&&(Ie=""),Ie==="0.0.0.1"&&(Ie="1"),a+=Ie,a}for(c=0;c<8;c++)Q[c]===0&&(c-g>1&&(D=0),g=c,D++),D>f&&(f=D,b=c-f+1);for(c=0;c<8;c++){if(f>1&&Q[c]===0&&c>=b&&c<b+f){c===b&&(a+=":",b===0&&(a+=":"));continue}a+=Number(Qa(Q[c]&65535)).toString(16),a+=c<7?":":""}return a}function Ss(s,a){var c=We[s>>>1],f=Qa(_e[s+2>>>1]),g;switch(c){case 2:if(a!==16)return{errno:28};g=W[s+4>>>2],g=Tn(g);break;case 10:if(a!==28)return{errno:28};g=[W[s+8>>>2],W[s+12>>>2],W[s+16>>>2],W[s+20>>>2]],g=vs(g);break;default:return{errno:5}}return{family:c,addr:g,port:f}}function ke(s){for(var a=s.split("."),c=0;c<4;c++){var f=Number(a[c]);if(isNaN(f))return null;a[c]=f}return(a[0]|a[1]<<8|a[2]<<16|a[3]<<24)>>>0}function K(s){return parseInt(s)}function Ve(s){var a,c,f,g,b=/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i,D=[];if(!b.test(s))return null;if(s==="::")return[0,0,0,0,0,0,0,0];for(s.startsWith("::")?s=s.replace("::","Z:"):s=s.replace("::",":Z:"),s.indexOf(".")>0?(s=s.replace(new RegExp("[.]","g"),":"),a=s.split(":"),a[a.length-4]=K(a[a.length-4])+K(a[a.length-3])*256,a[a.length-3]=K(a[a.length-2])+K(a[a.length-1])*256,a=a.slice(0,a.length-2)):a=s.split(":"),f=0,g=0,c=0;c<a.length;c++)if(typeof a[c]=="string")if(a[c]==="Z"){for(g=0;g<8-a.length+1;g++)D[c+g]=0;f=g-1}else D[c+f]=As(parseInt(a[c],16));else D[c+f]=a[c];return[D[1]<<16|D[0],D[3]<<16|D[2],D[5]<<16|D[4],D[7]<<16|D[6]]}var Sr={address_map:{id:1,addrs:{},names:{}},lookup_name:function(s){var a=ke(s);if(a!==null||(a=Ve(s),a!==null))return s;var c;if(Sr.address_map.addrs[s])c=Sr.address_map.addrs[s];else{var f=Sr.address_map.id++;ne(f<65535,"exceeded max address mappings of 65535"),c="172.29."+(f&255)+"."+(f&65280),Sr.address_map.names[c]=s,Sr.address_map.addrs[s]=c}return c},lookup_addr:function(s){return Sr.address_map.names[s]?Sr.address_map.names[s]:null}};function eu(s,a,c){if(c&&s===0)return null;var f=Ss(s,a);if(f.errno)throw new w.ErrnoError(f.errno);return f.addr=Sr.lookup_addr(f.addr)||f.addr,f}function j_(s,a,c){try{var f=ji(s),g=eu(a,c);return f.sock_ops.connect(f,g.addr,g.port),0}catch(b){if(typeof w>"u"||b.name!=="ErrnoError")throw b;return-b.errno}}function W_(s,a,c,f){try{if(a=nt.getStr(a),a=nt.calculateAt(s,a),c&-8)return-28;var g=w.lookupPath(a,{follow:!0}),b=g.node;if(!b)return-44;var D="";return c&4&&(D+="r"),c&2&&(D+="w"),c&1&&(D+="x"),D&&w.nodePermissions(b,D)?-2:0}catch(L){if(typeof w>"u"||L.name!=="ErrnoError")throw L;return-L.errno}}function $_(s,a){try{return w.fchmod(s,a),0}catch(c){if(typeof w>"u"||c.name!=="ErrnoError")throw c;return-c.errno}}function V_(s,a,c){nt.varargs=c;try{var f=nt.getStreamFromFD(s);switch(a){case 0:{var g=nt.get();if(g<0)return-28;var b;return b=w.createStream(f,g),b.fd}case 1:case 2:return 0;case 3:return f.flags;case 4:{var g=nt.get();return f.flags|=g,0}case 5:{var g=nt.get(),D=0;return We[g+D>>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return Nn(28),-1;default:return-28}}catch(L){if(typeof w>"u"||L.name!=="ErrnoError")throw L;return-L.errno}}function G_(s,a){try{var c=nt.getStreamFromFD(s);return nt.doStat(w.stat,c.path,a)}catch(f){if(typeof w>"u"||f.name!=="ErrnoError")throw f;return-f.errno}}function q_(s,a,c){try{return s=nt.getStr(s),W[c+4>>>2]=4096,W[c+40>>>2]=4096,W[c+8>>>2]=1e6,W[c+12>>>2]=5e5,W[c+16>>>2]=5e5,W[c+20>>>2]=w.nextInode,W[c+24>>>2]=1e6,W[c+28>>>2]=42,W[c+44>>>2]=2,W[c+36>>>2]=255,0}catch(f){if(typeof w>"u"||f.name!=="ErrnoError")throw f;return-f.errno}}function H_(s,a,c){try{var f=nt.getStreamFromFD(s);return q_(0,a,c)}catch(g){if(typeof w>"u"||g.name!=="ErrnoError")throw g;return-g.errno}}function Y_(s,a){try{if(a===0)return-28;var c=w.cwd(),f=J(c)+1;return a<f?-68:(G(c,s,a),f)}catch(g){if(typeof w>"u"||g.name!=="ErrnoError")throw g;return-g.errno}}function K_(s,a,c){try{var f=nt.getStreamFromFD(s);f.getdents||(f.getdents=w.readdir(f.path));for(var g=280,b=0,D=w.llseek(f,0,1),L=Math.floor(D/g);L<f.getdents.length&&b+g<=c;){var Q,pe,Ie=f.getdents[L];if(Ie===".")Q=f.node.id,pe=4;else if(Ie===".."){var Pe=w.lookupPath(f.path,{parent:!0});Q=Pe.node.id,pe=4}else{var Te=w.lookupNode(f.node,Ie);Q=Te.id,pe=w.isChrdev(Te.mode)?2:w.isDir(Te.mode)?4:w.isLink(Te.mode)?10:8}et=[Q>>>0,(ze=Q,+Math.abs(ze)>=1?ze>0?(Math.min(+Math.floor(ze/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ze-+(~~ze>>>0))/4294967296)>>>0:0)],W[a+b>>>2]=et[0],W[a+b+4>>>2]=et[1],et=[(L+1)*g>>>0,(ze=(L+1)*g,+Math.abs(ze)>=1?ze>0?(Math.min(+Math.floor(ze/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ze-+(~~ze>>>0))/4294967296)>>>0:0)],W[a+b+8>>>2]=et[0],W[a+b+12>>>2]=et[1],We[a+b+16>>>1]=280,re[a+b+18>>>0]=pe,G(Ie,a+b+19,256),b+=g,L+=1}return w.llseek(f,L*g,0),b}catch(Fe){if(typeof w>"u"||Fe.name!=="ErrnoError")throw Fe;return-Fe.errno}}function X_(s,a,c,f,g){try{var b=ji(s);return a===1&&c===4?(W[f>>>2]=b.error,W[g>>>2]=4,b.error=null,0):-50}catch(D){if(typeof w>"u"||D.name!=="ErrnoError")throw D;return-D.errno}}function J_(s,a,c){nt.varargs=c;try{var f=nt.getStreamFromFD(s);switch(a){case 21509:case 21505:return f.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return f.tty?0:-59;case 21519:{if(!f.tty)return-59;var g=nt.get();return W[g>>>2]=0,0}case 21520:return f.tty?-28:-59;case 21531:{var g=nt.get();return w.ioctl(f,a,g)}case 21523:return f.tty?0:-59;case 21524:return f.tty?0:-59;default:return-28}}catch(b){if(typeof w>"u"||b.name!=="ErrnoError")throw b;return-b.errno}}function Z_(s,a){try{return s=nt.getStr(s),nt.doStat(w.lstat,s,a)}catch(c){if(typeof w>"u"||c.name!=="ErrnoError")throw c;return-c.errno}}function Q_(s,a,c){try{return a=nt.getStr(a),a=nt.calculateAt(s,a),a=mt.normalize(a),a[a.length-1]==="/"&&(a=a.substr(0,a.length-1)),w.mkdir(a,c,0),0}catch(f){if(typeof w>"u"||f.name!=="ErrnoError")throw f;return-f.errno}}function em(s,a,c,f){try{a=nt.getStr(a);var g=f&256,b=f&4096;return f=f&-6401,a=nt.calculateAt(s,a,b),nt.doStat(g?w.lstat:w.stat,a,c)}catch(D){if(typeof w>"u"||D.name!=="ErrnoError")throw D;return-D.errno}}function tm(s,a,c,f){nt.varargs=f;try{a=nt.getStr(a),a=nt.calculateAt(s,a);var g=f?nt.get():0;return w.open(a,c,g).fd}catch(b){if(typeof w>"u"||b.name!=="ErrnoError")throw b;return-b.errno}}function rm(s,a,c){try{for(var f=0,g=0;g<a;g++){var b=s+8*g,D=W[b>>>2],L=We[b+4>>>1],Q=32,pe=w.getStream(D);pe&&(Q=nt.DEFAULT_POLLMASK,pe.stream_ops.poll&&(Q=pe.stream_ops.poll(pe))),Q&=L|8|16,Q&&f++,We[b+6>>>1]=Q}return f}catch(Ie){if(typeof w>"u"||Ie.name!=="ErrnoError")throw Ie;return-Ie.errno}}function im(s,a,c,f){try{if(a=nt.getStr(a),a=nt.calculateAt(s,a),f<=0)return-28;var g=w.readlink(a),b=Math.min(f,J(g)),D=re[c+b>>>0];return G(g,c,f+1),re[c+b>>>0]=D,b}catch(L){if(typeof w>"u"||L.name!=="ErrnoError")throw L;return-L.errno}}function nm(s,a,c,f,g){switch(a){case 2:c=ke(c),cn(s,16),g&&(W[g>>>2]=16),We[s>>>1]=a,W[s+4>>>2]=c,We[s+2>>>1]=As(f);break;case 10:c=Ve(c),cn(s,28),g&&(W[g>>>2]=28),W[s>>>2]=a,W[s+8>>>2]=c[0],W[s+12>>>2]=c[1],W[s+16>>>2]=c[2],W[s+20>>>2]=c[3],We[s+2>>>1]=As(f);break;default:return 5}return 0}function sm(s,a,c,f,g,b){try{var D=ji(s),L=D.sock_ops.recvmsg(D,c);if(!L)return 0;if(g)var Q=nm(g,D.family,Sr.lookup_name(L.addr),L.port,b);return ve.set(L.buffer,a>>>0),L.buffer.byteLength}catch(pe){if(typeof w>"u"||pe.name!=="ErrnoError")throw pe;return-pe.errno}}function am(s,a,c,f){try{return a=nt.getStr(a),f=nt.getStr(f),a=nt.calculateAt(s,a),f=nt.calculateAt(c,f),w.rename(a,f),0}catch(g){if(typeof w>"u"||g.name!=="ErrnoError")throw g;return-g.errno}}function om(s){try{return s=nt.getStr(s),w.rmdir(s),0}catch(a){if(typeof w>"u"||a.name!=="ErrnoError")throw a;return-a.errno}}function cm(s,a,c,f,g,b){try{var D=ji(s),L=eu(g,b,!0);return L?D.sock_ops.sendmsg(D,re,a,c,L.addr,L.port):w.write(D.stream,re,a,c)}catch(Q){if(typeof w>"u"||Q.name!=="ErrnoError")throw Q;return-Q.errno}}function lm(s,a,c){try{var f=Vt.createSocket(s,a,c);return f.stream.fd}catch(g){if(typeof w>"u"||g.name!=="ErrnoError")throw g;return-g.errno}}function um(s,a){try{return s=nt.getStr(s),nt.doStat(w.stat,s,a)}catch(c){if(typeof w>"u"||c.name!=="ErrnoError")throw c;return-c.errno}}function fm(s,a){try{return s=nt.getStr(s),a=nt.getStr(a),w.symlink(s,a),0}catch(c){if(typeof w>"u"||c.name!=="ErrnoError")throw c;return-c.errno}}function dm(s,a,c){try{return a=nt.getStr(a),a=nt.calculateAt(s,a),c===0?w.unlink(a):c===512?w.rmdir(a):rt("Invalid flags passed to unlinkat"),0}catch(f){if(typeof w>"u"||f.name!=="ErrnoError")throw f;return-f.errno}}var hm=!0;function _m(){return hm}function mm(){throw 1/0}function ym(s){return x[s>>>2]+W[s+4>>>2]*4294967296}function xn(s){return s%4===0&&(s%100!==0||s%400===0)}var pm=[0,31,60,91,121,152,182,213,244,274,305,335],gm=[0,31,59,90,120,151,181,212,243,273,304,334];function tu(s){var a=xn(s.getFullYear()),c=a?pm:gm,f=c[s.getMonth()]+s.getDate()-1;return f}function wm(s,a){var c=new Date(ym(s)*1e3);W[a>>>2]=c.getSeconds(),W[a+4>>>2]=c.getMinutes(),W[a+8>>>2]=c.getHours(),W[a+12>>>2]=c.getDate(),W[a+16>>>2]=c.getMonth(),W[a+20>>>2]=c.getFullYear()-1900,W[a+24>>>2]=c.getDay();var f=tu(c)|0;W[a+28>>>2]=f,W[a+36>>>2]=-(c.getTimezoneOffset()*60);var g=new Date(c.getFullYear(),0,1),b=new Date(c.getFullYear(),6,1).getTimezoneOffset(),D=g.getTimezoneOffset(),L=(b!=D&&c.getTimezoneOffset()==Math.min(D,b))|0;W[a+32>>>2]=L}function bm(s){var a=new Date(W[s+20>>>2]+1900,W[s+16>>>2],W[s+12>>>2],W[s+8>>>2],W[s+4>>>2],W[s>>>2],0),c=W[s+32>>>2],f=a.getTimezoneOffset(),g=new Date(a.getFullYear(),0,1),b=new Date(a.getFullYear(),6,1).getTimezoneOffset(),D=g.getTimezoneOffset(),L=Math.min(D,b);if(c<0)W[s+32>>>2]=+(b!=D&&L==f);else if(c>0!=(L==f)){var Q=Math.max(D,b),pe=c>0?L:Q;a.setTime(a.getTime()+(pe-f)*6e4)}W[s+24>>>2]=a.getDay();var Ie=tu(a)|0;return W[s+28>>>2]=Ie,W[s>>>2]=a.getSeconds(),W[s+4>>>2]=a.getMinutes(),W[s+8>>>2]=a.getHours(),W[s+12>>>2]=a.getDate(),W[s+16>>>2]=a.getMonth(),W[s+20>>>2]=a.getYear(),a.getTime()/1e3|0}function Em(s,a,c,f,g,b,D){try{var L=nt.getStreamFromFD(f),Q=w.mmap(L,s,g,a,c),pe=Q.ptr;return W[b>>>2]=Q.allocated,pe>>>=0,x[D>>>2]=pe,0}catch(Ie){if(typeof w>"u"||Ie.name!=="ErrnoError")throw Ie;return-Ie.errno}}function vm(s,a,c,f,g,b){try{var D=nt.getStreamFromFD(g);c&2&&nt.doMsync(s,D,a,f,b),w.munmap(D)}catch(L){if(typeof w>"u"||L.name!=="ErrnoError")throw L;return-L.errno}}function Sm(s){if(s instanceof Ae||s=="unwind")return ae;p(1,s)}function km(s){ae=s,ye()||(r.onExit&&r.onExit(s),V=!0),p(s,new Ae(s))}function ru(s,a){ae=s,ye()||$(),km(s)}var Im=ru,iu;iu=()=>performance.now();function nu(s){var a=J(s)+1,c=ln(a);return c&&me(s,re,c,a),c}function Om(s,a,c){var f=new Date().getFullYear(),g=new Date(f,0,1),b=new Date(f,6,1),D=g.getTimezoneOffset(),L=b.getTimezoneOffset(),Q=Math.max(D,L);x[s>>>2]=Q*60,W[a>>>2]=+(D!=L);function pe(tt){var vt=tt.toTimeString().match(/\(([A-Za-z ]+)\)$/);return vt?vt[1]:"GMT"}var Ie=pe(g),Pe=pe(b),Te=nu(Ie),Fe=nu(Pe);L<D?(x[c>>>2]=Te,x[c+4>>>2]=Fe):(x[c>>>2]=Fe,x[c+4>>>2]=Te)}function Am(){rt("")}function Dm(){return Date.now()}function su(){return 4294901760}function Nm(){return su()}function Tm(s,a,c){ve.copyWithin(s>>>0,a>>>0,a+c>>>0)}function xm(s){var a=R.buffer;try{return R.grow(s-a.byteLength+65535>>>16),X(),1}catch{}}function Rm(s){var a=ve.length;s=s>>>0;var c=su();if(s>c)return!1;let f=(Q,pe)=>Q+(pe-Q%pe)%pe;for(var g=1;g<=4;g*=2){var b=a*(1+.2/g);b=Math.min(b,s+100663296);var D=Math.min(c,f(Math.max(s,b),65536)),L=xm(D);if(L)return!0}return!1}var ks={};function zm(){return l||"./this.program"}function Rn(){if(!Rn.strings){var s=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:s,_:zm()};for(var c in ks)ks[c]===void 0?delete a[c]:a[c]=ks[c];var f=[];for(var c in a)f.push(c+"="+a[c]);Rn.strings=f}return Rn.strings}function Lm(s,a,c){for(var f=0;f<s.length;++f)re[a++>>>0]=s.charCodeAt(f);re[a>>>0]=0}function Mm(s,a){var c=0;return Rn().forEach(function(f,g){var b=a+c;x[s+g*4>>>2]=b,Lm(f,b),c+=f.length+1}),0}function Cm(s,a){var c=Rn();x[s>>>2]=c.length;var f=0;return c.forEach(function(g){f+=g.length+1}),x[a>>>2]=f,0}function Pm(s){try{var a=nt.getStreamFromFD(s);return w.close(a),0}catch(c){if(typeof w>"u"||c.name!=="ErrnoError")throw c;return c.errno}}function Bm(s,a){try{var c=nt.getStreamFromFD(s),f=c.tty?2:w.isDir(c.mode)?3:w.isLink(c.mode)?7:4;return re[a>>>0]=f,0}catch(g){if(typeof w>"u"||g.name!=="ErrnoError")throw g;return g.errno}}function Fm(s,a,c,f){for(var g=0,b=0;b<c;b++){var D=x[a>>>2],L=x[a+4>>>2];a+=8;var Q=w.read(s,re,D,L,f);if(Q<0)return-1;if(g+=Q,Q<L)break}return g}function Um(s,a,c,f){try{var g=nt.getStreamFromFD(s),b=Fm(g,a,c);return x[f>>>2]=b,0}catch(D){if(typeof w>"u"||D.name!=="ErrnoError")throw D;return D.errno}}function jm(s,a){return a+2097152>>>0<4194305-!!s?(s>>>0)+a*4294967296:NaN}function Wm(s,a,c,f,g){try{var b=jm(a,c);if(isNaN(b))return 61;var D=nt.getStreamFromFD(s);return w.llseek(D,b,f),et=[D.position>>>0,(ze=D.position,+Math.abs(ze)>=1?ze>0?(Math.min(+Math.floor(ze/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ze-+(~~ze>>>0))/4294967296)>>>0:0)],W[g>>>2]=et[0],W[g+4>>>2]=et[1],D.getdents&&b===0&&f===0&&(D.getdents=null),0}catch(L){if(typeof w>"u"||L.name!=="ErrnoError")throw L;return L.errno}}function $m(s,a,c,f){for(var g=0,b=0;b<c;b++){var D=x[a>>>2],L=x[a+4>>>2];a+=8;var Q=w.write(s,re,D,L,f);if(Q<0)return-1;g+=Q}return g}function Vm(s,a,c,f){try{var g=nt.getStreamFromFD(s),b=$m(g,a,c);return x[f>>>2]=b,0}catch(D){if(typeof w>"u"||D.name!=="ErrnoError")throw D;return D.errno}}function Gm(s){var a=ln(20),c=ln(s.length+1);G(s,c,s.length+1),x[a>>>2]=c;var f=ln(4);x[f>>>2]=0,x[a+4>>>2]=f;var g=2;W[a+8>>>2]=g,W[a+12>>>2]=4;var b=ln(12);return x[b>>>2]=b+8,x[b+4>>>2]=0,W[b+8>>>2]=ke(Sr.lookup_name(s)),x[a+16>>>2]=b,a}function qm(s){return Gm(Y(s))}function Hm(s){return s}function Ym(s,a){for(var c=0,f=0;f<=a;c+=s[f++]);return c}var au=[31,29,31,30,31,30,31,31,30,31,30,31],ou=[31,28,31,30,31,30,31,31,30,31,30,31];function Km(s,a){for(var c=new Date(s.getTime());a>0;){var f=xn(c.getFullYear()),g=c.getMonth(),b=(f?au:ou)[g];if(a>b-c.getDate())a-=b-c.getDate()+1,c.setDate(1),g<11?c.setMonth(g+1):(c.setMonth(0),c.setFullYear(c.getFullYear()+1));else return c.setDate(c.getDate()+a),c}return c}function Xm(s,a){re.set(s,a>>>0)}function Jm(s,a,c,f){var g=W[f+40>>>2],b={tm_sec:W[f>>>2],tm_min:W[f+4>>>2],tm_hour:W[f+8>>>2],tm_mday:W[f+12>>>2],tm_mon:W[f+16>>>2],tm_year:W[f+20>>>2],tm_wday:W[f+24>>>2],tm_yday:W[f+28>>>2],tm_isdst:W[f+32>>>2],tm_gmtoff:W[f+36>>>2],tm_zone:g?Y(g):""},D=Y(c),L={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Q in L)D=D.replace(new RegExp(Q,"g"),L[Q]);var pe=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Ie=["January","February","March","April","May","June","July","August","September","October","November","December"];function Pe(De,it,or){for(var Gt=typeof De=="number"?De.toString():De||"";Gt.length<it;)Gt=or[0]+Gt;return Gt}function Te(De,it){return Pe(De,it,"0")}function Fe(De,it){function or($r){return $r<0?-1:$r>0?1:0}var Gt;return(Gt=or(De.getFullYear()-it.getFullYear()))===0&&(Gt=or(De.getMonth()-it.getMonth()))===0&&(Gt=or(De.getDate()-it.getDate())),Gt}function tt(De){switch(De.getDay()){case 0:return new Date(De.getFullYear()-1,11,29);case 1:return De;case 2:return new Date(De.getFullYear(),0,3);case 3:return new Date(De.getFullYear(),0,2);case 4:return new Date(De.getFullYear(),0,1);case 5:return new Date(De.getFullYear()-1,11,31);case 6:return new Date(De.getFullYear()-1,11,30)}}function vt(De){var it=Km(new Date(De.tm_year+1900,0,1),De.tm_yday),or=new Date(it.getFullYear(),0,4),Gt=new Date(it.getFullYear()+1,0,4),$r=tt(or),rr=tt(Gt);return Fe($r,it)<=0?Fe(rr,it)<=0?it.getFullYear()+1:it.getFullYear():it.getFullYear()-1}var zt={"%a":function(De){return pe[De.tm_wday].substring(0,3)},"%A":function(De){return pe[De.tm_wday]},"%b":function(De){return Ie[De.tm_mon].substring(0,3)},"%B":function(De){return Ie[De.tm_mon]},"%C":function(De){var it=De.tm_year+1900;return Te(it/100|0,2)},"%d":function(De){return Te(De.tm_mday,2)},"%e":function(De){return Pe(De.tm_mday,2," ")},"%g":function(De){return vt(De).toString().substring(2)},"%G":function(De){return vt(De)},"%H":function(De){return Te(De.tm_hour,2)},"%I":function(De){var it=De.tm_hour;return it==0?it=12:it>12&&(it-=12),Te(it,2)},"%j":function(De){return Te(De.tm_mday+Ym(xn(De.tm_year+1900)?au:ou,De.tm_mon-1),3)},"%m":function(De){return Te(De.tm_mon+1,2)},"%M":function(De){return Te(De.tm_min,2)},"%n":function(){return`
`},"%p":function(De){return De.tm_hour>=0&&De.tm_hour<12?"AM":"PM"},"%S":function(De){return Te(De.tm_sec,2)},"%t":function(){return"	"},"%u":function(De){return De.tm_wday||7},"%U":function(De){var it=De.tm_yday+7-De.tm_wday;return Te(Math.floor(it/7),2)},"%V":function(De){var it=Math.floor((De.tm_yday+7-(De.tm_wday+6)%7)/7);if((De.tm_wday+371-De.tm_yday-2)%7<=2&&it++,it){if(it==53){var Gt=(De.tm_wday+371-De.tm_yday)%7;Gt!=4&&(Gt!=3||!xn(De.tm_year))&&(it=1)}}else{it=52;var or=(De.tm_wday+7-De.tm_yday-1)%7;(or==4||or==5&&xn(De.tm_year%400-1))&&it++}return Te(it,2)},"%w":function(De){return De.tm_wday},"%W":function(De){var it=De.tm_yday+7-(De.tm_wday+6)%7;return Te(Math.floor(it/7),2)},"%y":function(De){return(De.tm_year+1900).toString().substring(2)},"%Y":function(De){return De.tm_year+1900},"%z":function(De){var it=De.tm_gmtoff,or=it>=0;return it=Math.abs(it)/60,it=it/60*100+it%60,(or?"+":"-")+("0000"+it).slice(-4)},"%Z":function(De){return De.tm_zone},"%%":function(){return"%"}};D=D.replace(/%%/g,"\0\0");for(var Q in zt)D.includes(Q)&&(D=D.replace(new RegExp(Q,"g"),zt[Q](b)));D=D.replace(/\0\0/g,"%");var Mt=Ui(D,!1);return Mt.length>a?0:(Xm(Mt,s),Mt.length-1)}function Zm(s,a,c,f,g){return Jm(s,a,c,f)}function Qm(s){return s?(Nn(52),-1):0}function ey(s){var a=J(s)+1,c=eo(a);return me(s,re,c,a),c}var cu={},lu=function(s,a,c,f){s||(s=this),this.parent=s,this.mount=s.mount,this.mounted=null,this.id=w.nextInode++,this.name=a,this.mode=c,this.node_ops={},this.stream_ops={},this.rdev=f},Is=365,Os=146;Object.defineProperties(lu.prototype,{read:{get:function(){return(this.mode&Is)===Is},set:function(s){s?this.mode|=Is:this.mode&=~Is}},write:{get:function(){return(this.mode&Os)===Os},set:function(s){s?this.mode|=Os:this.mode&=~Os}},isFolder:{get:function(){return w.isDir(this.mode)}},isDevice:{get:function(){return w.isChrdev(this.mode)}}}),w.FSNode=lu,w.staticInit(),cu={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135};var ty={R:ot,za:Be,o:M,qb:F,rb:Ze,w:fr,a:Pi,j:on,p:Bi,D:Fi,ga:vi,v:Si,L:ki,e:Ci,Oa:bs,ka:Es,pb:j_,Pa:W_,Ka:$_,Q:V_,ja:G_,xb:H_,Ga:Y_,ya:K_,ob:X_,Qa:J_,Ha:Z_,Fa:Q_,Ia:em,$:tm,Aa:rm,zb:im,nb:sm,yb:am,wa:om,mb:cm,lb:lm,Ja:um,wb:fm,xa:dm,Ma:_m,sb:mm,Da:wm,Ea:bm,Ba:Em,Ca:vm,ub:Om,H:Am,ia:Dm,vb:Nm,La:iu,Na:Tm,tb:Rm,Ra:Mm,Sa:Cm,P:Im,T:Pm,ha:Bm,la:Um,bb:Wm,aa:Vm,Ta:qm,B:Py,U:By,ua:np,va:ip,z:_y,Za:Fy,c:sy,q:py,G:Hy,ea:Uy,Ya:qy,ba:Jy,O:Zy,f:iy,pa:jy,h:ay,k:ly,S:Wy,r:hy,t:my,u:yy,F:Ty,M:oy,ra:xy,W:Dy,I:Oy,V:Ny,sa:ky,$a:yp,kb:ap,db:hp,ab:mp,ib:cp,jb:op,fb:fp,gb:up,l:fy,da:Vy,b:cy,A:gy,na:Gy,oa:$y,d:ny,ca:Ky,Va:ep,X:Yy,ta:by,g:ry,Ua:rp,Z:Qy,i:uy,K:zy,n:dy,ma:tp,m:Ey,_a:My,x:Sy,y:wy,Y:Ly,J:vy,E:Ay,C:Iy,Wa:Xy,_:sp,qa:Cy,fa:Ry,eb:dp,hb:lp,cb:_p,s:Hm,N:Zm,Xa:Qm};wt();var uu=function(){return(uu=r.asm.Cb).apply(null,arguments)},fu=r._main=function(){return(fu=r._main=r.asm.Eb).apply(null,arguments)},du=function(){return(du=r.asm.Fb).apply(null,arguments)},ln=function(){return(ln=r.asm.Gb).apply(null,arguments)},zn=function(){return(zn=r.asm.Hb).apply(null,arguments)},hu=r._fflush=function(){return(hu=r._fflush=r.asm.Ib).apply(null,arguments)},As=function(){return(As=r.asm.Jb).apply(null,arguments)},_u=function(){return(_u=r.asm.Kb).apply(null,arguments)},mu=function(){return(mu=r.asm.Lb).apply(null,arguments)},Qa=function(){return(Qa=r.asm.Mb).apply(null,arguments)},Ye=function(){return(Ye=r.asm.Nb).apply(null,arguments)},Ke=function(){return(Ke=r.asm.Ob).apply(null,arguments)},Xe=function(){return(Xe=r.asm.Pb).apply(null,arguments)},eo=function(){return(eo=r.asm.Qb).apply(null,arguments)},yu=function(){return(yu=r.asm.Rb).apply(null,arguments)},pu=function(){return(pu=r.asm.Sb).apply(null,arguments)},gu=r.dynCall_iij=function(){return(gu=r.dynCall_iij=r.asm.Tb).apply(null,arguments)},wu=r.dynCall_viijii=function(){return(wu=r.dynCall_viijii=r.asm.Ub).apply(null,arguments)},bu=r.dynCall_jii=function(){return(bu=r.dynCall_jii=r.asm.Vb).apply(null,arguments)},Eu=r.dynCall_ji=function(){return(Eu=r.dynCall_ji=r.asm.Wb).apply(null,arguments)},vu=r.dynCall_vij=function(){return(vu=r.dynCall_vij=r.asm.Xb).apply(null,arguments)},Su=r.dynCall_jiiii=function(){return(Su=r.dynCall_jiiii=r.asm.Yb).apply(null,arguments)},ku=r.dynCall_jiii=function(){return(ku=r.dynCall_jiii=r.asm.Zb).apply(null,arguments)},Iu=r.dynCall_iiji=function(){return(Iu=r.dynCall_iiji=r.asm._b).apply(null,arguments)},Ou=r.dynCall_viji=function(){return(Ou=r.dynCall_viji=r.asm.$b).apply(null,arguments)},Au=r.dynCall_j=function(){return(Au=r.dynCall_j=r.asm.ac).apply(null,arguments)},Du=r.dynCall_iiiiij=function(){return(Du=r.dynCall_iiiiij=r.asm.bc).apply(null,arguments)};function ry(s,a,c,f){var g=Ke();try{Ge(s)(a,c,f)}catch(b){if(Xe(g),b!==b+0)throw b;Ye(1,0)}}function iy(s,a,c){var f=Ke();try{return Ge(s)(a,c)}catch(g){if(Xe(f),g!==g+0)throw g;Ye(1,0)}}function ny(s,a,c){var f=Ke();try{Ge(s)(a,c)}catch(g){if(Xe(f),g!==g+0)throw g;Ye(1,0)}}function sy(s,a){var c=Ke();try{return Ge(s)(a)}catch(f){if(Xe(c),f!==f+0)throw f;Ye(1,0)}}function ay(s,a,c,f){var g=Ke();try{return Ge(s)(a,c,f)}catch(b){if(Xe(g),b!==b+0)throw b;Ye(1,0)}}function oy(s,a,c,f,g,b,D,L,Q,pe){var Ie=Ke();try{return Ge(s)(a,c,f,g,b,D,L,Q,pe)}catch(Pe){if(Xe(Ie),Pe!==Pe+0)throw Pe;Ye(1,0)}}function cy(s,a){var c=Ke();try{Ge(s)(a)}catch(f){if(Xe(c),f!==f+0)throw f;Ye(1,0)}}function ly(s,a,c,f,g){var b=Ke();try{return Ge(s)(a,c,f,g)}catch(D){if(Xe(b),D!==D+0)throw D;Ye(1,0)}}function uy(s,a,c,f,g){var b=Ke();try{Ge(s)(a,c,f,g)}catch(D){if(Xe(b),D!==D+0)throw D;Ye(1,0)}}function fy(s){var a=Ke();try{Ge(s)()}catch(c){if(Xe(a),c!==c+0)throw c;Ye(1,0)}}function dy(s,a,c,f,g,b){var D=Ke();try{Ge(s)(a,c,f,g,b)}catch(L){if(Xe(D),L!==L+0)throw L;Ye(1,0)}}function hy(s,a,c,f,g,b){var D=Ke();try{return Ge(s)(a,c,f,g,b)}catch(L){if(Xe(D),L!==L+0)throw L;Ye(1,0)}}function _y(s){var a=Ke();try{return Ge(s)()}catch(c){if(Xe(a),c!==c+0)throw c;Ye(1,0)}}function my(s,a,c,f,g,b,D){var L=Ke();try{return Ge(s)(a,c,f,g,b,D)}catch(Q){if(Xe(L),Q!==Q+0)throw Q;Ye(1,0)}}function yy(s,a,c,f,g,b,D,L){var Q=Ke();try{return Ge(s)(a,c,f,g,b,D,L)}catch(pe){if(Xe(Q),pe!==pe+0)throw pe;Ye(1,0)}}function py(s,a,c){var f=Ke();try{return Ge(s)(a,c)}catch(g){if(Xe(f),g!==g+0)throw g;Ye(1,0)}}function gy(s,a,c){var f=Ke();try{Ge(s)(a,c)}catch(g){if(Xe(f),g!==g+0)throw g;Ye(1,0)}}function wy(s,a,c,f,g,b,D,L,Q){var pe=Ke();try{Ge(s)(a,c,f,g,b,D,L,Q)}catch(Ie){if(Xe(pe),Ie!==Ie+0)throw Ie;Ye(1,0)}}function by(s,a,c,f,g){var b=Ke();try{Ge(s)(a,c,f,g)}catch(D){if(Xe(b),D!==D+0)throw D;Ye(1,0)}}function Ey(s,a,c,f,g,b,D){var L=Ke();try{Ge(s)(a,c,f,g,b,D)}catch(Q){if(Xe(L),Q!==Q+0)throw Q;Ye(1,0)}}function vy(s,a,c,f,g,b,D,L,Q,pe,Ie){var Pe=Ke();try{Ge(s)(a,c,f,g,b,D,L,Q,pe,Ie)}catch(Te){if(Xe(Pe),Te!==Te+0)throw Te;Ye(1,0)}}function Sy(s,a,c,f,g,b,D,L){var Q=Ke();try{Ge(s)(a,c,f,g,b,D,L)}catch(pe){if(Xe(Q),pe!==pe+0)throw pe;Ye(1,0)}}function ky(s,a,c,f,g,b,D,L,Q,pe,Ie,Pe,Te,Fe,tt,vt){var zt=Ke();try{return Ge(s)(a,c,f,g,b,D,L,Q,pe,Ie,Pe,Te,Fe,tt,vt)}catch(Mt){if(Xe(zt),Mt!==Mt+0)throw Mt;Ye(1,0)}}function Iy(s,a,c,f,g,b,D,L,Q,pe,Ie,Pe,Te,Fe){var tt=Ke();try{Ge(s)(a,c,f,g,b,D,L,Q,pe,Ie,Pe,Te,Fe)}catch(vt){if(Xe(tt),vt!==vt+0)throw vt;Ye(1,0)}}function Oy(s,a,c,f,g,b,D,L,Q,pe,Ie,Pe,Te){var Fe=Ke();try{return Ge(s)(a,c,f,g,b,D,L,Q,pe,Ie,Pe,Te)}catch(tt){if(Xe(Fe),tt!==tt+0)throw tt;Ye(1,0)}}function Ay(s,a,c,f,g,b,D,L,Q,pe,Ie,Pe,Te){var Fe=Ke();try{Ge(s)(a,c,f,g,b,D,L,Q,pe,Ie,Pe,Te)}catch(tt){if(Xe(Fe),tt!==tt+0)throw tt;Ye(1,0)}}function Dy(s,a,c,f,g,b,D,L,Q,pe,Ie,Pe){var Te=Ke();try{return Ge(s)(a,c,f,g,b,D,L,Q,pe,Ie,Pe)}catch(Fe){if(Xe(Te),Fe!==Fe+0)throw Fe;Ye(1,0)}}function Ny(s,a,c,f,g,b,D,L,Q,pe,Ie,Pe,Te,Fe,tt){var vt=Ke();try{return Ge(s)(a,c,f,g,b,D,L,Q,pe,Ie,Pe,Te,Fe,tt)}catch(zt){if(Xe(vt),zt!==zt+0)throw zt;Ye(1,0)}}function Ty(s,a,c,f,g,b,D,L,Q){var pe=Ke();try{return Ge(s)(a,c,f,g,b,D,L,Q)}catch(Ie){if(Xe(pe),Ie!==Ie+0)throw Ie;Ye(1,0)}}function xy(s,a,c,f,g,b,D,L,Q,pe,Ie){var Pe=Ke();try{return Ge(s)(a,c,f,g,b,D,L,Q,pe,Ie)}catch(Te){if(Xe(Pe),Te!==Te+0)throw Te;Ye(1,0)}}function Ry(s,a,c,f,g,b,D,L,Q,pe,Ie,Pe,Te,Fe,tt,vt,zt,Mt){var De=Ke();try{Ge(s)(a,c,f,g,b,D,L,Q,pe,Ie,Pe,Te,Fe,tt,vt,zt,Mt)}catch(it){if(Xe(De),it!==it+0)throw it;Ye(1,0)}}function zy(s,a,c,f,g,b,D,L,Q,pe,Ie){var Pe=Ke();try{Ge(s)(a,c,f,g,b,D,L,Q,pe,Ie)}catch(Te){if(Xe(Pe),Te!==Te+0)throw Te;Ye(1,0)}}function Ly(s,a,c,f,g,b,D,L,Q,pe){var Ie=Ke();try{Ge(s)(a,c,f,g,b,D,L,Q,pe)}catch(Pe){if(Xe(Ie),Pe!==Pe+0)throw Pe;Ye(1,0)}}function My(s,a,c,f,g,b,D,L){var Q=Ke();try{Ge(s)(a,c,f,g,b,D,L)}catch(pe){if(Xe(Q),pe!==pe+0)throw pe;Ye(1,0)}}function Cy(s,a,c,f,g,b,D,L,Q,pe,Ie,Pe,Te,Fe,tt,vt,zt){var Mt=Ke();try{Ge(s)(a,c,f,g,b,D,L,Q,pe,Ie,Pe,Te,Fe,tt,vt,zt)}catch(De){if(Xe(Mt),De!==De+0)throw De;Ye(1,0)}}function Py(s,a){var c=Ke();try{return Ge(s)(a)}catch(f){if(Xe(c),f!==f+0)throw f;Ye(1,0)}}function By(s,a,c,f){var g=Ke();try{return Ge(s)(a,c,f)}catch(b){if(Xe(g),b!==b+0)throw b;Ye(1,0)}}function Fy(s,a,c,f,g,b,D,L,Q,pe){var Ie=Ke();try{return Ge(s)(a,c,f,g,b,D,L,Q,pe)}catch(Pe){if(Xe(Ie),Pe!==Pe+0)throw Pe;Ye(1,0)}}function Uy(s,a,c,f,g,b,D,L,Q,pe){var Ie=Ke();try{return Ge(s)(a,c,f,g,b,D,L,Q,pe)}catch(Pe){if(Xe(Ie),Pe!==Pe+0)throw Pe;Ye(1,0)}}function jy(s,a,c,f,g,b){var D=Ke();try{return Ge(s)(a,c,f,g,b)}catch(L){if(Xe(D),L!==L+0)throw L;Ye(1,0)}}function Wy(s,a,c,f,g,b){var D=Ke();try{return Ge(s)(a,c,f,g,b)}catch(L){if(Xe(D),L!==L+0)throw L;Ye(1,0)}}function $y(s,a,c,f){var g=Ke();try{Ge(s)(a,c,f)}catch(b){if(Xe(g),b!==b+0)throw b;Ye(1,0)}}function Vy(s,a){var c=Ke();try{Ge(s)(a)}catch(f){if(Xe(c),f!==f+0)throw f;Ye(1,0)}}function Gy(s,a,c,f,g){var b=Ke();try{Ge(s)(a,c,f,g)}catch(D){if(Xe(b),D!==D+0)throw D;Ye(1,0)}}function qy(s,a,c,f,g,b){var D=Ke();try{return Ge(s)(a,c,f,g,b)}catch(L){if(Xe(D),L!==L+0)throw L;Ye(1,0)}}function Hy(s,a,c,f){var g=Ke();try{return Ge(s)(a,c,f)}catch(b){if(Xe(g),b!==b+0)throw b;Ye(1,0)}}function Yy(s,a,c,f,g,b,D,L){var Q=Ke();try{Ge(s)(a,c,f,g,b,D,L)}catch(pe){if(Xe(Q),pe!==pe+0)throw pe;Ye(1,0)}}function Ky(s,a,c,f){var g=Ke();try{Ge(s)(a,c,f)}catch(b){if(Xe(g),b!==b+0)throw b;Ye(1,0)}}function Xy(s,a,c,f,g,b,D,L,Q,pe,Ie,Pe,Te,Fe,tt){var vt=Ke();try{Ge(s)(a,c,f,g,b,D,L,Q,pe,Ie,Pe,Te,Fe,tt)}catch(zt){if(Xe(vt),zt!==zt+0)throw zt;Ye(1,0)}}function Jy(s,a,c,f,g){var b=Ke();try{return Ge(s)(a,c,f,g)}catch(D){if(Xe(b),D!==D+0)throw D;Ye(1,0)}}function Zy(s,a,c){var f=Ke();try{return Ge(s)(a,c)}catch(g){if(Xe(f),g!==g+0)throw g;Ye(1,0)}}function Qy(s,a,c,f,g,b){var D=Ke();try{Ge(s)(a,c,f,g,b)}catch(L){if(Xe(D),L!==L+0)throw L;Ye(1,0)}}function ep(s,a,c,f,g,b,D,L,Q,pe,Ie,Pe,Te){var Fe=Ke();try{Ge(s)(a,c,f,g,b,D,L,Q,pe,Ie,Pe,Te)}catch(tt){if(Xe(Fe),tt!==tt+0)throw tt;Ye(1,0)}}function tp(s,a,c,f,g,b,D,L){var Q=Ke();try{Ge(s)(a,c,f,g,b,D,L)}catch(pe){if(Xe(Q),pe!==pe+0)throw pe;Ye(1,0)}}function rp(s,a,c,f,g,b){var D=Ke();try{Ge(s)(a,c,f,g,b)}catch(L){if(Xe(D),L!==L+0)throw L;Ye(1,0)}}function ip(s,a,c,f){var g=Ke();try{return Ge(s)(a,c,f)}catch(b){if(Xe(g),b!==b+0)throw b;Ye(1,0)}}function np(s,a,c,f){var g=Ke();try{return Ge(s)(a,c,f)}catch(b){if(Xe(g),b!==b+0)throw b;Ye(1,0)}}function sp(s,a,c,f,g,b,D,L,Q,pe,Ie,Pe,Te,Fe,tt,vt){var zt=Ke();try{Ge(s)(a,c,f,g,b,D,L,Q,pe,Ie,Pe,Te,Fe,tt,vt)}catch(Mt){if(Xe(zt),Mt!==Mt+0)throw Mt;Ye(1,0)}}function ap(s,a,c,f){var g=Ke();try{return gu(s,a,c,f)}catch(b){if(Xe(g),b!==b+0)throw b;Ye(1,0)}}function op(s,a,c){var f=Ke();try{return bu(s,a,c)}catch(g){if(Xe(f),g!==g+0)throw g;Ye(1,0)}}function cp(s,a){var c=Ke();try{return Eu(s,a)}catch(f){if(Xe(c),f!==f+0)throw f;Ye(1,0)}}function lp(s,a,c,f){var g=Ke();try{vu(s,a,c,f)}catch(b){if(Xe(g),b!==b+0)throw b;Ye(1,0)}}function up(s,a,c,f,g){var b=Ke();try{return Su(s,a,c,f,g)}catch(D){if(Xe(b),D!==D+0)throw D;Ye(1,0)}}function fp(s,a,c,f){var g=Ke();try{return ku(s,a,c,f)}catch(b){if(Xe(g),b!==b+0)throw b;Ye(1,0)}}function dp(s,a,c,f,g,b,D){var L=Ke();try{wu(s,a,c,f,g,b,D)}catch(Q){if(Xe(L),Q!==Q+0)throw Q;Ye(1,0)}}function hp(s,a,c,f,g){var b=Ke();try{return Iu(s,a,c,f,g)}catch(D){if(Xe(b),D!==D+0)throw D;Ye(1,0)}}function _p(s,a,c,f,g){var b=Ke();try{Ou(s,a,c,f,g)}catch(D){if(Xe(b),D!==D+0)throw D;Ye(1,0)}}function mp(s){var a=Ke();try{return Au(s)}catch(c){if(Xe(a),c!==c+0)throw c;Ye(1,0)}}function yp(s,a,c,f,g,b,D){var L=Ke();try{return Du(s,a,c,f,g,b,D)}catch(Q){if(Xe(L),Q!==Q+0)throw Q;Ye(1,0)}}r.callMain=Nu,r.ENV=ks,r.ERRNO_CODES=cu,r.PATH=mt,r.FS=w;var Ds;C=function s(){Ds||Tu(),Ds||(C=s)};function Nu(s=[]){var a=fu;s.unshift(l);var c=s.length,f=eo((c+1)*4),g=f>>2;s.forEach(D=>{W[g++>>>0]=ey(D)}),W[g>>>0]=0;try{It+=1;var b=a(c,f);return ru(b,!0),b}catch(D){return Sm(D)}finally{It-=1}}function Tu(s=u){if(Se>0||(be(),Se>0))return;function a(){Ds||(Ds=!0,r.calledRun=!0,!V&&(ge(),xe(),i(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),xu&&Nu(s),Z()))}r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),a()},1)):a()}if(r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();var xu=!0;return r.noInitialRun&&(xu=!1),Tu(),t.ready})})();const Ns={fonts:{},openscad:{description:"OpenSCAD",gitOrigin:{branch:"master",repoUrl:"https://github.com/openscad/openscad",include:[{glob:["examples/**/*.scad","COPYING"]}]},docs:{CheatSheet:"https://openscad.org/cheatsheet/index.html",Documentation:"https://openscad.org/documentation.html"}},MCAD:{description:"OpenSCAD Parametric CAD Library",gitOrigin:{branch:"master",repoUrl:"https://github.com/openscad/MCAD",include:[{glob:["*.scad","bitmap/*.scad","LICENSE"]}]}},BOSL:{description:"The Belfry OpenScad Library",gitOrigin:{branch:"master",repoUrl:"https://github.com/revarbat/BOSL",include:[{glob:["**/*.scad","LICENSE"]}]}},BOSL2:{description:"The Belfry OpenScad Library, v2.0",gitOrigin:{branch:"master",repoUrl:"https://github.com/BelfrySCAD/BOSL2",include:[{glob:["**/*.scad","LICENSE"]}]},docs:{CheatSheet:"https://github.com/BelfrySCAD/BOSL2/wiki/CheatSheet",Wiki:"https://github.com/BelfrySCAD/BOSL2/wiki"}},NopSCADlib:{gitOrigin:{branch:"master",repoUrl:"https://github.com/nophead/NopSCADlib",include:[{glob:"**/*.scad",ignore:"test/**"}]}},boltsparts:{description:"OpenSCAD library for generating bolt/nut models",gitOrigin:{branch:"main",repoUrl:"https://github.com/boltsparts/boltsparts",include:[{glob:"openscad/**/*.scad",ignore:"test/**"}]},docs:{Usage:"https://boltsparts.github.io/en/docs/0.3/document/openscad/usage.html"}},brailleSCAD:{gitOrigin:{branch:"main",repoUrl:"https://github.com/BelfrySCAD/brailleSCAD",include:[{glob:["**/*.scad","LICENSE"],ignore:"test/**"}]},docs:{Documentation:"https://github.com/BelfrySCAD/brailleSCAD/wiki/TOC"}},FunctionalOpenSCAD:{description:"Implementing OpenSCAD in OpenSCAD",gitOrigin:{branch:"master",repoUrl:"https://github.com/thehans/FunctionalOpenSCAD",include:[{glob:["**/*.scad","LICENSE"]}]}},"OpenSCAD-Snippet":{description:"OpenSCAD Snippet Library",gitOrigin:{branch:"main",repoUrl:"https://github.com/AngeloNicoli/OpenSCAD-Snippet",include:[{glob:["**/*.scad","LICENSE"]}]},symlinks:{Asset_SCAD:"Asset_SCAD","Import_Library.scad":"Import_Library.scad"}},funcutils:{description:"OpenSCAD collection of functional programming utilities, making use of function-literals.",gitOrigin:{branch:"master",repoUrl:"https://github.com/thehans/funcutils",include:[{glob:"**/*.scad"}]}},"smooth-prim":{description:"OpenSCAD smooth primitives library",gitOrigin:{branch:"master",repoUrl:"https://github.com/rcolyer/smooth-prim",include:[{glob:["**/*.scad","LICENSE.txt"]}]},symlinks:{"smooth_prim.scad":"smooth_prim.scad"}},closepoints:{description:"OpenSCAD ClosePoints Library",gitOrigin:{branch:"master",repoUrl:"https://github.com/rcolyer/closepoints",include:[{glob:["**/*.scad","LICENSE.txt"]}]},symlinks:{"closepoints.scad":"closepoints.scad"}},"plot-function":{description:"OpenSCAD Function Plotting Library",gitOrigin:{branch:"master",repoUrl:"https://github.com/colyer/plot-function",include:[{glob:["**/*.scad","LICENSE.txt"]}]},symlinks:{"plot_function.scad":"plot_function.scad"}},"openscad-tray":{description:"OpenSCAD library to create rounded rectangular trays with optional subdividers.",gitOrigin:{branch:"main",repoUrl:"https://github.com/sofian/openscad-tray",include:[{glob:["**/*.scad","LICENSE"]}]},symlinks:{"tray.scad":"tray.scad"}},lasercut:{description:"Module for OpenSCAD, allowing 3D models to be created from 2D lasercut parts.",gitOrigin:{branch:"master",repoUrl:"https://github.com/bmsleight/lasercut",include:[{glob:["**/*.scad","LICENSE"]}]},symlinks:{"lasercut.scad":"lasercut.scad"}},YAPP_Box:{description:"Yet Another Parametric Projectbox Box",gitOrigin:{branch:"main",repoUrl:"https://github.com/mrWheel/YAPP_Box",include:[{glob:["**/*.scad","LICENSE"]}]}},Stemfie_OpenSCAD:{description:"OpenSCAD Stemfie Library",gitOrigin:{branch:"main",repoUrl:"https://github.com/Cantareus/Stemfie_OpenSCAD",include:[{glob:["**/*.scad","LICENSE"]}]}},"UB.scad":{gitOrigin:{branch:"main",repoUrl:"https://github.com/UBaer21/UB.scad",include:[{glob:["libraries/*.scad","LICENSE","examples/UBexamples/*.scad"],replacePrefix:{"libraries/":"","examples/UBexamples/":"examples/"}}]},symlinks:{"ub.scad":"libraries/ub.scad"}},pathbuilder:{gitOrigin:{branch:"main",repoUrl:"https://github.com/dinther/pathbuilder.git",include:[{glob:["**/*.scad","LICENSE"]}]}},openscad_attachable_text3d:{gitOrigin:{branch:"main",repoUrl:"https://github.com/jon-gilbert/openscad_attachable_text3d.git",include:[{glob:["**/*.scad","LICENSE"]}]}}},Ts=Object.entries(Ns).filter(([e,{deployed:t}])=>t==null||t).map(([e])=>e);function zu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xs={exports:{}},to;function Lu(){return to||(to=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function n(p,h,_){this.fn=p,this.context=h,this.once=_||!1}function o(p,h,_,m,A){if(typeof _!="function")throw new TypeError("The listener must be a function");var S=new n(_,m||p,A),O=r?r+h:h;return p._events[O]?p._events[O].fn?p._events[O]=[p._events[O],S]:p._events[O].push(S):(p._events[O]=S,p._eventsCount++),p}function u(p,h){--p._eventsCount===0?p._events=new i:delete p._events[h]}function l(){this._events=new i,this._eventsCount=0}l.prototype.eventNames=function(){var h=[],_,m;if(this._eventsCount===0)return h;for(m in _=this._events)t.call(_,m)&&h.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(_)):h},l.prototype.listeners=function(h){var _=r?r+h:h,m=this._events[_];if(!m)return[];if(m.fn)return[m.fn];for(var A=0,S=m.length,O=new Array(S);A<S;A++)O[A]=m[A].fn;return O},l.prototype.listenerCount=function(h){var _=r?r+h:h,m=this._events[_];return m?m.fn?1:m.length:0},l.prototype.emit=function(h,_,m,A,S,O){var k=r?r+h:h;if(!this._events[k])return!1;var E=this._events[k],v=arguments.length,N,T;if(E.fn){switch(E.once&&this.removeListener(h,E.fn,void 0,!0),v){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,_),!0;case 3:return E.fn.call(E.context,_,m),!0;case 4:return E.fn.call(E.context,_,m,A),!0;case 5:return E.fn.call(E.context,_,m,A,S),!0;case 6:return E.fn.call(E.context,_,m,A,S,O),!0}for(T=1,N=new Array(v-1);T<v;T++)N[T-1]=arguments[T];E.fn.apply(E.context,N)}else{var j=E.length,R;for(T=0;T<j;T++)switch(E[T].once&&this.removeListener(h,E[T].fn,void 0,!0),v){case 1:E[T].fn.call(E[T].context);break;case 2:E[T].fn.call(E[T].context,_);break;case 3:E[T].fn.call(E[T].context,_,m);break;case 4:E[T].fn.call(E[T].context,_,m,A);break;default:if(!N)for(R=1,N=new Array(v-1);R<v;R++)N[R-1]=arguments[R];E[T].fn.apply(E[T].context,N)}}return!0},l.prototype.on=function(h,_,m){return o(this,h,_,m,!1)},l.prototype.once=function(h,_,m){return o(this,h,_,m,!0)},l.prototype.removeListener=function(h,_,m,A){var S=r?r+h:h;if(!this._events[S])return this;if(!_)return u(this,S),this;var O=this._events[S];if(O.fn)O.fn===_&&(!A||O.once)&&(!m||O.context===m)&&u(this,S);else{for(var k=0,E=[],v=O.length;k<v;k++)(O[k].fn!==_||A&&!O[k].once||m&&O[k].context!==m)&&E.push(O[k]);E.length?this._events[S]=E.length===1?E[0]:E:u(this,S)}return this},l.prototype.removeAllListeners=function(h){var _;return h?(_=r?r+h:h,this._events[_]&&u(this,_)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(xs)),xs.exports}var Mu=Lu(),Rs=zu(Mu);class Cu extends Rs{[Symbol.toStringTag]="List";constructor(t){super(),t&&this.push(...t)}data=new Set;toSet(){return new Set(this.data)}toArray(){return Array.from(this.data)}toJSON(){return Array.from(this.data)}toString(){return this.join(",")}_set(t,r,i=!1){if(Math.abs(t)>this.data.size)throw new ReferenceError("Can not set an element outside the bounds of the list");const n=Array.from(this.data);n.splice(t,+i,r),this.data=new Set(n),this.emit("update")}set(t,r){this._set(t,r,!0)}deleteAt(t){if(Math.abs(t)>this.data.size)throw new ReferenceError("Can not delete an element outside the bounds of the list");this.delete(Array.from(this.data).at(t))}insert(t,r=this.data.size){this._set(r,t,!1)}at(t){if(Math.abs(t)>this.data.size)throw new ReferenceError("Can not access an element outside the bounds of the list");return Array.from(this.data).at(t)}pop(){const t=Array.from(this.data).pop();return t!==void 0&&this.delete(t),t}push(...t){for(const r of t)this.add(r);return this.data.size}join(t){return Array.from(this.data).join(t)}splice(t,r,...i){if(Math.abs(t)>this.data.size)throw new ReferenceError("Can not splice elements outside the bounds of the list");const n=Array.from(this.data),o=n.splice(t,r,...i);return this.data=new Set(n),this.emit("update"),o}add(t){return this.data.add(t),this.emit("update"),this.emit("add",t),this}clear(){this.data.clear(),this.emit("update")}delete(t){const r=this.data.delete(t);return this.emit("update"),r}has(t){return this.data.has(t)}get size(){return this.data.size}entries(){return this.toArray().entries()}keys(){return this.toArray().keys()}values(){return this.data.values()}[Symbol.iterator](){return this.data[Symbol.iterator]()}}function Pu(e,t){const r=Object.entries(e);return Object.fromEntries(r.filter(([i,n])=>t(i,n)))}function ro(e,...t){const r={};for(const i of t.flat())r[i]=e[i];return r}function io(e,...t){return Pu(e,r=>!t.flat().includes(r))}function Bu(e){try{return JSON.parse(e),!0}catch{return!1}}function Fu(e){const t=[];for(let r=e;r&&!["Function","Object"].includes(r.constructor.name);r=Object.getPrototypeOf(r))t.push(r.constructor.name);return t}function no(e=new Error){const t=setTimeout(()=>{throw e},5e3);return()=>clearTimeout(t)}function bt(e){throw e&&typeof e=="object"&&Fu(e).includes("Error")&&Error?.captureStackTrace(e,bt),e}function Qr(e,t){if(t.kind!="getter")throw new Error("@memoize can only be used on getters");return function(){t.metadata??={};const{memoized:r={}}=t.metadata;return t.name in r?(console.log("Using cached value for",t.name,JSON.stringify(r[t.name])),r[t.name]):(r[t.name]=e.call(this),r[t.name])}}const so=Intl.NumberFormat("en",{notation:"compact"});so.format.bind(so);function Uu(e=0,t=1){return Math.round(Math.random()*(t-e)+e)}function ju(e){return e.at(0).toUpperCase()+e.slice(1)}const Wu=new TextEncoder;function ei(e){return Wu.encode(e)}const ao=new TextDecoder;function Vr(e){if(!e)return"";if(e.buffer instanceof ArrayBuffer&&!e.buffer.resizable)return ao.decode(e);const t=new Uint8Array(e.byteLength);return t.set(e),ao.decode(t)}function $u(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}function oo(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}function Vu(e){const t=e.replace(/-/g,""),r=new Uint8Array(16);for(let i=0;i<16;i++)r[i]=parseInt(t.slice(i*2,i*2+2),16);return r}var ce;(function(e){e[e.EPERM=1]="EPERM",e[e.ENOENT=2]="ENOENT",e[e.ESRCH=3]="ESRCH",e[e.EINTR=4]="EINTR",e[e.EIO=5]="EIO",e[e.ENXIO=6]="ENXIO",e[e.E2BIG=7]="E2BIG",e[e.ENOEXEC=8]="ENOEXEC",e[e.EBADF=9]="EBADF",e[e.ECHILD=10]="ECHILD",e[e.EAGAIN=11]="EAGAIN",e[e.ENOMEM=12]="ENOMEM",e[e.EACCES=13]="EACCES",e[e.EFAULT=14]="EFAULT",e[e.ENOTBLK=15]="ENOTBLK",e[e.EBUSY=16]="EBUSY",e[e.EEXIST=17]="EEXIST",e[e.EXDEV=18]="EXDEV",e[e.ENODEV=19]="ENODEV",e[e.ENOTDIR=20]="ENOTDIR",e[e.EISDIR=21]="EISDIR",e[e.EINVAL=22]="EINVAL",e[e.ENFILE=23]="ENFILE",e[e.EMFILE=24]="EMFILE",e[e.ETXTBSY=26]="ETXTBSY",e[e.EFBIG=27]="EFBIG",e[e.ENOSPC=28]="ENOSPC",e[e.ESPIPE=29]="ESPIPE",e[e.EROFS=30]="EROFS",e[e.EMLINK=31]="EMLINK",e[e.EPIPE=32]="EPIPE",e[e.EDOM=33]="EDOM",e[e.ERANGE=34]="ERANGE",e[e.EDEADLK=35]="EDEADLK",e[e.ENAMETOOLONG=36]="ENAMETOOLONG",e[e.ENOLCK=37]="ENOLCK",e[e.ENOSYS=38]="ENOSYS",e[e.ENOTEMPTY=39]="ENOTEMPTY",e[e.ELOOP=40]="ELOOP",e[e.ENOMSG=42]="ENOMSG",e[e.EIDRM=43]="EIDRM",e[e.ECHRNG=44]="ECHRNG",e[e.EL2NSYNC=45]="EL2NSYNC",e[e.EL3HLT=46]="EL3HLT",e[e.EL3RST=47]="EL3RST",e[e.ENRNG=48]="ENRNG",e[e.EUNATCH=49]="EUNATCH",e[e.ECSI=50]="ECSI",e[e.EL2HLT=51]="EL2HLT",e[e.EBADE=52]="EBADE",e[e.EBADR=53]="EBADR",e[e.EXFULL=54]="EXFULL",e[e.ENOANO=55]="ENOANO",e[e.EBADRQC=56]="EBADRQC",e[e.EBADSLT=57]="EBADSLT",e[e.EBFONT=59]="EBFONT",e[e.ENOSTR=60]="ENOSTR",e[e.ENODATA=61]="ENODATA",e[e.ETIME=62]="ETIME",e[e.ENOSR=63]="ENOSR",e[e.ENONET=64]="ENONET",e[e.ENOPKG=65]="ENOPKG",e[e.EREMOTE=66]="EREMOTE",e[e.ENOLINK=67]="ENOLINK",e[e.EADV=68]="EADV",e[e.ESRMNT=69]="ESRMNT",e[e.ECOMM=70]="ECOMM",e[e.EPROTO=71]="EPROTO",e[e.EMULTIHOP=72]="EMULTIHOP",e[e.EDOTDOT=73]="EDOTDOT",e[e.EBADMSG=74]="EBADMSG",e[e.EOVERFLOW=75]="EOVERFLOW",e[e.ENOTUNIQ=76]="ENOTUNIQ",e[e.EBADFD=77]="EBADFD",e[e.EREMCHG=78]="EREMCHG",e[e.ELIBACC=79]="ELIBACC",e[e.ELIBBAD=80]="ELIBBAD",e[e.ELIBSCN=81]="ELIBSCN",e[e.ELIBMAX=82]="ELIBMAX",e[e.ELIBEXEC=83]="ELIBEXEC",e[e.EILSEQ=84]="EILSEQ",e[e.ERESTART=85]="ERESTART",e[e.ESTRPIPE=86]="ESTRPIPE",e[e.EUSERS=87]="EUSERS",e[e.ENOTSOCK=88]="ENOTSOCK",e[e.EDESTADDRREQ=89]="EDESTADDRREQ",e[e.EMSGSIZE=90]="EMSGSIZE",e[e.EPROTOTYPE=91]="EPROTOTYPE",e[e.ENOPROTOOPT=92]="ENOPROTOOPT",e[e.EPROTONOSUPPORT=93]="EPROTONOSUPPORT",e[e.ESOCKTNOSUPPORT=94]="ESOCKTNOSUPPORT",e[e.ENOTSUP=95]="ENOTSUP",e[e.EPFNOSUPPORT=96]="EPFNOSUPPORT",e[e.EAFNOSUPPORT=97]="EAFNOSUPPORT",e[e.EADDRINUSE=98]="EADDRINUSE",e[e.EADDRNOTAVAIL=99]="EADDRNOTAVAIL",e[e.ENETDOWN=100]="ENETDOWN",e[e.ENETUNREACH=101]="ENETUNREACH",e[e.ENETRESET=102]="ENETRESET",e[e.ECONNABORTED=103]="ECONNABORTED",e[e.ECONNRESET=104]="ECONNRESET",e[e.ENOBUFS=105]="ENOBUFS",e[e.EISCONN=106]="EISCONN",e[e.ENOTCONN=107]="ENOTCONN",e[e.ESHUTDOWN=108]="ESHUTDOWN",e[e.ETOOMANYREFS=109]="ETOOMANYREFS",e[e.ETIMEDOUT=110]="ETIMEDOUT",e[e.ECONNREFUSED=111]="ECONNREFUSED",e[e.EHOSTDOWN=112]="EHOSTDOWN",e[e.EHOSTUNREACH=113]="EHOSTUNREACH",e[e.EALREADY=114]="EALREADY",e[e.EINPROGRESS=115]="EINPROGRESS",e[e.ESTALE=116]="ESTALE",e[e.EEUCLEAN=117]="EEUCLEAN",e[e.ENOTNAM=118]="ENOTNAM",e[e.ENAVAIL=119]="ENAVAIL",e[e.EISNAM=120]="EISNAM",e[e.EREMOTEIO=121]="EREMOTEIO",e[e.EDQUOT=122]="EDQUOT",e[e.ENOMEDIUM=123]="ENOMEDIUM",e[e.EMEDIUMTYPE=124]="EMEDIUMTYPE",e[e.ECANCELED=125]="ECANCELED",e[e.ENOKEY=126]="ENOKEY",e[e.EKEYEXPIRED=127]="EKEYEXPIRED",e[e.EKEYREVOKED=128]="EKEYREVOKED",e[e.EKEYREJECTED=129]="EKEYREJECTED",e[e.EOWNERDEAD=130]="EOWNERDEAD",e[e.ENOTRECOVERABLE=131]="ENOTRECOVERABLE",e[e.ERFKILL=132]="ERFKILL",e[e.EHWPOISON=133]="EHWPOISON"})(ce||(ce={}));const zs={[ce.EPERM]:"Operation not permitted",[ce.ENOENT]:"No such file or directory",[ce.ESRCH]:"No such process",[ce.EINTR]:"Interrupted system call",[ce.EIO]:"Input/output error",[ce.ENXIO]:"No such device or address",[ce.E2BIG]:"Argument list too long",[ce.ENOEXEC]:"Exec format error",[ce.EBADF]:"Bad file descriptor",[ce.ECHILD]:"No child processes",[ce.EAGAIN]:"Resource temporarily unavailable",[ce.ENOMEM]:"Out of memory",[ce.EACCES]:"Permission denied",[ce.EFAULT]:"Bad address",[ce.ENOTBLK]:"Block device required",[ce.EBUSY]:"Resource busy or locked",[ce.EEXIST]:"File exists",[ce.EXDEV]:"Invalid cross-device link",[ce.ENODEV]:"No such device",[ce.ENOTDIR]:"File is not a directory",[ce.EISDIR]:"File is a directory",[ce.EINVAL]:"Invalid argument",[ce.ENFILE]:"Too many open files in system",[ce.EMFILE]:"Too many open files",[ce.ETXTBSY]:"Text file busy",[ce.EFBIG]:"File is too big",[ce.ENOSPC]:"No space left on disk",[ce.ESPIPE]:"Illegal seek",[ce.EROFS]:"Cannot modify a read-only file system",[ce.EMLINK]:"Too many links",[ce.EPIPE]:"Broken pipe",[ce.EDOM]:"Numerical argument out of domain",[ce.ERANGE]:"Numerical result out of range",[ce.EDEADLK]:"Resource deadlock would occur",[ce.ENAMETOOLONG]:"File name too long",[ce.ENOLCK]:"No locks available",[ce.ENOSYS]:"Function not implemented",[ce.ENOTEMPTY]:"Directory is not empty",[ce.ELOOP]:"Too many levels of symbolic links",[ce.ENOMSG]:"No message of desired type",[ce.EIDRM]:"Identifier removed",[ce.ECHRNG]:"Channel number out of range",[ce.EL2NSYNC]:"Level 2 not synchronized",[ce.EL3HLT]:"Level 3 halted",[ce.EL3RST]:"Level 3 reset",[ce.ENRNG]:"Link number out of range",[ce.EUNATCH]:"Protocol driver not attached",[ce.ECSI]:"No CSI structure available",[ce.EL2HLT]:"Level 2 halted",[ce.EBADE]:"Invalid exchange",[ce.EBADR]:"Invalid request descriptor",[ce.EXFULL]:"Exchange full",[ce.ENOANO]:"No anode",[ce.EBADRQC]:"Invalid request code",[ce.EBADSLT]:"Invalid slot",[ce.EBFONT]:"Bad font file format",[ce.ENOSTR]:"Device not a stream",[ce.ENODATA]:"No data available",[ce.ETIME]:"Timer expired",[ce.ENOSR]:"Out of streams resources",[ce.ENONET]:"Machine is not on the network",[ce.ENOPKG]:"Package not installed",[ce.EREMOTE]:"Object is remote",[ce.ENOLINK]:"Link has been severed",[ce.EADV]:"Advertise error",[ce.ESRMNT]:"Srmount error",[ce.ECOMM]:"Communication error on send",[ce.EPROTO]:"Protocol error",[ce.EMULTIHOP]:"Multihop attempted",[ce.EDOTDOT]:"RFS specific error",[ce.EBADMSG]:"Bad message",[ce.EOVERFLOW]:"Value too large for defined data type",[ce.ENOTUNIQ]:"Name not unique on network",[ce.EBADFD]:"File descriptor in bad state",[ce.EREMCHG]:"Remote address changed",[ce.ELIBACC]:"Can not access a needed shared library",[ce.ELIBBAD]:"Accessing a corrupted shared library",[ce.ELIBSCN]:".lib section in a.out corrupted",[ce.ELIBMAX]:"Attempting to link in too many shared libraries",[ce.ELIBEXEC]:"Cannot exec a shared library directly",[ce.EILSEQ]:"Invalid or incomplete multibyte or wide character",[ce.ERESTART]:"Interrupted system call should be restarted",[ce.ESTRPIPE]:"Streams pipe error",[ce.EUSERS]:"Too many users",[ce.ENOTSOCK]:"Socket operation on non-socket",[ce.EDESTADDRREQ]:"Destination address required",[ce.EMSGSIZE]:"Message too long",[ce.EPROTOTYPE]:"Protocol wrong type for socket",[ce.ENOPROTOOPT]:"Protocol not available",[ce.EPROTONOSUPPORT]:"Protocol not supported",[ce.ESOCKTNOSUPPORT]:"Socket type not supported",[ce.ENOTSUP]:"Operation is not supported",[ce.EPFNOSUPPORT]:"Protocol family not supported",[ce.EAFNOSUPPORT]:"Address family not supported by protocol",[ce.EADDRINUSE]:"Address already in use",[ce.EADDRNOTAVAIL]:"Cannot assign requested address",[ce.ENETDOWN]:"Network is down",[ce.ENETUNREACH]:"Network is unreachable",[ce.ENETRESET]:"Network dropped connection on reset",[ce.ECONNABORTED]:"Software caused connection abort",[ce.ECONNRESET]:"Connection reset by peer",[ce.ENOBUFS]:"No buffer space available",[ce.EISCONN]:"Transport endpoint is already connected",[ce.ENOTCONN]:"Transport endpoint is not connected",[ce.ESHUTDOWN]:"Cannot send after transport endpoint shutdown",[ce.ETOOMANYREFS]:"Too many references: cannot splice",[ce.ETIMEDOUT]:"Connection timed out",[ce.ECONNREFUSED]:"Connection refused",[ce.EHOSTDOWN]:"Host is down",[ce.EHOSTUNREACH]:"No route to host",[ce.EALREADY]:"Operation already in progress",[ce.EINPROGRESS]:"Operation now in progress",[ce.ESTALE]:"Stale file handle",[ce.EEUCLEAN]:"Structure needs cleaning",[ce.ENOTNAM]:"Not a XENIX named type file",[ce.ENAVAIL]:"No XENIX semaphores available",[ce.EISNAM]:"Is a named type file",[ce.EREMOTEIO]:"Remote I/O error",[ce.EDQUOT]:"Disk quota exceeded",[ce.ENOMEDIUM]:"No medium found",[ce.EMEDIUMTYPE]:"Wrong medium type",[ce.ECANCELED]:"Operation canceled",[ce.ENOKEY]:"Required key not available",[ce.EKEYEXPIRED]:"Key has expired",[ce.EKEYREVOKED]:"Key has been revoked",[ce.EKEYREJECTED]:"Key was rejected by service",[ce.EOWNERDEAD]:"Owner died",[ce.ENOTRECOVERABLE]:"State not recoverable",[ce.ERFKILL]:"Operation not possible due to RF-kill",[ce.EHWPOISON]:"Memory page has hardware error"};function ir(e){let t=`${e.code}: ${zs[e.errno]}, ${e.syscall}`;return e.path&&(t+=` '${e.path}'`),e.dest&&(t+=` -> '${e.dest}'`),e.message&&!e.message.startsWith(zs[e.errno])&&(t+=` (${e.message})`),e.message=t,e}class Yt extends Error{errno;code;path;dest;syscall;constructor(t,r,i={}){const n=ce[t];super(r||""),this.errno=t,this.code=n,Object.assign(this,io(i,"message")),r||ir(this),Error.captureStackTrace?.(this,this.constructor)}toString(){return this.message}toJSON(){const t={errno:this.errno,code:this.code,stack:this.stack,message:this.message};return this.path&&(t.path=this.path),this.dest&&(t.dest=this.dest),this.syscall&&(t.syscall=this.syscall),t}static fromJSON(t){const r=t.syscall?new Yt(t.errno,!1,t):new Yt(t.errno,t.message);return r.stack=t.stack,r}}function oe(e,t,r,i){typeof t=="string"&&(t={syscall:t,path:r,dest:i});const n=new Yt(ce[e],!1,t??{});return Error.captureStackTrace?.(n,oe),n}function ee(e,t){const r=new Yt(ce[e],t??zs[ce[e]]);return Error.captureStackTrace?.(r,ee),r}function Mr(e,t,r){const i=typeof e=="string"?{syscall:e}:e;return t&&(i.path=t),function(n){throw Object.assign(n,i),ir(n),n}}var _t;(function(e){e[e.EMERG=0]="EMERG",e[e.ALERT=1]="ALERT",e[e.CRIT=2]="CRIT",e[e.ERR=3]="ERR",e[e.WARN=4]="WARN",e[e.NOTICE=5]="NOTICE",e[e.INFO=6]="INFO",e[e.DEBUG=7]="DEBUG"})(_t||(_t={}));const Gu=["emergency","alert","critical","error","warning","notice","info","debug"];function qu(e){return Gu.indexOf(e)}const co=new Cu;function Hu(e,t){if(!Ps)return;const r={level:e,message:t,timestamp:new Date,elapsedMs:performance.now()};co.add(r),uo(r)}function mi(e){return function(t){return Hu(e,t.toString()),t}}mi(_t.EMERG);const lo=mi(_t.ALERT),Gr=mi(_t.CRIT),Kt=mi(_t.ERR),qt=mi(_t.WARN),Ln=mi(_t.NOTICE),un=mi(_t.INFO),Cr=mi(_t.DEBUG);function Yu(e){return"["+(e.elapsedMs/1e3).toFixed(3).padStart(10)+"] "}_t.EMERG+"",_t.ALERT+"",_t.CRIT+"",_t.ERR+"",_t.WARN+"",_t.NOTICE+"",_t.INFO+"",_t.DEBUG+"",_t.EMERG+"",_t.ALERT+"",_t.CRIT+"",_t.ERR+"",_t.WARN+"",_t.NOTICE+"",_t.INFO+"",_t.DEBUG+"",_t.EMERG+"",_t.ALERT+"",_t.CRIT+"",_t.ERR+"",_t.WARN+"",_t.NOTICE+"",_t.INFO+"",_t.DEBUG+"",_t.EMERG+"",_t.ALERT+"",_t.CRIT+"",_t.ERR+"",_t.WARN+"",_t.NOTICE+"",_t.INFO+"",_t.DEBUG+"";let Ls=e=>[Yu(e),e.message];function Ku(e){const t=Ls(e);return typeof t=="string"?[t]:Array.from(t)}let Ms=console.error;function uo(e){e.level>Cs||Ms(...Ku(e))}let Cs=_t.ALERT,fo=!1,Ps=!0;function Xu(e){if(Ls=e.format??Ls,Ms=e.output??Ms,Cs=typeof e.level=="string"?qu(e.level):e.level??Cs,Ps=e.enabled??Ps,fo=e.stack??fo,!!e.dumpBacklog)for(const t of co)uo(t)}function Bs(e){return e!=null&&typeof e=="object"&&"create"in e&&typeof e.create=="function"}function Ju(e){return!(e&&e.constructor===Function)||e.prototype===void 0?!1:Function.prototype!==Object.getPrototypeOf(e)?!0:Object.getOwnPropertyNames(e.prototype).length>1}function Zu(e,t){if(typeof t!="object"||t===null)throw Kt(ee("EINVAL","Invalid options"));for(const[r,i]of Object.entries(e.options)){const n=t?.[r];if(n==null){if(!i.required){Cr("Using default for option: "+r);continue}throw Kt(ee("EINVAL","Missing required option: "+r))}const o=(h,_=n)=>typeof h=="function"?Ju(h)?n instanceof h:h(n):typeof n===h||n?.constructor?.name===h;if(Array.isArray(i.type)?i.type.some(h=>o(h)):o(i.type))continue;const u=typeof n=="object"&&"constructor"in n?n.constructor.name:typeof n,l=h=>typeof h=="function"?h.name!="type"?h.name:h.toString():h,p=Array.isArray(i.type)?`one of ${i.type.map(l).join(", ")}`:l(i.type);throw Kt(ee("EINVAL",`Incorrect type for "${r}": ${u} (expected ${p})`))}}function ho(e){return e!=null&&typeof e=="object"&&"backend"in e&&Bs(e.backend)}function _o(e){return{suid:e.uid,sgid:e.gid,euid:e.uid,egid:e.gid,groups:[],...e}}function Qu(e){return e?!e.uid||!e.gid||!e.euid||!e.egid||e.groups.some(t=>!t):!1}const mo=Symbol("ZenFSContext"),yo={[mo]:!0,id:0,root:"/",pwd:"/",credentials:_o({uid:0,gid:0}),descriptors:new Map,parent:null,children:[]};function kr(e){return typeof e=="object"&&e!==null&&mo in e?e:yo}const Mn=0,Xt=4,Qt=2,Cn=1,Fs=1,ef=2,tf=4,po=0,dr=1,ti=2,Pn=64,Bn=128,rf=256,Fn=512,Wi=1024,nf=65536,sf=262144,af=131072,Us=1052672,of=4096,cf=32768,lf=16384,uf=2048,Ct=61440,$i=49152,ri=40960,br=32768,Ii=24576,At=16384,yi=8192,Vi=4096,Oi=2048,Ai=1024,ff=512,df=448,go=256,wo=128,bo=64,hf=56,Eo=32,vo=16,So=8,_f=7,ko=4,Io=2,Oo=1,mf=0,Ir=4294967295;var Ao=Object.freeze({__proto__:null,COPYFILE_EXCL:Fs,COPYFILE_FICLONE:ef,COPYFILE_FICLONE_FORCE:tf,F_OK:Mn,O_APPEND:Wi,O_CREAT:Pn,O_DIRECT:lf,O_DIRECTORY:nf,O_DSYNC:of,O_EXCL:Bn,O_NOATIME:sf,O_NOCTTY:rf,O_NOFOLLOW:af,O_NONBLOCK:uf,O_RDONLY:po,O_RDWR:ti,O_SYMLINK:cf,O_SYNC:Us,O_TRUNC:Fn,O_WRONLY:dr,R_OK:Xt,S_IFBLK:Ii,S_IFCHR:yi,S_IFDIR:At,S_IFIFO:Vi,S_IFLNK:ri,S_IFMT:Ct,S_IFREG:br,S_IFSOCK:$i,S_IRGRP:Eo,S_IROTH:ko,S_IRUSR:go,S_IRWXG:hf,S_IRWXO:_f,S_IRWXU:df,S_ISGID:Ai,S_ISUID:Oi,S_ISVTX:ff,S_IWGRP:vo,S_IWOTH:Io,S_IWUSR:wo,S_IXGRP:So,S_IXOTH:Oo,S_IXUSR:bo,UV_FS_O_FILEMAP:mf,W_OK:Qt,X_OK:Cn,size_max:Ir});function Do(e){class t extends DataView{length;type=e;*[Symbol.iterator](){for(let i=0;i<this.length;i++)yield this[i]}constructor(i,n,o){const u=typeof i=="object"?i:new ArrayBuffer((i??0)*e.size);return super(u,n,o),this.length=typeof i=="number"?i:Math.floor(this.byteLength/e.size),new Proxy(this,{get(l,p){if(p in l)return l[p];const h=parseInt(p.toString());if(!Number.isSafeInteger(h))throw ee("EINVAL","Invalid index: "+p.toString());return e.get(l.buffer,l.byteOffset+h*e.size)},set(l,p,h){const _=parseInt(p.toString());if(!Number.isSafeInteger(_))throw ee("EINVAL","Invalid index: "+p.toString());return e.set(l.buffer,l.byteOffset+_*e.size,h),!0}})}}for(const r of Object.getOwnPropertyNames(DataView.prototype))!r.startsWith("get")&&!r.startsWith("set")||Object.defineProperty(t.prototype,r,{enumerable:!1,configurable:!1,writable:!1,value:void 0});return t}class fn{type;length;name;size;__arrayType;constructor(t,r){this.type=t,this.length=r,this.name=`${t.name}[${r}]`,this.size=t.size*r,this.array=Do(this),this.__arrayType=t.array?t.array:Do(t)}get=(t,r)=>new this.__arrayType(t,r,this.size);set=(t,r,i)=>{for(let n=0;n<this.length;n++)this.type.set(t,r+n*this.type.size,i[n])};array}function Gi(e){return typeof e!="object"&&typeof e!="function"||e===null||e===void 0?!1:e instanceof fn?Gi(e.type):"name"in e&&"size"in e&&"get"in e&&"set"in e&&typeof e.name=="string"&&typeof e.size=="number"&&typeof e.get=="function"&&typeof e.set=="function"&&Un.has(e.name)&&Un.get(e.name)?.name===e.name}const Un=new Map;function js(e){if(Un.has(e.name))throw new ReferenceError(`Type is already registered: ${e.name}`);Un.set(e.name,e)}function yf(e){return Gi(e)?{type:e}:e instanceof ii?e.toInit():e}class ii{type;init;constructor(t,r){this.type=t,this.init=r;const i=(n=>new ii(new fn(t,n),r));return Object.setPrototypeOf(i,new.target.prototype),Object.assign(i,{type:t,init:r}),i}align(t){return new ii(this.type,{...this.init,align:t})}countedBy(t){return new ii(this.type,{...this.init,countedBy:t})}bigEndian(){return new ii(this.type,{...this.init,bigEndian:!0})}toInit(){return{type:this.type,...this.init}}$type(){return new ii(this.type,this.init)}}function pf(e,t=0){return new ii(new fn(e,t),{})}function No(e,t,r={}){if(!e)throw ee("EINVAL","Invalid name for struct field");typeof e=="symbol"&&console.warn("Symbol used for struct field name will be coerced to string: "+e.toString());const i=e.toString(),n=Object.assign(yf(t),r);if(!Gi(n.type))throw ee("EINVAL",`Invalid type for struct field "${i}"`);return{name:i,offset:0,type:n.type,countedBy:n.countedBy,alignment:n.align??n.type.size,decl:n.type instanceof fn?`${n.typeName??n.type.type.name} ${i}[${n.type.length}]${n.countedBy?` counted_by(${n.countedBy})`:""}`:`${n.typeName??n.type.name} ${i}`,littleEndian:!n.bigEndian}}function To(e){throw e.message!=="offset is outside the bounds of the DataView"?e:ee("EFAULT","Segmentation fault")}function Ws(e,t,r,i){try{typeof r=="string"&&(r=r.charCodeAt(0));const n=e.byteOffset+t.offset+(i??0)*t.type.size;t.type.set(e.buffer,n,r);return}catch(n){To(n)}}function $s(e,t){try{return t.type.get(e.buffer,e.byteOffset+t.offset)}catch(r){To(r)}}const xo=Symbol("DataView");function tr(e){return e[xo]??=new DataView(e),e[xo]}const gf={name:"int8",size:1,array:Int8Array,get:(e,t)=>tr(e).getInt8(t),set:(e,t,r)=>tr(e).setInt8(t,r)},Ro={name:"uint8",size:1,array:Uint8Array,get:(e,t)=>tr(e).getUint8(t),set:(e,t,r)=>tr(e).setUint8(t,r)},qi={int8:gf,uint8:Ro,int16:{name:"int16",size:2,array:Int16Array,get:(e,t)=>tr(e).getInt16(t,!0),set:(e,t,r)=>tr(e).setInt16(t,r,!0)},uint16:{name:"uint16",size:2,array:Uint16Array,get:(e,t)=>tr(e).getUint16(t,!0),set:(e,t,r)=>tr(e).setUint16(t,r,!0)},int32:{name:"int32",size:4,array:Int32Array,get:(e,t)=>tr(e).getInt32(t,!0),set:(e,t,r)=>tr(e).setInt32(t,r,!0)},uint32:{name:"uint32",size:4,array:Uint32Array,get:(e,t)=>tr(e).getUint32(t,!0),set:(e,t,r)=>tr(e).setUint32(t,r,!0)},int64:{name:"int64",size:8,array:BigInt64Array,get:(e,t)=>tr(e).getBigInt64(t,!0),set:(e,t,r)=>tr(e).setBigInt64(t,r,!0)},uint64:{name:"uint64",size:8,array:BigUint64Array,get:(e,t)=>tr(e).getBigUint64(t,!0),set:(e,t,r)=>tr(e).setBigUint64(t,r,!0)},float32:{name:"float32",size:4,array:Float32Array,get:(e,t)=>tr(e).getFloat32(t,!0),set:(e,t,r)=>tr(e).setFloat32(t,r,!0)},float64:{name:"float64",size:8,array:Float64Array,get:(e,t)=>tr(e).getFloat64(t,!0),set:(e,t,r)=>tr(e).setFloat64(t,r,!0)}},wf=Object.keys(qi);for(const e of Object.values(qi))js(e);const zo={...qi,...Object.fromEntries(wf.map(e=>[ju(e),qi[e]])),char:Ro},Lo=Object.keys(zo);function bf(e){return Lo.includes(e.toString())}function Ef(e){if(!bf(e))throw ee("EINVAL","Not a valid primitive type: "+e)}function Mo(e){return e=="char"?"uint8":e.toLowerCase()}Symbol.metadata??=Symbol.for("Symbol.metadata");function Co(e){e.metadata??={};const t=e.metadata.structInit??{};return e.metadata.structInit={fields:[...t.fields??[]]},e.metadata.structInit}function gt(e,...t){const r=t.reduce((i,n)=>({...i,...n}),{});return typeof this=="object"&&Object.assign(r,this),function(n,o){const u=Co(o);let l=1;const p={};let h=0;const _=S=>{h=Math.ceil(h/S)*S};for(const S of u.fields)r.isPacked||_(S.alignment),r.isUnion?h=Math.max(h,S.type.size):(S.offset=h,h+=S.type.size),p[S.name]=S,l=Math.max(l,S.alignment);r.alignment??=l,r.isPacked||_(r.alignment),o.metadata.struct={fields:p,size:h,alignment:r.isPacked?1:r.alignment,isUnion:r.isUnion??!1};class m extends n{constructor(...O){O.length||(O=[new ArrayBuffer(h),0,h]),super(...O);for(const k of Object.values(p))Object.defineProperty(this,k.name,{enumerable:!0,configurable:!0,get(){return $s(this,k)},set(E){Ws(this,k,E)}})}}const A=S=>({writable:!1,enumerable:!1,configurable:!1,value:S});return Object.defineProperties(m,{name:A(e),size:A(h),alignment:A(r.alignment),isUnion:A(!!r.isUnion),fields:A(p),get:A((S,O)=>new m(S,O)),set:A((S,O,k)=>{const E=new Uint8Array(k.buffer,k.byteOffset,h),v=new Uint8Array(S,O,h);if(!(k.buffer===S&&k.byteOffset===O))for(let N=0;N<h;N++)v[N]=E[N]}),[Symbol.toStringTag]:A(`[struct ${e}]`)}),js(m),m}}gt.packed=gt.bind({isPacked:!0}),gt.align=function(e){return gt.bind({alignment:e})};function qr(e,t={}){return function(i,n){if(n.kind!="accessor")throw ee("EINVAL","Field must be an accessor");const o=Co(n),u=No(n.name,e,t);return o.fields.push(u),{get(){return $s(this,u)},set(l){Ws(this,u,l)}}}}function vf(e){const t=qi[Mo(e)];function r(i,n){return typeof i=="number"?qr(new fn(t,i),{typeName:e,...n}):qr(t,{typeName:e})(i,n&&"name"in n?n:bt(ee("EINVAL","Invalid decorator context object")))}return r}const te=Object.fromEntries(Lo.map(e=>[e,vf(e)]));function Hr(e){return e}Hr.typed=function(e){return e};function Po(e){return typeof e=="function"&&"prototype"in e&&"fields"in e&&typeof e.fields=="object"&&Gi(e)}function Hi(e,t,...r){const i=r.reduce((m,A)=>({...m,...A}),{});typeof this=="object"&&Object.assign(i,this);let n=1,o=0;const u=m=>{o=Math.ceil(o/m)*m},l=Object.create(null);for(const[m,A]of Object.entries(t)){if(typeof m=="number")throw new TypeError("Field names can not be numbers");const S=No(m,A);i.isPacked||u(S.alignment),i.isUnion?o=Math.max(o,S.type.size):(S.offset=o,o+=S.type.size),l[S.name]=S,n=Math.max(n,S.alignment)}i.alignment??=n,i.isPacked||u(i.alignment);class p extends DataView{static name=e;constructor(A=new ArrayBuffer(o),S,O){super(A,S,O??o);for(const k of Object.values(l))Object.defineProperty(this,k.name,{enumerable:!0,configurable:!0,get(){return $s(this,k)},set(E){Ws(this,k,E)}})}}for(const m of Object.getOwnPropertyNames(DataView.prototype))!m.startsWith("get")&&!m.startsWith("set")||Object.defineProperty(p.prototype,m,{enumerable:!1,configurable:!1,writable:!1,value:void 0});const h=p,_=m=>({writable:!1,enumerable:!1,configurable:!1,value:m});return Object.defineProperties(h,{size:_(o),alignment:_(i.alignment),isUnion:_(!!i.isUnion),fields:_(l),get:_((m,A)=>new h(m,A)),set:_((m,A,S)=>{const O=new Uint8Array(S.buffer,S.byteOffset,o),k=new Uint8Array(m,A,o);if(!(S.buffer===m&&S.byteOffset===A))for(let E=0;E<o;E++)k[E]=O[E]}),[Symbol.toStringTag]:_(`[struct ${e}]`)}),js(h),h}Hi.extend=function(e,t,r,...i){return Hi(t,{...e.fields,...r},...i)},Hi.packed=Hi.bind({isPacked:!0}),Hi.align=function(e){return Hi.bind({alignment:e})},Object.fromEntries(Object.entries(zo).map(([e,t])=>[e,new ii(t,{typeName:e})]));function xt(e){if(Gi(e))return e.size;if(e==null)return 0;if(typeof e=="object"&&Gi(e.constructor))return e.constructor.size;if(Array.isArray(e)){let t=0;for(let r=0;r<e.length;r++)t+=xt(e[r]);return t}if(typeof e=="string")return Ef(e),qi[Mo(e)].size;throw new TypeError(`Unable to resolve size of \`${e.toString()}\``)}function Bo(e,t){let r;if(Po(e))r=e;else if(Po(e.constructor))r=e.constructor;else throw ee("EINVAL","Type is not a struct or struct constructor");const{fields:i}=r;if(!(t in i))throw ee("EINVAL","Struct does not have field: "+t);return i[t].offset}function dn(e,t){if(e.byteLength>=t)return e;if(ArrayBuffer.isView(e)){const i=dn(e.buffer,t);return new e.constructor(i,e.byteOffset,t)}const r=typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer;if(e.maxByteLength>t)return r?e.grow(t):e.resize(t),e;if(r){const i=new SharedArrayBuffer(t);return new Uint8Array(i).set(new Uint8Array(e)),i}try{return e.transfer(t)}catch{const i=new ArrayBuffer(t);return new Uint8Array(i).set(new Uint8Array(e)),i}}class Yr extends DataView{constructor(t,r,i){const{buffer:n,byteOffset:o,byteLength:u}=new Uint8Array(t,r,i);super(n,o,u)}}for(const e of Object.getOwnPropertyNames(DataView.prototype))!e.startsWith("get")&&!e.startsWith("set")||Object.defineProperty(Yr.prototype,e,{value:()=>{throw new ReferenceError("Do not use DataView methods on a BufferView.")},writable:!1,enumerable:!1,configurable:!1});function cr(e){return JSON.parse(Vr(e),(t,r)=>t==""?r:typeof r=="string"?BigInt(r).toString(16).slice(0,Math.min(r.length,8)):r)}function Nr(e){return ei(JSON.stringify(e))}function ni(e,t){if(typeof e=="number")return e;if(typeof e=="string"){const r=parseInt(e,8);if(!isNaN(r))return r}if(typeof t=="number")return t;throw ee("EINVAL","Invalid mode: "+e?.toString())}function pi(e){if(e instanceof Date)return e.getTime();try{return Number(e)}catch{throw ee("EINVAL","Invalid time.")}}function Je(e,t=!1){if(e instanceof URL){if(e.protocol!="file:")throw ee("EINVAL","URLs must use the file: protocol");e=e.pathname}if(e=e.toString(),e.startsWith("file://")&&(e=e.slice(7)),e.includes("\0"))throw ee("EINVAL","Path can not contain null character");if(e.length==0)throw ee("EINVAL","Path can not be empty");return e=e.replaceAll(/[/\\]+/g,"/"),t?e:Or.call(this,e)}function si(e,t="utf8",r,i=0){return typeof e!="object"||e===null?{encoding:typeof e=="string"?e:t??null,flag:r,mode:i}:{encoding:typeof e?.encoding=="string"?e.encoding:t??null,flag:typeof e?.flag=="string"?e.flag:r,mode:ni("mode"in e?e?.mode:null,i)}}function Vs(e){return e=e.replace(/([.?+^$(){}|[\]/])/g,"$1").replace(/\*\*/g,".*").replace(/\*/g,"[^/]*").replace(/\?/g,"."),new RegExp(`^${e}$`)}function jn(e){return`/tmp/${Je(e,!0)}${Date.now()}-${Math.random().toString(36).slice(2)}`}function Fo(e,t){let r="",i=0,n=-1,o=0,u="\0";for(let l=0;l<=e.length;++l){if(l<e.length)u=e[l];else{if(u=="/")break;u="/"}if(u=="/"){if(!(n===l-1||o===1))if(o===2){if(r.length<2||i!==2||r.at(-1)!=="."||r.at(-2)!=="."){if(r.length>2){const p=r.lastIndexOf("/");p===-1?(r="",i=0):(r=r.slice(0,p),i=r.length-1-r.lastIndexOf("/")),n=l,o=0;continue}else if(r.length!==0){r="",i=0,n=l,o=0;continue}}t&&(r+=r.length>0?"/..":"..",i=2)}else r.length>0?r+="/"+e.slice(n+1,l):r=e.slice(n+1,l),i=l-n-1;n=l,o=0}else u==="."&&o!==-1?++o:o=-1}return r}function Or(...e){let t="";for(const i of[...e.reverse(),kr(this).pwd])if(i?.length&&(t=`${i}/${t}`,i.startsWith("/")))break;const r=t.startsWith("/");return t=Fo(t,!r),r?`/${t}`:t.length?t:"/"}function Uo(e){if(!e.length)return".";const t=e[0]==="/",r=e.at(-1)==="/";return e=Fo(e,!t),e.length?(r&&(e+="/"),t?`/${e}`:e):t?"/":r?"./":"."}function Dt(...e){if(!e.length)return".";const t=e.filter(r=>r).join("/");return t?.length?Uo(t):"."}function jo(e,t){if(e===t||(e=Or.call(this,e),t=Or.call(this,t),e===t))return"";const r=1,i=e.length,n=i-r,o=1,u=t.length-o,l=n<u?n:u;let p=-1,h=0;for(;h<l;h++){const m=e[r+h];if(m!==t[o+h])break;m==="/"&&(p=h)}if(h===l)if(u>l){if(t[o+h]==="/")return t.slice(o+h+1);if(h===0)return t.slice(o+h)}else n>l&&(e[r+h]==="/"?p=h:h===0&&(p=0));let _="";for(h=r+p+1;h<=i;++h)(h===i||e[h]==="/")&&(_+=_.length===0?"..":"/..");return`${_}${t.slice(o+p)}`}function Et(e){if(e.length===0)return".";const t=e[0]==="/";let r=-1,i=!0;for(let n=e.length-1;n>=1;--n)if(e[n]==="/"){if(!i){r=n;break}}else i=!1;return r===-1?t?"/":".":t&&r===1?"//":e.slice(0,r)}function Pr(e,t){let r=0,i=-1,n=!0;for(let o=e.length-1;o>=0;--o)if(e[o]==="/"){if(!n){r=o+1;break}}else i===-1&&(n=!1,i=o+1);return i===-1?"":e.slice(r,i)}function lr(e){const t=e[0]==="/",r={root:t?"/":"",dir:"",base:"",ext:"",name:""};if(e.length===0)return r;const i=t?1:0;let n=-1,o=0,u=-1,l=!0,p=e.length-1,h=0;for(;p>=i;--p){if(e[p]==="/"){if(!l){o=p+1;break}continue}u===-1&&(l=!1,u=p+1),e[p]==="."?n===-1?n=p:h!==1&&(h=1):n!==-1&&(h=-1)}if(u!==-1){const _=o===0&&t?1:o;n===-1||h===0||h===1&&n===u-1&&n===o+1?r.base=r.name=e.slice(_,u):(r.name=e.slice(_,n),r.base=e.slice(_,u),r.ext=e.slice(n,u))}return o>0?r.dir=e.slice(0,o-1):t&&(r.dir="/"),r}function Wo(e,t){return Vs(e).test(t)}const Wn=BigInt(1e3);class $o{_convert(t){return this._isBigint?BigInt(t):Number(t)}get blocks(){return this._convert(Math.ceil(Number(this.size)/512))}set blocks(t){}mode;dev=this._convert(0);ino=this._convert(0);rdev=this._convert(0);nlink=this._convert(1);blksize=this._convert(4096);uid=this._convert(0);gid=this._convert(0);atimeMs;get atime(){return new Date(Number(this.atimeMs))}set atime(t){this.atimeMs=this._convert(t.getTime())}mtimeMs;get mtime(){return new Date(Number(this.mtimeMs))}set mtime(t){this.mtimeMs=this._convert(t.getTime())}ctimeMs;get ctime(){return new Date(Number(this.ctimeMs))}set ctime(t){this.ctimeMs=this._convert(t.getTime())}birthtimeMs;get birthtime(){return new Date(Number(this.birthtimeMs))}set birthtime(t){this.birthtimeMs=this._convert(t.getTime())}size;data;flags;version;constructor({atimeMs:t,mtimeMs:r,ctimeMs:i,birthtimeMs:n,uid:o,gid:u,size:l,mode:p,ino:h,..._}={}){const m=Date.now();this.atimeMs=this._convert(t??m),this.mtimeMs=this._convert(r??m),this.ctimeMs=this._convert(i??m),this.birthtimeMs=this._convert(n??m),this.uid=this._convert(o??0),this.gid=this._convert(u??0),this.size=this._convert(l??0),this.ino=this._convert(h??0),this.mode=this._convert(p??420&br),(this.mode&Ct)==0&&(this.mode=this.mode|this._convert(br)),Object.assign(this,_)}isFile(){return(this.mode&Ct)===br}isDirectory(){return(this.mode&Ct)===At}isSymbolicLink(){return(this.mode&Ct)===ri}isSocket(){return(this.mode&Ct)===$i}isBlockDevice(){return(this.mode&Ct)===Ii}isCharacterDevice(){return(this.mode&Ct)===yi}isFIFO(){return(this.mode&Ct)===Vi}toJSON(){return ro(this,hn)}hasAccess(t,r){return yt(r,this._isBigint?new ai(this):this,t)}get atimeNs(){return BigInt(this.atimeMs)*Wn}get mtimeNs(){return BigInt(this.mtimeMs)*Wn}get ctimeNs(){return BigInt(this.ctimeMs)*Wn}get birthtimeNs(){return BigInt(this.birthtimeMs)*Wn}}class ai extends $o{_isBigint=!1}class Di extends $o{_isBigint=!0}function Sf(e,t){return e.size==t.size&&+e.atime==+t.atime&&+e.mtime==+t.mtime&&+e.ctime==+t.ctime&&e.mode==t.mode}class kf{type=525687744115;bsize=4096;blocks=0;bfree=0;bavail=0;files=Ir;ffree=Ir}class If{type=BigInt("0x7a656e6673");bsize=BigInt(4096);blocks=BigInt(0);bfree=BigInt(0);bavail=BigInt(0);files=BigInt(Ir);ffree=BigInt(Ir)}var Bt=function(e,t,r,i,n,o){function u(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var l=i.kind,p=l==="getter"?"get":l==="setter"?"set":"value",h=!t&&e?i.static?e:e.prototype:null,_=t||(h?Object.getOwnPropertyDescriptor(h,i.name):{}),m,A=!1,S=r.length-1;S>=0;S--){var O={};for(var k in i)O[k]=k==="access"?{}:i[k];for(var k in i.access)O.access[k]=i.access[k];O.addInitializer=function(v){if(A)throw new TypeError("Cannot add initializers after decoration has completed");o.push(u(v||null))};var E=(0,r[S])(l==="accessor"?{get:_.get,set:_.set}:_[p],O);if(l==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(m=u(E.get))&&(_.get=m),(m=u(E.set))&&(_.set=m),(m=u(E.init))&&n.unshift(m)}else(m=u(E))&&(l==="field"?n.unshift(m):_[p]=m)}h&&Object.defineProperty(h,i.name,_),A=!0},ct=function(e,t,r){for(var i=arguments.length>2,n=0;n<t.length;n++)r=i?t[n].call(e,r):t[n].call(e);return i?r:void 0};const mr=0,Gs=3968;let oi=(()=>{var e,t;let r=[gt.packed("Attribute")],i,n=[],o,u=Hr.typed(Uint8Array),l,p=[],h=[],_,m=[],A=[];return class extends u{static{o=this}static{const S=typeof Symbol=="function"&&Symbol.metadata?Object.create(u[Symbol.metadata]??null):void 0;l=[(e=te).uint32.bind(e)],_=[(t=te).uint32.bind(t)],Bt(this,null,l,{kind:"accessor",name:"keySize",static:!1,private:!1,access:{has:O=>"keySize"in O,get:O=>O.keySize,set:(O,k)=>{O.keySize=k}},metadata:S},p,h),Bt(this,null,_,{kind:"accessor",name:"valueSize",static:!1,private:!1,access:{has:O=>"valueSize"in O,get:O=>O.valueSize,set:(O,k)=>{O.valueSize=k}},metadata:S},m,A),Bt(null,i={value:o},r,{kind:"class",name:o.name,metadata:S},null,n),o=i.value,S&&Object.defineProperty(o,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:S}),ct(o,n)}#e=ct(this,p,void 0);get keySize(){return this.#e}set keySize(S){this.#e=S}#t=(ct(this,h),ct(this,m,void 0));get valueSize(){return this.#t}set valueSize(S){this.#t=S}get name(){return Vr(this.subarray(8,8+this.keySize))}set name(S){const O=ei(S);if(8+O.length+this.valueSize>Gs)throw ee("EOVERFLOW");this.set(O,8),this.keySize=O.length}get value(){return this.subarray(8+this.keySize,this.size)}set value(S){if(8+this.keySize+S.length>Gs)throw ee("EOVERFLOW");this.valueSize=S.length,this.set(S,8+this.keySize)}get size(){return 8+this.keySize+this.valueSize}constructor(){super(...arguments),ct(this,A)}},o})(),Ni=(()=>{var e;let t=[gt.packed("Attributes")],r,i=[],n,o=Yr,u,l=[],p=[];return class extends o{static{n=this}static{const h=typeof Symbol=="function"&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;u=[(e=te).uint32.bind(e)],Bt(this,null,u,{kind:"accessor",name:"size",static:!1,private:!1,access:{has:_=>"size"in _,get:_=>_.size,set:(_,m)=>{_.size=m}},metadata:h},l,p),Bt(null,r={value:n},t,{kind:"class",name:n.name,metadata:h},null,i),n=r.value,h&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h}),ct(n,i)}#e=ct(this,l,void 0);get size(){return this.#e}set size(h){this.#e=h}get byteSize(){let h=this.byteOffset+xt(this);for(let _=0;_<this.size;_++){const m=new oi(this.buffer,h);h+=m.size}return h}has(h){let _=this.byteOffset+xt(this);for(let m=0;m<this.size;m++){const A=new oi(this.buffer,_);if(A.name==h)return!0;_+=A.size}return!1}get(h){let _=this.byteOffset+xt(this);for(let m=0;m<this.size;m++){const A=new oi(this.buffer,_);if(A.name==h)return A.value;_+=A.size}}set(h,_){let m=this.byteOffset+xt(this),A;for(let k=0;k<this.size;k++){const E=new oi(this.buffer,m);E.name==h&&(A=[m,E.size]),m+=E.size}const S=new Uint8Array(this.buffer);if(A){const[k,E]=A;m-=E,S.copyWithin(k,k+E,m+E),S.fill(0,m,m+E),this.size--}const O=new oi(this.buffer,m);O.name=h,O.value=_,this.size++}remove(h){let _=this.byteOffset+xt(this),m;for(let k=0;k<this.size;k++){const E=new oi(this.buffer,_);E.name==h&&(m=[_,E.size]),_+=E.size}if(!m)return!1;const[A,S]=m,O=new Uint8Array(this.buffer);return O.copyWithin(A,A+S,_),O.fill(0,_-S,_),this.size--,!0}copyFrom(h){const{byteSize:_}=h;new Uint8Array(this.buffer,this.byteOffset,_).set(new Uint8Array(h.buffer,h.byteOffset,_))}*keys(){let h=this.byteOffset+xt(this);for(let _=0;_<this.size;_++){const m=new oi(this.buffer,h);yield m.name,h+=m.size}}*values(){let h=this.byteOffset+xt(this);for(let _=0;_<this.size;_++){const m=new oi(this.buffer,h);yield m.value,h+=m.size}}*entries(){let h=this.byteOffset+xt(this);for(let _=0;_<this.size;_++){const m=new oi(this.buffer,h);yield[m.name,m.value],h+=m.size}}constructor(){super(...arguments),ct(this,p)}},n})();const hn=["ino","data","size","mode","flags","nlink","uid","gid","atimeMs","birthtimeMs","mtimeMs","ctimeMs","version"],Vo=5;var yr;(function(e){e[e.Sync=1]="Sync",e[e.NoAtime=2]="NoAtime",e[e.Append=4]="Append",e[e.Immutable=8]="Immutable",e[e.Dead=16]="Dead",e[e.NoQuota=32]="NoQuota",e[e.Dirsync=64]="Dirsync",e[e.NoCMtime=128]="NoCMtime",e[e.SwapFile=256]="SwapFile",e[e.Private=512]="Private",e[e.IMA=1024]="IMA",e[e.AutoMount=2048]="AutoMount",e[e.NoSec=4096]="NoSec",e[e.DAX=8192]="DAX",e[e.Encrypted=16384]="Encrypted",e[e.CaseFold=32768]="CaseFold",e[e.Verity=65536]="Verity",e[e.KernelFile=131072]="KernelFile"})(yr||(yr={}));let Ot=(()=>{var e,t,r,i,n,o,u,l,p,h,_,m,A,S,O,k;let E=[gt.packed("Inode")],v,N=[],T,j=Yr,R,V=[],ae=[],ne,de=[],P=[],Y,me=[],G=[],J,re=[],ve=[],We,_e=[],W=[],x,X=[],se=[],ie,Le=[],je=[],Qe,He=[],ue=[],ye,be=[],ge=[],xe,$=[],Z=[],fe,Ne=[],Oe=[],Se,C=[],q=[],he,le=[],rt=[],Tt,at=[],It=[],I,d=[],y=[],z,H=[],U=[],B,Ce=[],wt=[],ze,et=[],Ae=[],Ee,ot=[],Rt=[];var Ge=class extends j{static{T=this}static{const Be=typeof Symbol=="function"&&Symbol.metadata?Object.create(j[Symbol.metadata]??null):void 0;R=[(e=te).uint32.bind(e)],ne=[(t=te).uint32.bind(t)],Y=[(r=te).uint32.bind(r)],J=[(i=te).uint16.bind(i)],We=[(n=te).uint32.bind(n)],x=[(o=te).uint32.bind(o)],ie=[(u=te).uint32.bind(u)],Qe=[(l=te).float64.bind(l)],ye=[(p=te).float64.bind(p)],xe=[(h=te).float64.bind(h)],fe=[(_=te).float64.bind(_)],Se=[(m=te).uint32.bind(m)],he=[(A=te).uint32.bind(A)],Tt=[(S=te).uint32.bind(S)],I=[(O=te).uint16.bind(O)],z=[(k=te).uint32.bind(k)],B=[te.uint8(48)],ze=[qr(Ni)],Ee=[te.uint8(Gs)],Bt(this,null,R,{kind:"accessor",name:"data",static:!1,private:!1,access:{has:we=>"data"in we,get:we=>we.data,set:(we,st)=>{we.data=st}},metadata:Be},V,ae),Bt(this,null,ne,{kind:"accessor",name:"__data_old",static:!1,private:!1,access:{has:we=>"__data_old"in we,get:we=>we.__data_old,set:(we,st)=>{we.__data_old=st}},metadata:Be},de,P),Bt(this,null,Y,{kind:"accessor",name:"size",static:!1,private:!1,access:{has:we=>"size"in we,get:we=>we.size,set:(we,st)=>{we.size=st}},metadata:Be},me,G),Bt(this,null,J,{kind:"accessor",name:"mode",static:!1,private:!1,access:{has:we=>"mode"in we,get:we=>we.mode,set:(we,st)=>{we.mode=st}},metadata:Be},re,ve),Bt(this,null,We,{kind:"accessor",name:"nlink",static:!1,private:!1,access:{has:we=>"nlink"in we,get:we=>we.nlink,set:(we,st)=>{we.nlink=st}},metadata:Be},_e,W),Bt(this,null,x,{kind:"accessor",name:"uid",static:!1,private:!1,access:{has:we=>"uid"in we,get:we=>we.uid,set:(we,st)=>{we.uid=st}},metadata:Be},X,se),Bt(this,null,ie,{kind:"accessor",name:"gid",static:!1,private:!1,access:{has:we=>"gid"in we,get:we=>we.gid,set:(we,st)=>{we.gid=st}},metadata:Be},Le,je),Bt(this,null,Qe,{kind:"accessor",name:"atimeMs",static:!1,private:!1,access:{has:we=>"atimeMs"in we,get:we=>we.atimeMs,set:(we,st)=>{we.atimeMs=st}},metadata:Be},He,ue),Bt(this,null,ye,{kind:"accessor",name:"birthtimeMs",static:!1,private:!1,access:{has:we=>"birthtimeMs"in we,get:we=>we.birthtimeMs,set:(we,st)=>{we.birthtimeMs=st}},metadata:Be},be,ge),Bt(this,null,xe,{kind:"accessor",name:"mtimeMs",static:!1,private:!1,access:{has:we=>"mtimeMs"in we,get:we=>we.mtimeMs,set:(we,st)=>{we.mtimeMs=st}},metadata:Be},$,Z),Bt(this,null,fe,{kind:"accessor",name:"ctimeMs",static:!1,private:!1,access:{has:we=>"ctimeMs"in we,get:we=>we.ctimeMs,set:(we,st)=>{we.ctimeMs=st}},metadata:Be},Ne,Oe),Bt(this,null,Se,{kind:"accessor",name:"ino",static:!1,private:!1,access:{has:we=>"ino"in we,get:we=>we.ino,set:(we,st)=>{we.ino=st}},metadata:Be},C,q),Bt(this,null,he,{kind:"accessor",name:"__ino_old",static:!1,private:!1,access:{has:we=>"__ino_old"in we,get:we=>we.__ino_old,set:(we,st)=>{we.__ino_old=st}},metadata:Be},le,rt),Bt(this,null,Tt,{kind:"accessor",name:"flags",static:!1,private:!1,access:{has:we=>"flags"in we,get:we=>we.flags,set:(we,st)=>{we.flags=st}},metadata:Be},at,It),Bt(this,null,I,{kind:"accessor",name:"__after_flags",static:!1,private:!1,access:{has:we=>"__after_flags"in we,get:we=>we.__after_flags,set:(we,st)=>{we.__after_flags=st}},metadata:Be},d,y),Bt(this,null,z,{kind:"accessor",name:"version",static:!1,private:!1,access:{has:we=>"version"in we,get:we=>we.version,set:(we,st)=>{we.version=st}},metadata:Be},H,U),Bt(this,null,B,{kind:"accessor",name:"__padding",static:!1,private:!1,access:{has:we=>"__padding"in we,get:we=>we.__padding,set:(we,st)=>{we.__padding=st}},metadata:Be},Ce,wt),Bt(this,null,ze,{kind:"accessor",name:"attributes",static:!1,private:!1,access:{has:we=>"attributes"in we,get:we=>we.attributes,set:(we,st)=>{we.attributes=st}},metadata:Be},et,Ae),Bt(this,null,Ee,{kind:"accessor",name:"__data",static:!1,private:!1,access:{has:we=>"__data"in we,get:we=>we.__data,set:(we,st)=>{we.__data=st}},metadata:Be},ot,Rt),Bt(null,v={value:T},E,{kind:"class",name:T.name,metadata:Be},null,N),Ge=T=v.value,Be&&Object.defineProperty(T,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:Be}),ct(T,N)}constructor(...Be){let we={};if(typeof Be[0]=="object"&&Be[0]!==null&&!ArrayBuffer.isView(Be[0])&&(we=Be[0],Be=[xt(Ge)]),super(...Be),ct(this,Rt),this.byteLength<xt(Ge))throw Gr(ee("EIO",`Buffer is too small to create an inode (${this.byteLength} bytes)`));Object.assign(this,we),this.atimeMs||=Date.now(),this.mtimeMs||=Date.now(),this.ctimeMs||=Date.now(),this.birthtimeMs||=Date.now(),this.ino&&!this.nlink&&qt(`Inode ${this.ino} has an nlink of 0`)}#e=ct(this,V,void 0);get data(){return this.#e}set data(Be){this.#e=Be}#t=(ct(this,ae),ct(this,de,void 0));get __data_old(){return this.#t}set __data_old(Be){this.#t=Be}#r=(ct(this,P),ct(this,me,void 0));get size(){return this.#r}set size(Be){this.#r=Be}#i=(ct(this,G),ct(this,re,void 0));get mode(){return this.#i}set mode(Be){this.#i=Be}#n=(ct(this,ve),ct(this,_e,void 0));get nlink(){return this.#n}set nlink(Be){this.#n=Be}#s=(ct(this,W),ct(this,X,void 0));get uid(){return this.#s}set uid(Be){this.#s=Be}#a=(ct(this,se),ct(this,Le,void 0));get gid(){return this.#a}set gid(Be){this.#a=Be}#o=(ct(this,je),ct(this,He,void 0));get atimeMs(){return this.#o}set atimeMs(Be){this.#o=Be}#c=(ct(this,ue),ct(this,be,void 0));get birthtimeMs(){return this.#c}set birthtimeMs(Be){this.#c=Be}#l=(ct(this,ge),ct(this,$,void 0));get mtimeMs(){return this.#l}set mtimeMs(Be){this.#l=Be}#u=(ct(this,Z),ct(this,Ne,void 0));get ctimeMs(){return this.#u}set ctimeMs(Be){this.#u=Be}#f=(ct(this,Oe),ct(this,C,void 0));get ino(){return this.#f}set ino(Be){this.#f=Be}#d=(ct(this,q),ct(this,le,void 0));get __ino_old(){return this.#d}set __ino_old(Be){this.#d=Be}#h=(ct(this,rt),ct(this,at,void 0));get flags(){return this.#h}set flags(Be){this.#h=Be}#_=(ct(this,It),ct(this,d,void 0));get __after_flags(){return this.#_}set __after_flags(Be){this.#_=Be}#m=(ct(this,y),ct(this,H,void 0));get version(){return this.#m}set version(Be){this.#m=Be}#y=(ct(this,U),ct(this,Ce,void 0));get __padding(){return this.#y}set __padding(Be){this.#y=Be}#p=(ct(this,wt),ct(this,et,void 0));get attributes(){return this.#p}set attributes(Be){this.#p=Be}#g=(ct(this,Ae),ct(this,ot,void 0));get __data(){return this.#g}set __data(Be){this.#g=Be}toString(){return`<Inode ${this.ino}>`}toJSON(){return{...ro(this,hn),attributes:this.attributes}}toStats(){return new ai(this)}update(Be){if(!Be)return!1;let we=!1;for(const st of hn)Be[st]!==void 0&&(st=="ino"||st=="data"||this[st]!==Be[st]&&(st=="atimeMs"&&this.flags&yr.NoAtime||(this[st]=Be[st],we=!0)));return Be.attributes&&(this.attributes.copyFrom(Be.attributes),we=!0),we&&(this.ctimeMs=Date.now()),we}};return Ge=T})();function Go(e){return(e.mode&Ct)===br}function nr(e){return(e.mode&Ct)===At}function Ti(e){return(e.mode&Ct)===ri}function $n(e){return(e.mode&Ct)===Ii}function Vn(e){return(e.mode&Ct)===yi}function yt(e,t,r){const{credentials:i}=kr(e);if(Ti(t)||i.euid===0||i.egid===0)return!0;let n=0;return i.uid===t.uid&&(t.mode&go&&(n|=Xt),t.mode&wo&&(n|=Qt),t.mode&bo&&(n|=Cn)),(i.gid===t.gid||i.groups.includes(Number(t.gid)))&&(t.mode&Eo&&(n|=Xt),t.mode&vo&&(n|=Qt),t.mode&So&&(n|=Cn)),t.mode&ko&&(n|=Xt),t.mode&Io&&(n|=Qt),t.mode&Oo&&(n|=Cn),(n&r)===r}function qo(e,t,r){let i=!0;return!isNaN(t)&&t>=0&&t<Ir?e.uid=t:i=!1,!isNaN(r)&&r>=0&&r<Ir?e.gid=r:i=!1,i}const Ho=1;class Gn extends Map{maxSize=Ir;toJSON(){return{version:Ho,maxSize:this.maxSize,entries:Object.fromEntries([...this].map(([t,r])=>[t,r.toJSON()]))}}toString(){return JSON.stringify(this.toJSON())}get byteSize(){let t=this.size*xt(Ot);for(const r of this.values())t+=r.size;return t}usage(){return{totalSpace:this.maxSize,freeSpace:this.maxSize-this.byteSize}}pathOf(t){for(const[r,i]of this)if(i.ino==t||i.data==t)return r}getByID(t){return this.entryByID(t)?.inode}entryByID(t){for(const[r,i]of this)if(i.ino==t||i.data==t)return{path:r,inode:i}}directoryEntries(t){const r=this.get(t);if(!r)throw ee("ENOENT");if((r.mode&Ct)!=At)throw ee("ENOTDIR");const i={};for(const n of this.keys())Et(n)==t&&n!=t&&(i[Pr(n)]=this.get(n).ino);return i}_alloc(){return Math.max(...[...this.values()].flatMap(t=>[t.ino,t.data]))+1}directories(){const t=new Map;for(const[r,i]of this){if((i.mode&Ct)!=At)continue;const n={};for(const o of this.keys())Et(o)==r&&o!=r&&(n[Pr(o)]=this.get(o).ino);t.set(r,n)}return t}fromJSON(t){if(t.version!=Ho)throw ee("EINVAL","Index version mismatch");this.clear();for(const[r,i]of Object.entries(t.entries))i.data??=Uu(1,Ir),r=="/"&&(i.ino=0),this.set(r,new Ot(i));return this}static parse(t){if(!Bu(t))throw ee("EINVAL","Invalid JSON");const r=JSON.parse(t),i=new Gn;return i.fromJSON(r),i}}const qs=4096;class ci{type;name;label;_mountPoint;_uuid=crypto.randomUUID();get uuid(){return this._uuid}attributes=new Map;constructor(t,r){this.type=t,this.name=r,this.streamRead===ci.prototype.streamRead&&this.attributes.set("default_stream_read"),this.streamWrite===ci.prototype.streamWrite&&this.attributes.set("default_stream_write")}toString(){return`${this.name} ${this.label?JSON.stringify(this.label):""} (${this._mountPoint?"mounted on "+this._mountPoint:"unmounted"})`}usage(){return{totalSpace:0,freeSpace:0}}async ready(){}async exists(t){try{return await this.stat(t),!0}catch(r){return r.code!="ENOENT"}}existsSync(t){try{return this.statSync(t),!0}catch(r){return r.code!="ENOENT"}}streamRead(t,r){return new ReadableStream({start:async i=>{const{size:n}=await this.stat(t),{start:o=0,end:u=n}=r;for(let l=o;l<u;l+=qs){const p=l+qs>u?u-l:qs,h=new Uint8Array(p);await this.read(t,h,l,l+p).catch(i.error.bind(i)),i.enqueue(h)}i.close()},type:"bytes"})}streamWrite(t,r){let i=r.start??0;return new WritableStream({write:async(n,o)=>{let u=!1;const l=h=>{u=!0,o.error(h)},{size:p}=await this.stat(t);await this.write(t,n,i).catch(l),!u&&(i+=n.byteLength,await this.touch(t,{mtimeMs:Date.now(),size:Math.max(p,i)}).catch(l))}})}}class Of{id;_size;options;regions=[];get size(){return this._size}set size(t){if(t>=this._size){this._size=t;return}this._size=t;for(let r=this.regions.length-1;r>=0;r--){const i=this.regions[r];if(i.offset>=t){this.regions.splice(r,1);continue}const n=t-i.offset;i.data.byteLength>n&&(i.data=i.data.subarray(0,n)),i.ranges=i.ranges.filter(o=>o.start<t).map(o=>o.end>t?{start:o.start,end:t}:o)}}constructor(t,r,i,n){this.id=t,this._size=r,this.options=i,i.sparse??=!0,i.sparse||this.regions.push({offset:0,data:new Uint8Array(r),ranges:[]}),n?.set(t,this)}collect(){if(!this.options.sparse)return;const{regionGapThreshold:t=4095}=this.options;for(let r=0;r<this.regions.length-1;){const i=this.regions[r],n=this.regions[r+1];if(n.offset-(i.offset+i.data.byteLength)>t){r++;continue}i.ranges.push(...n.ranges),i.ranges.sort((o,u)=>o.start-u.start),i.ranges=i.ranges.reduce((o,u)=>(!o.length||o.at(-1).end<u.start?o.push(u):o.at(-1).end=Math.max(o.at(-1).end,u.end),o),[]),i.data=dn(i.data,n.offset+n.data.byteLength),i.data.set(n.data,n.offset-i.offset),this.regions.splice(r+1,1)}}missing(t,r){const i=[];for(const n of this.regions){if(n.offset>=r)break;for(const o of n.ranges)if(!(o.end<=t)&&(o.start>=r||(o.start>t&&i.push({start:t,end:Math.min(o.start,r)}),o.end>t&&(t=Math.max(t,o.end)),t>=r)))break;if(t>=r)break}return t<r&&i.push({start:t,end:r}),i}cached(t,r){const i=[];for(const o of this.regions){if(o.offset>=r)break;for(const u of o.ranges)if(!(u.end<=t)){if(u.start>=r)break;i.push({start:Math.max(t,u.start),end:Math.min(r,u.end)})}}i.sort((o,u)=>o.start-u.start);const n=[];for(const o of i){const u=n.at(-1);u&&o.start<=u.end?u.end=Math.max(u.end,o.end):n.push(o)}return n}regionAt(t){if(this.regions.length)for(const r of this.regions){if(r.offset>t)break;if(t>=r.offset&&t<r.offset+r.data.byteLength)return r}}add(t,r){const i=r+t.byteLength,n=this.regionAt(r);if(n)return n.data=dn(n.data,i),n.data.set(t,r),n.ranges.push({start:r,end:i}),n.ranges.sort((l,p)=>l.start-p.start),this.collect(),this;const o={data:t,offset:r,ranges:[{start:r,end:i}]},u=this.regions.findIndex(l=>l.offset>r);return u==-1?this.regions.push(o):this.regions.splice(u,0,o),this.collect(),this}}Promise.withResolvers??=(qt("Using a polyfill of Promise.withResolvers"),function(){let e,t;return{promise:new Promise((i,n)=>{e=i,t=n}),resolve:e,reject:t}}),Symbol.dispose??=(qt("Using a polyfill of Symbol.dispose"),Symbol("Symbol.dispose")),Symbol.asyncDispose??=(qt("Using a polyfill of Symbol.asyncDispose"),Symbol("Symbol.asyncDispose")),globalThis.crypto.randomUUID??=(qt("Using a polyfill of crypto.randomUUID"),function(){const t=crypto.getRandomValues(new Uint8Array(16));t[6]=t[6]&15|64,t[8]=t[8]&63|128;const r=[...t].map(i=>i.toString(16).padStart(2,"0")).join("");return`${r.slice(0,8)}-${r.slice(8,12)}-${r.slice(12,16)}-${r.slice(16,20)}-${r.slice(20)}`}),Uint8Array.prototype.toBase64??=(qt("Using a polyfill of Uint8Array.prototype.toBase64"),function(){return btoa(String.fromCharCode(...this))}),Uint8Array.fromBase64??=(qt("Using a polyfill of Uint8Array.fromBase64"),function(t){const r=atob(t),i=new Uint8Array(r.length);for(let n=0;n<r.length;n++)i[n]=r.charCodeAt(n);return i}),Uint8Array.prototype.toHex??=(qt("Using a polyfill of Uint8Array.prototype.toHex"),function(){return[...this].map(t=>t.toString(16).padStart(2,"0")).join("")}),Uint8Array.fromHex??=(qt("Using a polyfill of Uint8Array.fromHex"),function(t){const r=new Uint8Array(t.length/2);for(let i=0;i<t.length;i+=2)r[i/2]=parseInt(t.slice(i,i+2),16);return r});class Hs{store;constructor(t){this.store=t}}class Af extends Hs{async get(t,r,i){return this.getSync(t,r,i)}async set(t,r,i){return this.setSync(t,r,i)}async remove(t){return this.removeSync(t)}}class Yo extends Hs{asyncDone=Promise.resolve();async(t){this.asyncDone=this.asyncDone.then(()=>t)}_cached(t,r){this.store.cache??=new Map;const i=this.store.cache.get(t);return i?(r&&(i.size=r.size),i):r?new Of(t,r.size,{},this.store.cache):void 0}getSync(t,r,i){const n=this._cached(t);if(!n)return;i??=n.size;const o=n.missing(r,i);for(const{start:l,end:p}of o)this.async(this.get(t,l,p));if(o.length)throw ee("EAGAIN");const u=n.regionAt(r);if(!u){qt("Missing cache region for "+t);return}return u.data.subarray(r-u.offset,i-u.offset)}setSync(t,r,i){this.async(this.set(t,r,i))}removeSync(t){this.async(this.remove(t)),this.store.cache?.delete(t)}}class Df{raw;fs;done=!1;flag(t){return this.raw.store.flags?.includes(t)??!1}constructor(t,r){this.raw=t,this.fs=r}originalData=new Map;modifiedKeys=new Set;keys(){return this.raw.keys()}async get(t,r=0,i){const n=await this.raw.get(t,r,i);return this.stash(t),n}getSync(t,r=0,i){const n=this.raw.getSync(t,r,i);return this.stash(t),n}async set(t,r,i=0){await this.markModified(t,i,r.byteLength);const n=r instanceof Uint8Array?r:new Uint8Array(r.buffer,r.byteOffset,r.byteLength);await this.raw.set(t,n,i)}setSync(t,r,i=0){this.markModifiedSync(t,i,r.byteLength);const n=r instanceof Uint8Array?r:new Uint8Array(r.buffer,r.byteOffset,r.byteLength);this.raw.setSync(t,n,i)}async remove(t){await this.markModified(t,0,void 0),await this.raw.remove(t)}removeSync(t){this.markModifiedSync(t,0,void 0),this.raw.removeSync(t)}commit(){return this.done=!0,Promise.resolve()}commitSync(){this.done=!0}async abort(){if(!this.done){for(const[t,r]of this.originalData)if(this.modifiedKeys.has(t)){if(r.some(i=>!i.data)){await this.raw.remove(t),this.fs._remove(t);continue}for(const i of r.reverse())await this.raw.set(t,i.data,i.offset)}this.done=!0}}abortSync(){if(!this.done){for(const[t,r]of this.originalData)if(this.modifiedKeys.has(t)){if(r.some(i=>!i.data)){this.raw.removeSync(t),this.fs._remove(t);continue}for(const i of r.reverse())this.raw.setSync(t,i.data,i.offset)}this.done=!0}}async[Symbol.asyncDispose](){this.done||await this.abort()}[Symbol.dispose](){this.done||this.abortSync()}stash(t,r,i=0){this.originalData.has(t)||this.originalData.set(t,[]),this.originalData.get(t).push({data:r,offset:i})}async markModified(t,r,i){this.modifiedKeys.add(t);const n=i?r+i:void 0;try{this.stash(t,await this.raw.get(t,r,n),r)}catch(o){if(!(this.raw instanceof Yo))throw o;const l=this.raw._cached(t);if(!l)throw o;for(const p of l.cached(r,n??r))this.stash(t,await this.raw.get(t,p.start,p.end),p.start)}}markModifiedSync(t,r,i){this.modifiedKeys.add(t);const n=i?r+i:void 0;try{this.stash(t,this.raw.getSync(t,r,n),r)}catch(o){if(!(this.raw instanceof Yo))throw o;const l=this.raw._cached(t);if(!l)throw o;for(const p of l.cached(r,n??r))this.stash(t,this.raw.getSync(t,p.start,p.end),p.start)}}}var Ft=function(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var i,n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=t[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=t[Symbol.dispose],r&&(n=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");n&&(i=function(){try{n.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:t,dispose:i,async:r})}else r&&e.stack.push({async:!0});return t},Ut=(function(e){return function(t){function r(u){t.error=t.hasError?new e(u,t.error,"An error was suppressed during disposal."):u,t.hasError=!0}var i,n=0;function o(){for(;i=t.stack.pop();)try{if(!i.async&&n===1)return n=0,t.stack.push(i),Promise.resolve().then(o);if(i.dispose){var u=i.dispose.call(i.value);if(i.async)return n|=2,Promise.resolve(u).then(o,function(l){return r(l),o()})}else n|=1}catch(l){r(l)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}})(typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var i=new Error(r);return i.name="SuppressedError",i.error=e,i.suppressed=t,i});class Ys extends ci{store;_ids=new Map([["/",0]]);_paths=new Map([[0,new Set("/")]]);_path(t){const[r]=this._paths.get(t)??[];return r}_add(t,r){this._paths.has(t)||this._paths.set(t,new Set),this._paths.get(t).add(r),this._ids.set(r,t)}_remove(t){for(const r of this._paths.get(t)??[])this._ids.delete(r);this._paths.delete(t)}_move(t,r){const i=[];for(const[n,o]of this._ids){const u=jo(t,n);if(u.startsWith(".."))continue;let l=Dt(r,u);l.endsWith("/")&&(l=l.slice(0,-1)),i.push({oldKey:n,newKey:l,ino:o})}for(const{oldKey:n,newKey:o,ino:u}of i){this._ids.delete(n),this._ids.set(o,u);const l=this._paths.get(u);if(!l){qt("Missing paths in table for ino "+u);continue}l.delete(n),l.add(o)}}_initialized=!1;async ready(){this._initialized||(this.attributes.has("no_async_preload")||this.checkRootSync(),await this.checkRoot(),await this._populate(),this._initialized=!0)}constructor(t){super(t.type??1802921587,t.name),this.store=t,t.fs=this,this._uuid=t.uuid??this.uuid,this.label=t.label,Cr(this.name+": supports features: "+this.store.flags?.join(", "))}usage(){return this.store.usage?.()||{totalSpace:0,freeSpace:0}}async loadIndex(t){const r={stack:[],error:void 0,hasError:!1};try{const i=Ft(r,this.transaction(),!0),n=t.directories();for(const[o,u]of t)this._add(u.ino,o),await i.set(u.ino,u),n.has(o)&&await i.set(u.data,Nr(n.get(o)));await i.commit()}catch(i){r.error=i,r.hasError=!0}finally{const i=Ut(r);i&&await i}}loadIndexSync(t){const r={stack:[],error:void 0,hasError:!1};try{const i=Ft(r,this.transaction(),!1),n=t.directories();for(const[o,u]of t)this._add(u.ino,o),i.setSync(u.ino,u),n.has(o)&&i.setSync(u.data,Nr(n.get(o)));i.commitSync()}catch(i){r.error=i,r.hasError=!0}finally{Ut(r)}}async createIndex(){const t={stack:[],error:void 0,hasError:!1};try{const r=new Gn,i=Ft(t,this.transaction(),!0),n=[["/",0]],o=no(ee("EDEADLK"));for(;n.length;){const[u,l]=n.shift(),p=new Ot(await i.get(l));if(r.set(u,p),p.mode&At){const h=cr(await i.get(p.data)??bt(ee("ENODATA")));for(const[_,m]of Object.entries(h))n.push([Dt(u,_),m])}}return o(),r}catch(r){t.error=r,t.hasError=!0}finally{const r=Ut(t);r&&await r}}createIndexSync(){const t={stack:[],error:void 0,hasError:!1};try{const r=new Gn,i=Ft(t,this.transaction(),!1),n=[["/",0]],o=no(ee("EDEADLK"));for(;n.length;){const[u,l]=n.shift(),p=new Ot(i.getSync(l));if(r.set(u,p),p.mode&At){const h=cr(i.getSync(p.data)??bt(ee("ENODATA")));for(const[_,m]of Object.entries(h))n.push([Dt(u,_),m])}}return o(),r}catch(r){t.error=r,t.hasError=!0}finally{Ut(t)}}async rename(t,r){const i={stack:[],error:void 0,hasError:!1};try{const n=Ft(i,this.transaction(),!0),o=lr(t),u=lr(r),l=await this.findInode(n,o.dir),p=cr(await n.get(l.data)??bt(ee("ENODATA")));if(!p[o.base])throw ee("ENOENT");const h=p[o.base];if(h!=this._ids.get(t)&&Kt(`Ino mismatch while renaming ${t} to ${r}`),delete p[o.base],(u.dir+"/").startsWith(t+"/"))throw ee("EBUSY");const _=u.dir==o.dir,m=_?l:await this.findInode(n,u.dir),A=_?p:cr(await n.get(m.data)??bt(ee("ENODATA")));if(A[u.base]){const S=new Ot(await n.get(A[u.base])??bt(ee("ENOENT")));if(!Go(S))throw ee("EISDIR");await n.remove(S.data),await n.remove(A[u.base])}A[u.base]=h,await n.set(l.data,Nr(p)),await n.set(m.data,Nr(A)),await n.commit(),this._move(t,r)}catch(n){i.error=n,i.hasError=!0}finally{const n=Ut(i);n&&await n}}renameSync(t,r){const i={stack:[],error:void 0,hasError:!1};try{const n=Ft(i,this.transaction(),!1),o=lr(t),u=lr(r),l=this.findInodeSync(n,o.dir),p=cr(n.getSync(l.data)??bt(ee("ENODATA")));if(!p[o.base])throw ee("ENOENT");const h=p[o.base];if(h!=this._ids.get(t)&&Kt(`Ino mismatch while renaming ${t} to ${r}`),delete p[o.base],(u.dir+"/").startsWith(t+"/"))throw ee("EBUSY");const _=u.dir===o.dir,m=_?l:this.findInodeSync(n,u.dir),A=_?p:cr(n.getSync(m.data)??bt(ee("ENODATA")));if(A[u.base]){const S=new Ot(n.getSync(A[u.base])??bt(ee("ENOENT")));if(!Go(S))throw ee("EISDIR");n.removeSync(S.data),n.removeSync(A[u.base])}A[u.base]=h,n.setSync(l.data,Nr(p)),n.setSync(m.data,Nr(A)),n.commitSync(),this._move(t,r)}catch(n){i.error=n,i.hasError=!0}finally{Ut(i)}}async stat(t){const r={stack:[],error:void 0,hasError:!1};try{const i=Ft(r,this.transaction(),!0);return await this.findInode(i,t)}catch(i){r.error=i,r.hasError=!0}finally{const i=Ut(r);i&&await i}}statSync(t){const r={stack:[],error:void 0,hasError:!1};try{const i=Ft(r,this.transaction(),!1);return this.findInodeSync(i,t)}catch(i){r.error=i,r.hasError=!0}finally{Ut(r)}}async touch(t,r){const i={stack:[],error:void 0,hasError:!1};try{const n=Ft(i,this.transaction(),!0),o=await this.findInode(n,t);o.update(r)&&(this._add(o.ino,t),n.setSync(o.ino,o)),await n.commit()}catch(n){i.error=n,i.hasError=!0}finally{const n=Ut(i);n&&await n}}touchSync(t,r){const i={stack:[],error:void 0,hasError:!1};try{const n=Ft(i,this.transaction(),!1),o=this.findInodeSync(n,t);o.update(r)&&(this._add(o.ino,t),n.setSync(o.ino,o)),n.commitSync()}catch(n){i.error=n,i.hasError=!0}finally{Ut(i)}}async createFile(t,r){return r.mode|=br,await this.commitNew(t,r,new Uint8Array)}createFileSync(t,r){return r.mode|=br,this.commitNewSync(t,r,new Uint8Array)}async unlink(t){return this.remove(t,!1)}unlinkSync(t){this.removeSync(t,!1)}async rmdir(t){if((await this.readdir(t)).length)throw ee("ENOTEMPTY");await this.remove(t,!0)}rmdirSync(t){if(this.readdirSync(t).length)throw ee("ENOTEMPTY");this.removeSync(t,!0)}async mkdir(t,r){return r.mode|=At,await this.commitNew(t,r,ei("{}"))}mkdirSync(t,r){return r.mode|=At,this.commitNewSync(t,r,ei("{}"))}async readdir(t){const r={stack:[],error:void 0,hasError:!1};try{const i=Ft(r,this.transaction(),!0),n=await this.findInode(i,t);return Object.keys(cr(await i.get(n.data)??bt(ee("ENOENT"))))}catch(i){r.error=i,r.hasError=!0}finally{const i=Ut(r);i&&await i}}readdirSync(t){const r={stack:[],error:void 0,hasError:!1};try{const i=Ft(r,this.transaction(),!1),n=this.findInodeSync(i,t);return Object.keys(cr(i.getSync(n.data)??bt(ee("ENOENT"))))}catch(i){r.error=i,r.hasError=!0}finally{Ut(r)}}async sync(){}syncSync(){}async link(t,r){const i={stack:[],error:void 0,hasError:!1};try{const n=Ft(i,this.transaction(),!0),o=Et(r),u=await this.findInode(n,o),l=cr(await n.get(u.data)??bt(ee("ENOENT"))),p=await this.findInode(n,t);p.nlink++,l[Pr(r)]=p.ino,this._add(p.ino,r),await n.set(p.ino,p),await n.set(u.data,Nr(l)),await n.commit()}catch(n){i.error=n,i.hasError=!0}finally{const n=Ut(i);n&&await n}}linkSync(t,r){const i={stack:[],error:void 0,hasError:!1};try{const n=Ft(i,this.transaction(),!1),o=Et(r),u=this.findInodeSync(n,o),l=cr(n.getSync(u.data)??bt(ee("ENOENT"))),p=this.findInodeSync(n,t);p.nlink++,l[Pr(r)]=p.ino,this._add(p.ino,r),n.setSync(p.ino,p),n.setSync(u.data,Nr(l)),n.commitSync()}catch(n){i.error=n,i.hasError=!0}finally{Ut(i)}}async read(t,r,i,n){const o={stack:[],error:void 0,hasError:!1};try{const u=Ft(o,this.transaction(),!0),l=await this.findInode(u,t);if(l.size==0)return;const p=await u.get(l.data,i,n)??bt(ee("ENODATA")),h=u.flag("partial")?p:p.subarray(i,n);h.byteLength>r.byteLength&&Kt(`Trying to place ${h.byteLength} bytes into a ${r.byteLength} byte buffer on read`),r.set(h)}catch(u){o.error=u,o.hasError=!0}finally{const u=Ut(o);u&&await u}}readSync(t,r,i,n){const o={stack:[],error:void 0,hasError:!1};try{const u=Ft(o,this.transaction(),!1),l=this.findInodeSync(u,t);if(l.size==0)return;const p=u.getSync(l.data,i,n)??bt(ee("ENODATA")),h=u.flag("partial")?p:p.subarray(i,n);h.byteLength>r.byteLength&&Kt(`Trying to place ${h.byteLength} bytes into a ${r.byteLength} byte buffer on read`),r.set(h)}catch(u){o.error=u,o.hasError=!0}finally{Ut(o)}}async write(t,r,i){const n={stack:[],error:void 0,hasError:!1};try{const o=Ft(n,this.transaction(),!0),u=await this.findInode(o,t);let l=r;o.flag("partial")||(l=dn(await o.get(u.data)??new Uint8Array,i+r.byteLength),l.set(r,i),i=0),await o.set(u.data,l,i),this._add(u.ino,t),await o.commit()}catch(o){n.error=o,n.hasError=!0}finally{const o=Ut(n);o&&await o}}writeSync(t,r,i){const n={stack:[],error:void 0,hasError:!1};try{const o=Ft(n,this.transaction(),!1),u=this.findInodeSync(o,t);let l=r;o.flag("partial")||(l=dn(o.getSync(u.data)??new Uint8Array,i+r.byteLength),l.set(r,i),i=0),o.setSync(u.data,l,i),this._add(u.ino,t),o.commitSync()}catch(o){n.error=o,n.hasError=!0}finally{Ut(n)}}transaction(){return new Df(this.store.transaction(),this)}async checkRoot(){const t={stack:[],error:void 0,hasError:!1};try{const r=Ft(t,this.transaction(),!0);if(await r.get(mr))return;const i=new Ot({ino:mr,data:1,mode:511|At});await r.set(i.data,ei("{}")),this._add(mr,"/"),await r.set(mr,i),await r.commit()}catch(r){t.error=r,t.hasError=!0}finally{const r=Ut(t);r&&await r}}checkRootSync(){const t={stack:[],error:void 0,hasError:!1};try{const r=Ft(t,this.transaction(),!1);if(r.getSync(mr))return;const i=new Ot({ino:mr,data:1,mode:511|At});r.setSync(i.data,ei("{}")),this._add(mr,"/"),r.setSync(mr,i),r.commitSync()}catch(r){t.error=r,t.hasError=!0}finally{Ut(t)}}async _populate(){const t={stack:[],error:void 0,hasError:!1};try{if(this._initialized){qt("Attempted to populate tables after initialization");return}Cr("Populating tables with existing store metadata");const r=Ft(t,this.transaction(),!0),i=await r.get(mr);if(!i){Ln("Store does not have a root inode");const l=new Ot({ino:mr,data:1,mode:511|At});await r.set(l.data,ei("{}")),this._add(mr,"/"),await r.set(mr,l),await r.commit();return}if(i.length<xt(Ot)){Gr("Store contains an invalid root inode. Refusing to populate tables");return}const n=new Set;let o=0;const u=[["/",mr]];for(;u.length>0;){o++;const[l,p]=u.shift();this._add(p,l);const h=await r.get(p);if(!h){qt("Store is missing data for inode: "+p);continue}if(h.length<xt(Ot)){qt(`Invalid inode size for ino ${p}: ${h.length}`);continue}const _=new Ot(h);if((_.mode&At)!=At||n.has(p))continue;n.add(p);const m=await r.get(_.data);if(!m){qt("Store is missing directory data: "+_.data);continue}const A=cr(m);for(const[S,O]of Object.entries(A))u.push([Dt(l,S),O])}Cr(`Added ${o} existing inode(s) from store`)}catch(r){t.error=r,t.hasError=!0}finally{const r=Ut(t);r&&await r}}async _findInode(t,r,i=new Set){if(i.has(r))throw Gr(ee("EIO","Infinite loop detected while finding inode"));if(i.add(r),r=="/")return new Ot(await t.get(mr)??bt(ee("ENODATA")));const{dir:n,base:o}=lr(r),u=await this._findInode(t,n,i),l=cr(await t.get(u.data)??bt(ee("ENODATA")));if(!(o in l))throw ee("ENOENT");return new Ot(await t.get(l[o])??bt(ee("ENODATA")))}_findInodeSync(t,r,i=new Set){if(i.has(r))throw Gr(ee("EIO","Infinite loop detected while finding inode"));if(i.add(r),r=="/")return new Ot(t.getSync(mr)??bt(ee("ENOENT")));const{dir:n,base:o}=lr(r),u=this._findInodeSync(t,n,i),l=cr(t.getSync(u.data)??bt(ee("ENODATA")));if(!(o in l))throw ee("ENOENT");return new Ot(t.getSync(l[o])??bt(ee("ENODATA")))}async findInode(t,r){if(this.attributes.has("no_id_tables"))return await this._findInode(t,r);const i=this._ids.get(r);if(i===void 0)throw ee("ENOENT");return new Ot(await t.get(i)??bt(ee("ENOENT")))}findInodeSync(t,r){if(this.attributes.has("no_id_tables"))return this._findInodeSync(t,r);const i=this._ids.get(r);if(i===void 0)throw ee("ENOENT");return new Ot(t.getSync(i)??bt(ee("ENOENT")))}_lastID;allocNew(t){this._lastID??=Math.max(...this._paths.keys()),this._lastID+=2;const r=this._lastID;if(r>Ir)throw Kt(ee("ENOSPC","No IDs available"));return this._add(r,t),r}async commitNew(t,r,i){const n={stack:[],error:void 0,hasError:!1};try{if(t=="/")throw ee("EEXIST");const o=Ft(n,this.transaction(),!0),{dir:u,base:l}=lr(t),p=await this.findInode(o,u),h=cr(await o.get(p.data)??bt(ee("ENOENT")));if(h[l])throw ee("EEXIST");const _=this.allocNew(t),m=new Ot({...r,ino:_,data:_+1,size:i.byteLength,nlink:1});return await o.set(m.ino,m),await o.set(m.data,i),h[l]=m.ino,await o.set(p.data,Nr(h)),await o.commit(),m}catch(o){n.error=o,n.hasError=!0}finally{const o=Ut(n);o&&await o}}commitNewSync(t,r,i){const n={stack:[],error:void 0,hasError:!1};try{if(t=="/")throw ee("EEXIST");const o=Ft(n,this.transaction(),!1),{dir:u,base:l}=lr(t),p=this.findInodeSync(o,u),h=cr(o.getSync(p.data)??bt(ee("ENOENT")));if(h[l])throw ee("EEXIST");const _=this.allocNew(t),m=new Ot({...r,ino:_,data:_+1,size:i.byteLength,nlink:1});return o.setSync(m.ino,m),o.setSync(m.data,i),h[l]=m.ino,o.setSync(p.data,Nr(h)),o.commitSync(),m}catch(o){n.error=o,n.hasError=!0}finally{Ut(n)}}async remove(t,r){const i={stack:[],error:void 0,hasError:!1};try{const n=Ft(i,this.transaction(),!0),{dir:o,base:u}=lr(t),l=await this.findInode(n,o),p=cr(await n.get(l.data)??bt(ee("ENOENT")));if(!p[u])throw ee("ENOENT");const h=p[u],_=new Ot(await n.get(h)??bt(ee("ENOENT")));if(delete p[u],!r&&nr(_))throw ee("EISDIR");await n.set(l.data,Nr(p)),_.nlink>1?(_.update({nlink:_.nlink-1}),await n.set(_.ino,_)):(await n.remove(_.data),await n.remove(h),this._remove(h)),await n.commit()}catch(n){i.error=n,i.hasError=!0}finally{const n=Ut(i);n&&await n}}removeSync(t,r){const i={stack:[],error:void 0,hasError:!1};try{const n=Ft(i,this.transaction(),!1),{dir:o,base:u}=lr(t),l=this.findInodeSync(n,o),p=cr(n.getSync(l.data)??bt(ee("ENOENT"))),h=p[u];if(!h)throw ee("ENOENT");const _=new Ot(n.getSync(h)??bt(ee("ENOENT")));if(delete p[u],!r&&nr(_))throw ee("EISDIR");n.setSync(l.data,Nr(p)),_.nlink>1?(_.update({nlink:_.nlink-1}),n.setSync(_.ino,_)):(n.removeSync(_.data),n.removeSync(h),this._remove(h)),n.commitSync()}catch(n){i.error=n,i.hasError=!0}finally{Ut(i)}}}class Nf extends Af{async keys(){return this.store.keys()}async get(t){return await(this.store.getAsync?.(t)??this.store.get(t))}getSync(t){return this.store.get(t)}setSync(t,r){this.store.set(t,r)}removeSync(t){this.store.delete(t)}}class Ko extends Map{maxSize;label;flags=[];name="tmpfs";constructor(t=Ir,r){super(),this.maxSize=t,this.label=r}async sync(){}transaction(){return new Nf(this)}get bytes(){let t=this.size*4;for(const r of this.values())t+=r.byteLength;return t}usage(){return{totalSpace:this.maxSize,freeSpace:this.maxSize-this.bytes}}}const Tf={name:"InMemory",options:{maxSize:{type:"number",required:!1},label:{type:"string",required:!1}},create({maxSize:e,label:t}){const r=new Ys(new Ko(e,t));return r.checkRootSync(),r}};class xf extends Ys{devices=new Map;devicesWithDriver(t,r){if(r&&typeof t=="string")throw Kt(ee("EINVAL","Can not fetch devices using only a driver name"));const i=[];for(const n of this.devices.values()){if(r&&n.driver!=t)continue;(typeof t=="string"?t:t.name)==n.driver.name&&i.push(n)}return i}_createDevice(t,r={}){let i=1;const n=Array.from(this.devices.values()).at(-1);for(;this.store.has(i)||n?.inode.ino==i;)i++;const o=t.init?.(i,r),u={data:{},minor:0,major:0,...io(o??{},"metadata"),driver:t,inode:new Ot({mode:yi|438,...o?.metadata})},l="/"+(u.name||t.name)+(t.singleton?"":this.devicesWithDriver(t).length);if(this.existsSync(l))throw ee("EEXIST");return this.devices.set(l,u),un("Initialized device: "+this._mountPoint+l),u}addDefaults(){this._createDevice(Rf),this._createDevice(zf),this._createDevice(Lf),this._createDevice(Mf),this._createDevice(Cf),Cr("Added default devices")}constructor(){super(new Ko(16777216,"devfs"))}async rename(t,r){if(this.devices.has(t))throw ee("EPERM");if(this.devices.has(r))throw ee("EEXIST");return super.rename(t,r)}renameSync(t,r){if(this.devices.has(t))throw ee("EPERM");if(this.devices.has(r))throw ee("EEXIST");return super.renameSync(t,r)}async stat(t){const r=this.devices.get(t);return r?r.inode:super.stat(t)}statSync(t){const r=this.devices.get(t);return r?r.inode:super.statSync(t)}async touch(t,r){const i=this.devices.get(t);i?i.inode.update(r):await super.touch(t,r)}touchSync(t,r){const i=this.devices.get(t);i?i.inode.update(r):super.touchSync(t,r)}async createFile(t,r){if(this.devices.has(t))throw ee("EEXIST");return super.createFile(t,r)}createFileSync(t,r){if(this.devices.has(t))throw ee("EEXIST");return super.createFileSync(t,r)}async unlink(t){if(this.devices.has(t))throw ee("EPERM");return super.unlink(t)}unlinkSync(t){if(this.devices.has(t))throw ee("EPERM");return super.unlinkSync(t)}async rmdir(t){return super.rmdir(t)}rmdirSync(t){return super.rmdirSync(t)}async mkdir(t,r){if(this.devices.has(t))throw ee("EEXIST");return super.mkdir(t,r)}mkdirSync(t,r){if(this.devices.has(t))throw ee("EEXIST");return super.mkdirSync(t,r)}async readdir(t){const r=await super.readdir(t);for(const i of this.devices.keys())Et(i)==t&&r.push(Pr(i));return r}readdirSync(t){const r=super.readdirSync(t);for(const i of this.devices.keys())Et(i)==t&&r.push(Pr(i));return r}async link(t,r){if(this.devices.has(t))throw ee("EPERM");if(this.devices.has(r))throw ee("EEXIST");return super.link(t,r)}linkSync(t,r){if(this.devices.has(t))throw ee("EPERM");if(this.devices.has(r))throw ee("EEXIST");return super.linkSync(t,r)}async sync(){for(const t of this.devices.values())t.driver.sync?.(t);return super.sync()}syncSync(){for(const t of this.devices.values())t.driver.sync?.(t);return super.syncSync()}async read(t,r,i,n){const o=this.devices.get(t);if(!o){await super.read(t,r,i,n);return}o.driver.read(o,r,i,n)}readSync(t,r,i,n){const o=this.devices.get(t);if(!o){super.readSync(t,r,i,n);return}o.driver.read(o,r,i,n)}async write(t,r,i){const n=this.devices.get(t);if(!n)return await super.write(t,r,i);n.driver.write(n,r,i)}writeSync(t,r,i){const n=this.devices.get(t);if(!n)return super.writeSync(t,r,i);n.driver.write(n,r,i)}}const Xo=new Uint8Array,Rf={name:"null",singleton:!0,init(){return{major:1,minor:3}},read(){return Xo},write(){}},zf={name:"zero",singleton:!0,init(){return{major:1,minor:5}},read(e,t,r,i){t.fill(0,r,i)},write(){}},Lf={name:"full",singleton:!0,init(){return{major:1,minor:7}},read(e,t,r,i){t.fill(0,r,i)},write(){throw ee("ENOSPC")}},Mf={name:"random",singleton:!0,init(){return{major:1,minor:8}},read(e,t){for(let r=0;r<t.length;r++)t[r]=Math.floor(Math.random()*256)},write(){}},Cf={name:"console",singleton:!0,init(e,{output:t=r=>console.log(r)}={}){return{major:5,minor:1,data:{output:t}}},read(){return Xo},write(e,t,r){const i=Vr(t);e.data.output(i,r)}};var Ks={},_n={},Jo;function Pf(){if(Jo)return _n;Jo=1,_n.byteLength=l,_n.toByteArray=h,_n.fromByteArray=A;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0,o=i.length;n<o;++n)e[n]=i[n],t[i.charCodeAt(n)]=n;t[45]=62,t[95]=63;function u(S){var O=S.length;if(O%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=S.indexOf("=");k===-1&&(k=O);var E=k===O?0:4-k%4;return[k,E]}function l(S){var O=u(S),k=O[0],E=O[1];return(k+E)*3/4-E}function p(S,O,k){return(O+k)*3/4-k}function h(S){var O,k=u(S),E=k[0],v=k[1],N=new r(p(S,E,v)),T=0,j=v>0?E-4:E,R;for(R=0;R<j;R+=4)O=t[S.charCodeAt(R)]<<18|t[S.charCodeAt(R+1)]<<12|t[S.charCodeAt(R+2)]<<6|t[S.charCodeAt(R+3)],N[T++]=O>>16&255,N[T++]=O>>8&255,N[T++]=O&255;return v===2&&(O=t[S.charCodeAt(R)]<<2|t[S.charCodeAt(R+1)]>>4,N[T++]=O&255),v===1&&(O=t[S.charCodeAt(R)]<<10|t[S.charCodeAt(R+1)]<<4|t[S.charCodeAt(R+2)]>>2,N[T++]=O>>8&255,N[T++]=O&255),N}function _(S){return e[S>>18&63]+e[S>>12&63]+e[S>>6&63]+e[S&63]}function m(S,O,k){for(var E,v=[],N=O;N<k;N+=3)E=(S[N]<<16&16711680)+(S[N+1]<<8&65280)+(S[N+2]&255),v.push(_(E));return v.join("")}function A(S){for(var O,k=S.length,E=k%3,v=[],N=16383,T=0,j=k-E;T<j;T+=N)v.push(m(S,T,T+N>j?j:T+N));return E===1?(O=S[k-1],v.push(e[O>>2]+e[O<<4&63]+"==")):E===2&&(O=(S[k-2]<<8)+S[k-1],v.push(e[O>>10]+e[O>>4&63]+e[O<<2&63]+"=")),v.join("")}return _n}var qn={};var Zo;function Bf(){return Zo||(Zo=1,qn.read=function(e,t,r,i,n){var o,u,l=n*8-i-1,p=(1<<l)-1,h=p>>1,_=-7,m=r?n-1:0,A=r?-1:1,S=e[t+m];for(m+=A,o=S&(1<<-_)-1,S>>=-_,_+=l;_>0;o=o*256+e[t+m],m+=A,_-=8);for(u=o&(1<<-_)-1,o>>=-_,_+=i;_>0;u=u*256+e[t+m],m+=A,_-=8);if(o===0)o=1-h;else{if(o===p)return u?NaN:(S?-1:1)*(1/0);u=u+Math.pow(2,i),o=o-h}return(S?-1:1)*u*Math.pow(2,o-i)},qn.write=function(e,t,r,i,n,o){var u,l,p,h=o*8-n-1,_=(1<<h)-1,m=_>>1,A=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=i?0:o-1,O=i?1:-1,k=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,u=_):(u=Math.floor(Math.log(t)/Math.LN2),t*(p=Math.pow(2,-u))<1&&(u--,p*=2),u+m>=1?t+=A/p:t+=A*Math.pow(2,1-m),t*p>=2&&(u++,p/=2),u+m>=_?(l=0,u=_):u+m>=1?(l=(t*p-1)*Math.pow(2,n),u=u+m):(l=t*Math.pow(2,m-1)*Math.pow(2,n),u=0));n>=8;e[r+S]=l&255,S+=O,l/=256,n-=8);for(u=u<<n|l,h+=n;h>0;e[r+S]=u&255,S+=O,u/=256,h-=8);e[r+S-O]|=k*128}),qn}var Qo;function li(){return Qo||(Qo=1,(function(e){const t=Pf(),r=Bf(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=N,e.INSPECT_MAX_BYTES=50;const n=2147483647;e.kMaxLength=n,l.TYPED_ARRAY_SUPPORT=o(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const I=new Uint8Array(1),d={foo:function(){return 42}};return Object.setPrototypeOf(d,Uint8Array.prototype),Object.setPrototypeOf(I,d),I.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function u(I){if(I>n)throw new RangeError('The value "'+I+'" is invalid for option "size"');const d=new Uint8Array(I);return Object.setPrototypeOf(d,l.prototype),d}function l(I,d,y){if(typeof I=="number"){if(typeof d=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(I)}return p(I,d,y)}l.poolSize=8192;function p(I,d,y){if(typeof I=="string")return A(I,d);if(ArrayBuffer.isView(I))return O(I);if(I==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof I);if(le(I,ArrayBuffer)||I&&le(I.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(le(I,SharedArrayBuffer)||I&&le(I.buffer,SharedArrayBuffer)))return k(I,d,y);if(typeof I=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const z=I.valueOf&&I.valueOf();if(z!=null&&z!==I)return l.from(z,d,y);const H=E(I);if(H)return H;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof I[Symbol.toPrimitive]=="function")return l.from(I[Symbol.toPrimitive]("string"),d,y);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof I)}l.from=function(I,d,y){return p(I,d,y)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function h(I){if(typeof I!="number")throw new TypeError('"size" argument must be of type number');if(I<0)throw new RangeError('The value "'+I+'" is invalid for option "size"')}function _(I,d,y){return h(I),I<=0?u(I):d!==void 0?typeof y=="string"?u(I).fill(d,y):u(I).fill(d):u(I)}l.alloc=function(I,d,y){return _(I,d,y)};function m(I){return h(I),u(I<0?0:v(I)|0)}l.allocUnsafe=function(I){return m(I)},l.allocUnsafeSlow=function(I){return m(I)};function A(I,d){if((typeof d!="string"||d==="")&&(d="utf8"),!l.isEncoding(d))throw new TypeError("Unknown encoding: "+d);const y=T(I,d)|0;let z=u(y);const H=z.write(I,d);return H!==y&&(z=z.slice(0,H)),z}function S(I){const d=I.length<0?0:v(I.length)|0,y=u(d);for(let z=0;z<d;z+=1)y[z]=I[z]&255;return y}function O(I){if(le(I,Uint8Array)){const d=new Uint8Array(I);return k(d.buffer,d.byteOffset,d.byteLength)}return S(I)}function k(I,d,y){if(d<0||I.byteLength<d)throw new RangeError('"offset" is outside of buffer bounds');if(I.byteLength<d+(y||0))throw new RangeError('"length" is outside of buffer bounds');let z;return d===void 0&&y===void 0?z=new Uint8Array(I):y===void 0?z=new Uint8Array(I,d):z=new Uint8Array(I,d,y),Object.setPrototypeOf(z,l.prototype),z}function E(I){if(l.isBuffer(I)){const d=v(I.length)|0,y=u(d);return y.length===0||I.copy(y,0,0,d),y}if(I.length!==void 0)return typeof I.length!="number"||rt(I.length)?u(0):S(I);if(I.type==="Buffer"&&Array.isArray(I.data))return S(I.data)}function v(I){if(I>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return I|0}function N(I){return+I!=I&&(I=0),l.alloc(+I)}l.isBuffer=function(d){return d!=null&&d._isBuffer===!0&&d!==l.prototype},l.compare=function(d,y){if(le(d,Uint8Array)&&(d=l.from(d,d.offset,d.byteLength)),le(y,Uint8Array)&&(y=l.from(y,y.offset,y.byteLength)),!l.isBuffer(d)||!l.isBuffer(y))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(d===y)return 0;let z=d.length,H=y.length;for(let U=0,B=Math.min(z,H);U<B;++U)if(d[U]!==y[U]){z=d[U],H=y[U];break}return z<H?-1:H<z?1:0},l.isEncoding=function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(d,y){if(!Array.isArray(d))throw new TypeError('"list" argument must be an Array of Buffers');if(d.length===0)return l.alloc(0);let z;if(y===void 0)for(y=0,z=0;z<d.length;++z)y+=d[z].length;const H=l.allocUnsafe(y);let U=0;for(z=0;z<d.length;++z){let B=d[z];if(le(B,Uint8Array))U+B.length>H.length?(l.isBuffer(B)||(B=l.from(B)),B.copy(H,U)):Uint8Array.prototype.set.call(H,B,U);else if(l.isBuffer(B))B.copy(H,U);else throw new TypeError('"list" argument must be an Array of Buffers');U+=B.length}return H};function T(I,d){if(l.isBuffer(I))return I.length;if(ArrayBuffer.isView(I)||le(I,ArrayBuffer))return I.byteLength;if(typeof I!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof I);const y=I.length,z=arguments.length>2&&arguments[2]===!0;if(!z&&y===0)return 0;let H=!1;for(;;)switch(d){case"ascii":case"latin1":case"binary":return y;case"utf8":case"utf-8":return Oe(I).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y*2;case"hex":return y>>>1;case"base64":return q(I).length;default:if(H)return z?-1:Oe(I).length;d=(""+d).toLowerCase(),H=!0}}l.byteLength=T;function j(I,d,y){let z=!1;if((d===void 0||d<0)&&(d=0),d>this.length||((y===void 0||y>this.length)&&(y=this.length),y<=0)||(y>>>=0,d>>>=0,y<=d))return"";for(I||(I="utf8");;)switch(I){case"hex":return W(this,d,y);case"utf8":case"utf-8":return J(this,d,y);case"ascii":return We(this,d,y);case"latin1":case"binary":return _e(this,d,y);case"base64":return G(this,d,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,d,y);default:if(z)throw new TypeError("Unknown encoding: "+I);I=(I+"").toLowerCase(),z=!0}}l.prototype._isBuffer=!0;function R(I,d,y){const z=I[d];I[d]=I[y],I[y]=z}l.prototype.swap16=function(){const d=this.length;if(d%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let y=0;y<d;y+=2)R(this,y,y+1);return this},l.prototype.swap32=function(){const d=this.length;if(d%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let y=0;y<d;y+=4)R(this,y,y+3),R(this,y+1,y+2);return this},l.prototype.swap64=function(){const d=this.length;if(d%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let y=0;y<d;y+=8)R(this,y,y+7),R(this,y+1,y+6),R(this,y+2,y+5),R(this,y+3,y+4);return this},l.prototype.toString=function(){const d=this.length;return d===0?"":arguments.length===0?J(this,0,d):j.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(d){if(!l.isBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d?!0:l.compare(this,d)===0},l.prototype.inspect=function(){let d="";const y=e.INSPECT_MAX_BYTES;return d=this.toString("hex",0,y).replace(/(.{2})/g,"$1 ").trim(),this.length>y&&(d+=" ... "),"<Buffer "+d+">"},i&&(l.prototype[i]=l.prototype.inspect),l.prototype.compare=function(d,y,z,H,U){if(le(d,Uint8Array)&&(d=l.from(d,d.offset,d.byteLength)),!l.isBuffer(d))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof d);if(y===void 0&&(y=0),z===void 0&&(z=d?d.length:0),H===void 0&&(H=0),U===void 0&&(U=this.length),y<0||z>d.length||H<0||U>this.length)throw new RangeError("out of range index");if(H>=U&&y>=z)return 0;if(H>=U)return-1;if(y>=z)return 1;if(y>>>=0,z>>>=0,H>>>=0,U>>>=0,this===d)return 0;let B=U-H,Ce=z-y;const wt=Math.min(B,Ce),ze=this.slice(H,U),et=d.slice(y,z);for(let Ae=0;Ae<wt;++Ae)if(ze[Ae]!==et[Ae]){B=ze[Ae],Ce=et[Ae];break}return B<Ce?-1:Ce<B?1:0};function V(I,d,y,z,H){if(I.length===0)return-1;if(typeof y=="string"?(z=y,y=0):y>2147483647?y=2147483647:y<-2147483648&&(y=-2147483648),y=+y,rt(y)&&(y=H?0:I.length-1),y<0&&(y=I.length+y),y>=I.length){if(H)return-1;y=I.length-1}else if(y<0)if(H)y=0;else return-1;if(typeof d=="string"&&(d=l.from(d,z)),l.isBuffer(d))return d.length===0?-1:ae(I,d,y,z,H);if(typeof d=="number")return d=d&255,typeof Uint8Array.prototype.indexOf=="function"?H?Uint8Array.prototype.indexOf.call(I,d,y):Uint8Array.prototype.lastIndexOf.call(I,d,y):ae(I,[d],y,z,H);throw new TypeError("val must be string, number or Buffer")}function ae(I,d,y,z,H){let U=1,B=I.length,Ce=d.length;if(z!==void 0&&(z=String(z).toLowerCase(),z==="ucs2"||z==="ucs-2"||z==="utf16le"||z==="utf-16le")){if(I.length<2||d.length<2)return-1;U=2,B/=2,Ce/=2,y/=2}function wt(et,Ae){return U===1?et[Ae]:et.readUInt16BE(Ae*U)}let ze;if(H){let et=-1;for(ze=y;ze<B;ze++)if(wt(I,ze)===wt(d,et===-1?0:ze-et)){if(et===-1&&(et=ze),ze-et+1===Ce)return et*U}else et!==-1&&(ze-=ze-et),et=-1}else for(y+Ce>B&&(y=B-Ce),ze=y;ze>=0;ze--){let et=!0;for(let Ae=0;Ae<Ce;Ae++)if(wt(I,ze+Ae)!==wt(d,Ae)){et=!1;break}if(et)return ze}return-1}l.prototype.includes=function(d,y,z){return this.indexOf(d,y,z)!==-1},l.prototype.indexOf=function(d,y,z){return V(this,d,y,z,!0)},l.prototype.lastIndexOf=function(d,y,z){return V(this,d,y,z,!1)};function ne(I,d,y,z){y=Number(y)||0;const H=I.length-y;z?(z=Number(z),z>H&&(z=H)):z=H;const U=d.length;z>U/2&&(z=U/2);let B;for(B=0;B<z;++B){const Ce=parseInt(d.substr(B*2,2),16);if(rt(Ce))return B;I[y+B]=Ce}return B}function de(I,d,y,z){return he(Oe(d,I.length-y),I,y,z)}function P(I,d,y,z){return he(Se(d),I,y,z)}function Y(I,d,y,z){return he(q(d),I,y,z)}function me(I,d,y,z){return he(C(d,I.length-y),I,y,z)}l.prototype.write=function(d,y,z,H){if(y===void 0)H="utf8",z=this.length,y=0;else if(z===void 0&&typeof y=="string")H=y,z=this.length,y=0;else if(isFinite(y))y=y>>>0,isFinite(z)?(z=z>>>0,H===void 0&&(H="utf8")):(H=z,z=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const U=this.length-y;if((z===void 0||z>U)&&(z=U),d.length>0&&(z<0||y<0)||y>this.length)throw new RangeError("Attempt to write outside buffer bounds");H||(H="utf8");let B=!1;for(;;)switch(H){case"hex":return ne(this,d,y,z);case"utf8":case"utf-8":return de(this,d,y,z);case"ascii":case"latin1":case"binary":return P(this,d,y,z);case"base64":return Y(this,d,y,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return me(this,d,y,z);default:if(B)throw new TypeError("Unknown encoding: "+H);H=(""+H).toLowerCase(),B=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function G(I,d,y){return d===0&&y===I.length?t.fromByteArray(I):t.fromByteArray(I.slice(d,y))}function J(I,d,y){y=Math.min(I.length,y);const z=[];let H=d;for(;H<y;){const U=I[H];let B=null,Ce=U>239?4:U>223?3:U>191?2:1;if(H+Ce<=y){let wt,ze,et,Ae;switch(Ce){case 1:U<128&&(B=U);break;case 2:wt=I[H+1],(wt&192)===128&&(Ae=(U&31)<<6|wt&63,Ae>127&&(B=Ae));break;case 3:wt=I[H+1],ze=I[H+2],(wt&192)===128&&(ze&192)===128&&(Ae=(U&15)<<12|(wt&63)<<6|ze&63,Ae>2047&&(Ae<55296||Ae>57343)&&(B=Ae));break;case 4:wt=I[H+1],ze=I[H+2],et=I[H+3],(wt&192)===128&&(ze&192)===128&&(et&192)===128&&(Ae=(U&15)<<18|(wt&63)<<12|(ze&63)<<6|et&63,Ae>65535&&Ae<1114112&&(B=Ae))}}B===null?(B=65533,Ce=1):B>65535&&(B-=65536,z.push(B>>>10&1023|55296),B=56320|B&1023),z.push(B),H+=Ce}return ve(z)}const re=4096;function ve(I){const d=I.length;if(d<=re)return String.fromCharCode.apply(String,I);let y="",z=0;for(;z<d;)y+=String.fromCharCode.apply(String,I.slice(z,z+=re));return y}function We(I,d,y){let z="";y=Math.min(I.length,y);for(let H=d;H<y;++H)z+=String.fromCharCode(I[H]&127);return z}function _e(I,d,y){let z="";y=Math.min(I.length,y);for(let H=d;H<y;++H)z+=String.fromCharCode(I[H]);return z}function W(I,d,y){const z=I.length;(!d||d<0)&&(d=0),(!y||y<0||y>z)&&(y=z);let H="";for(let U=d;U<y;++U)H+=Tt[I[U]];return H}function x(I,d,y){const z=I.slice(d,y);let H="";for(let U=0;U<z.length-1;U+=2)H+=String.fromCharCode(z[U]+z[U+1]*256);return H}l.prototype.slice=function(d,y){const z=this.length;d=~~d,y=y===void 0?z:~~y,d<0?(d+=z,d<0&&(d=0)):d>z&&(d=z),y<0?(y+=z,y<0&&(y=0)):y>z&&(y=z),y<d&&(y=d);const H=this.subarray(d,y);return Object.setPrototypeOf(H,l.prototype),H};function X(I,d,y){if(I%1!==0||I<0)throw new RangeError("offset is not uint");if(I+d>y)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(d,y,z){d=d>>>0,y=y>>>0,z||X(d,y,this.length);let H=this[d],U=1,B=0;for(;++B<y&&(U*=256);)H+=this[d+B]*U;return H},l.prototype.readUintBE=l.prototype.readUIntBE=function(d,y,z){d=d>>>0,y=y>>>0,z||X(d,y,this.length);let H=this[d+--y],U=1;for(;y>0&&(U*=256);)H+=this[d+--y]*U;return H},l.prototype.readUint8=l.prototype.readUInt8=function(d,y){return d=d>>>0,y||X(d,1,this.length),this[d]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(d,y){return d=d>>>0,y||X(d,2,this.length),this[d]|this[d+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(d,y){return d=d>>>0,y||X(d,2,this.length),this[d]<<8|this[d+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(d,y){return d=d>>>0,y||X(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+this[d+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(d,y){return d=d>>>0,y||X(d,4,this.length),this[d]*16777216+(this[d+1]<<16|this[d+2]<<8|this[d+3])},l.prototype.readBigUInt64LE=at(function(d){d=d>>>0,$(d,"offset");const y=this[d],z=this[d+7];(y===void 0||z===void 0)&&Z(d,this.length-8);const H=y+this[++d]*2**8+this[++d]*2**16+this[++d]*2**24,U=this[++d]+this[++d]*2**8+this[++d]*2**16+z*2**24;return BigInt(H)+(BigInt(U)<<BigInt(32))}),l.prototype.readBigUInt64BE=at(function(d){d=d>>>0,$(d,"offset");const y=this[d],z=this[d+7];(y===void 0||z===void 0)&&Z(d,this.length-8);const H=y*2**24+this[++d]*2**16+this[++d]*2**8+this[++d],U=this[++d]*2**24+this[++d]*2**16+this[++d]*2**8+z;return(BigInt(H)<<BigInt(32))+BigInt(U)}),l.prototype.readIntLE=function(d,y,z){d=d>>>0,y=y>>>0,z||X(d,y,this.length);let H=this[d],U=1,B=0;for(;++B<y&&(U*=256);)H+=this[d+B]*U;return U*=128,H>=U&&(H-=Math.pow(2,8*y)),H},l.prototype.readIntBE=function(d,y,z){d=d>>>0,y=y>>>0,z||X(d,y,this.length);let H=y,U=1,B=this[d+--H];for(;H>0&&(U*=256);)B+=this[d+--H]*U;return U*=128,B>=U&&(B-=Math.pow(2,8*y)),B},l.prototype.readInt8=function(d,y){return d=d>>>0,y||X(d,1,this.length),this[d]&128?(255-this[d]+1)*-1:this[d]},l.prototype.readInt16LE=function(d,y){d=d>>>0,y||X(d,2,this.length);const z=this[d]|this[d+1]<<8;return z&32768?z|4294901760:z},l.prototype.readInt16BE=function(d,y){d=d>>>0,y||X(d,2,this.length);const z=this[d+1]|this[d]<<8;return z&32768?z|4294901760:z},l.prototype.readInt32LE=function(d,y){return d=d>>>0,y||X(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},l.prototype.readInt32BE=function(d,y){return d=d>>>0,y||X(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},l.prototype.readBigInt64LE=at(function(d){d=d>>>0,$(d,"offset");const y=this[d],z=this[d+7];(y===void 0||z===void 0)&&Z(d,this.length-8);const H=this[d+4]+this[d+5]*2**8+this[d+6]*2**16+(z<<24);return(BigInt(H)<<BigInt(32))+BigInt(y+this[++d]*2**8+this[++d]*2**16+this[++d]*2**24)}),l.prototype.readBigInt64BE=at(function(d){d=d>>>0,$(d,"offset");const y=this[d],z=this[d+7];(y===void 0||z===void 0)&&Z(d,this.length-8);const H=(y<<24)+this[++d]*2**16+this[++d]*2**8+this[++d];return(BigInt(H)<<BigInt(32))+BigInt(this[++d]*2**24+this[++d]*2**16+this[++d]*2**8+z)}),l.prototype.readFloatLE=function(d,y){return d=d>>>0,y||X(d,4,this.length),r.read(this,d,!0,23,4)},l.prototype.readFloatBE=function(d,y){return d=d>>>0,y||X(d,4,this.length),r.read(this,d,!1,23,4)},l.prototype.readDoubleLE=function(d,y){return d=d>>>0,y||X(d,8,this.length),r.read(this,d,!0,52,8)},l.prototype.readDoubleBE=function(d,y){return d=d>>>0,y||X(d,8,this.length),r.read(this,d,!1,52,8)};function se(I,d,y,z,H,U){if(!l.isBuffer(I))throw new TypeError('"buffer" argument must be a Buffer instance');if(d>H||d<U)throw new RangeError('"value" argument is out of bounds');if(y+z>I.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(d,y,z,H){if(d=+d,y=y>>>0,z=z>>>0,!H){const Ce=Math.pow(2,8*z)-1;se(this,d,y,z,Ce,0)}let U=1,B=0;for(this[y]=d&255;++B<z&&(U*=256);)this[y+B]=d/U&255;return y+z},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(d,y,z,H){if(d=+d,y=y>>>0,z=z>>>0,!H){const Ce=Math.pow(2,8*z)-1;se(this,d,y,z,Ce,0)}let U=z-1,B=1;for(this[y+U]=d&255;--U>=0&&(B*=256);)this[y+U]=d/B&255;return y+z},l.prototype.writeUint8=l.prototype.writeUInt8=function(d,y,z){return d=+d,y=y>>>0,z||se(this,d,y,1,255,0),this[y]=d&255,y+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(d,y,z){return d=+d,y=y>>>0,z||se(this,d,y,2,65535,0),this[y]=d&255,this[y+1]=d>>>8,y+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(d,y,z){return d=+d,y=y>>>0,z||se(this,d,y,2,65535,0),this[y]=d>>>8,this[y+1]=d&255,y+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(d,y,z){return d=+d,y=y>>>0,z||se(this,d,y,4,4294967295,0),this[y+3]=d>>>24,this[y+2]=d>>>16,this[y+1]=d>>>8,this[y]=d&255,y+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(d,y,z){return d=+d,y=y>>>0,z||se(this,d,y,4,4294967295,0),this[y]=d>>>24,this[y+1]=d>>>16,this[y+2]=d>>>8,this[y+3]=d&255,y+4};function ie(I,d,y,z,H){xe(d,z,H,I,y,7);let U=Number(d&BigInt(4294967295));I[y++]=U,U=U>>8,I[y++]=U,U=U>>8,I[y++]=U,U=U>>8,I[y++]=U;let B=Number(d>>BigInt(32)&BigInt(4294967295));return I[y++]=B,B=B>>8,I[y++]=B,B=B>>8,I[y++]=B,B=B>>8,I[y++]=B,y}function Le(I,d,y,z,H){xe(d,z,H,I,y,7);let U=Number(d&BigInt(4294967295));I[y+7]=U,U=U>>8,I[y+6]=U,U=U>>8,I[y+5]=U,U=U>>8,I[y+4]=U;let B=Number(d>>BigInt(32)&BigInt(4294967295));return I[y+3]=B,B=B>>8,I[y+2]=B,B=B>>8,I[y+1]=B,B=B>>8,I[y]=B,y+8}l.prototype.writeBigUInt64LE=at(function(d,y=0){return ie(this,d,y,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=at(function(d,y=0){return Le(this,d,y,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(d,y,z,H){if(d=+d,y=y>>>0,!H){const wt=Math.pow(2,8*z-1);se(this,d,y,z,wt-1,-wt)}let U=0,B=1,Ce=0;for(this[y]=d&255;++U<z&&(B*=256);)d<0&&Ce===0&&this[y+U-1]!==0&&(Ce=1),this[y+U]=(d/B>>0)-Ce&255;return y+z},l.prototype.writeIntBE=function(d,y,z,H){if(d=+d,y=y>>>0,!H){const wt=Math.pow(2,8*z-1);se(this,d,y,z,wt-1,-wt)}let U=z-1,B=1,Ce=0;for(this[y+U]=d&255;--U>=0&&(B*=256);)d<0&&Ce===0&&this[y+U+1]!==0&&(Ce=1),this[y+U]=(d/B>>0)-Ce&255;return y+z},l.prototype.writeInt8=function(d,y,z){return d=+d,y=y>>>0,z||se(this,d,y,1,127,-128),d<0&&(d=255+d+1),this[y]=d&255,y+1},l.prototype.writeInt16LE=function(d,y,z){return d=+d,y=y>>>0,z||se(this,d,y,2,32767,-32768),this[y]=d&255,this[y+1]=d>>>8,y+2},l.prototype.writeInt16BE=function(d,y,z){return d=+d,y=y>>>0,z||se(this,d,y,2,32767,-32768),this[y]=d>>>8,this[y+1]=d&255,y+2},l.prototype.writeInt32LE=function(d,y,z){return d=+d,y=y>>>0,z||se(this,d,y,4,2147483647,-2147483648),this[y]=d&255,this[y+1]=d>>>8,this[y+2]=d>>>16,this[y+3]=d>>>24,y+4},l.prototype.writeInt32BE=function(d,y,z){return d=+d,y=y>>>0,z||se(this,d,y,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),this[y]=d>>>24,this[y+1]=d>>>16,this[y+2]=d>>>8,this[y+3]=d&255,y+4},l.prototype.writeBigInt64LE=at(function(d,y=0){return ie(this,d,y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=at(function(d,y=0){return Le(this,d,y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function je(I,d,y,z,H,U){if(y+z>I.length)throw new RangeError("Index out of range");if(y<0)throw new RangeError("Index out of range")}function Qe(I,d,y,z,H){return d=+d,y=y>>>0,H||je(I,d,y,4),r.write(I,d,y,z,23,4),y+4}l.prototype.writeFloatLE=function(d,y,z){return Qe(this,d,y,!0,z)},l.prototype.writeFloatBE=function(d,y,z){return Qe(this,d,y,!1,z)};function He(I,d,y,z,H){return d=+d,y=y>>>0,H||je(I,d,y,8),r.write(I,d,y,z,52,8),y+8}l.prototype.writeDoubleLE=function(d,y,z){return He(this,d,y,!0,z)},l.prototype.writeDoubleBE=function(d,y,z){return He(this,d,y,!1,z)},l.prototype.copy=function(d,y,z,H){if(!l.isBuffer(d))throw new TypeError("argument should be a Buffer");if(z||(z=0),!H&&H!==0&&(H=this.length),y>=d.length&&(y=d.length),y||(y=0),H>0&&H<z&&(H=z),H===z||d.length===0||this.length===0)return 0;if(y<0)throw new RangeError("targetStart out of bounds");if(z<0||z>=this.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("sourceEnd out of bounds");H>this.length&&(H=this.length),d.length-y<H-z&&(H=d.length-y+z);const U=H-z;return this===d&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(y,z,H):Uint8Array.prototype.set.call(d,this.subarray(z,H),y),U},l.prototype.fill=function(d,y,z,H){if(typeof d=="string"){if(typeof y=="string"?(H=y,y=0,z=this.length):typeof z=="string"&&(H=z,z=this.length),H!==void 0&&typeof H!="string")throw new TypeError("encoding must be a string");if(typeof H=="string"&&!l.isEncoding(H))throw new TypeError("Unknown encoding: "+H);if(d.length===1){const B=d.charCodeAt(0);(H==="utf8"&&B<128||H==="latin1")&&(d=B)}}else typeof d=="number"?d=d&255:typeof d=="boolean"&&(d=Number(d));if(y<0||this.length<y||this.length<z)throw new RangeError("Out of range index");if(z<=y)return this;y=y>>>0,z=z===void 0?this.length:z>>>0,d||(d=0);let U;if(typeof d=="number")for(U=y;U<z;++U)this[U]=d;else{const B=l.isBuffer(d)?d:l.from(d,H),Ce=B.length;if(Ce===0)throw new TypeError('The value "'+d+'" is invalid for argument "value"');for(U=0;U<z-y;++U)this[U+y]=B[U%Ce]}return this};const ue={};function ye(I,d,y){ue[I]=class extends y{constructor(){super(),Object.defineProperty(this,"message",{value:d.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${I}]`,this.stack,delete this.name}get code(){return I}set code(H){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:H,writable:!0})}toString(){return`${this.name} [${I}]: ${this.message}`}}}ye("ERR_BUFFER_OUT_OF_BOUNDS",function(I){return I?`${I} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ye("ERR_INVALID_ARG_TYPE",function(I,d){return`The "${I}" argument must be of type number. Received type ${typeof d}`},TypeError),ye("ERR_OUT_OF_RANGE",function(I,d,y){let z=`The value of "${I}" is out of range.`,H=y;return Number.isInteger(y)&&Math.abs(y)>2**32?H=be(String(y)):typeof y=="bigint"&&(H=String(y),(y>BigInt(2)**BigInt(32)||y<-(BigInt(2)**BigInt(32)))&&(H=be(H)),H+="n"),z+=` It must be ${d}. Received ${H}`,z},RangeError);function be(I){let d="",y=I.length;const z=I[0]==="-"?1:0;for(;y>=z+4;y-=3)d=`_${I.slice(y-3,y)}${d}`;return`${I.slice(0,y)}${d}`}function ge(I,d,y){$(d,"offset"),(I[d]===void 0||I[d+y]===void 0)&&Z(d,I.length-(y+1))}function xe(I,d,y,z,H,U){if(I>y||I<d){const B=typeof d=="bigint"?"n":"";let Ce;throw d===0||d===BigInt(0)?Ce=`>= 0${B} and < 2${B} ** ${(U+1)*8}${B}`:Ce=`>= -(2${B} ** ${(U+1)*8-1}${B}) and < 2 ** ${(U+1)*8-1}${B}`,new ue.ERR_OUT_OF_RANGE("value",Ce,I)}ge(z,H,U)}function $(I,d){if(typeof I!="number")throw new ue.ERR_INVALID_ARG_TYPE(d,"number",I)}function Z(I,d,y){throw Math.floor(I)!==I?($(I,y),new ue.ERR_OUT_OF_RANGE("offset","an integer",I)):d<0?new ue.ERR_BUFFER_OUT_OF_BOUNDS:new ue.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${d}`,I)}const fe=/[^+/0-9A-Za-z-_]/g;function Ne(I){if(I=I.split("=")[0],I=I.trim().replace(fe,""),I.length<2)return"";for(;I.length%4!==0;)I=I+"=";return I}function Oe(I,d){d=d||1/0;let y;const z=I.length;let H=null;const U=[];for(let B=0;B<z;++B){if(y=I.charCodeAt(B),y>55295&&y<57344){if(!H){if(y>56319){(d-=3)>-1&&U.push(239,191,189);continue}else if(B+1===z){(d-=3)>-1&&U.push(239,191,189);continue}H=y;continue}if(y<56320){(d-=3)>-1&&U.push(239,191,189),H=y;continue}y=(H-55296<<10|y-56320)+65536}else H&&(d-=3)>-1&&U.push(239,191,189);if(H=null,y<128){if((d-=1)<0)break;U.push(y)}else if(y<2048){if((d-=2)<0)break;U.push(y>>6|192,y&63|128)}else if(y<65536){if((d-=3)<0)break;U.push(y>>12|224,y>>6&63|128,y&63|128)}else if(y<1114112){if((d-=4)<0)break;U.push(y>>18|240,y>>12&63|128,y>>6&63|128,y&63|128)}else throw new Error("Invalid code point")}return U}function Se(I){const d=[];for(let y=0;y<I.length;++y)d.push(I.charCodeAt(y)&255);return d}function C(I,d){let y,z,H;const U=[];for(let B=0;B<I.length&&!((d-=2)<0);++B)y=I.charCodeAt(B),z=y>>8,H=y%256,U.push(H),U.push(z);return U}function q(I){return t.toByteArray(Ne(I))}function he(I,d,y,z){let H;for(H=0;H<z&&!(H+y>=d.length||H>=I.length);++H)d[H+y]=I[H];return H}function le(I,d){return I instanceof d||I!=null&&I.constructor!=null&&I.constructor.name!=null&&I.constructor.name===d.name}function rt(I){return I!==I}const Tt=(function(){const I="0123456789abcdef",d=new Array(256);for(let y=0;y<16;++y){const z=y*16;for(let H=0;H<16;++H)d[z+H]=I[y]+I[H]}return d})();function at(I){return typeof BigInt>"u"?It:I}function It(){throw new Error("BigInt not supported")}})(Ks)),Ks}var Ht=li();let St=!0;function Ff(e){St=e}var ui;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.FIFO=1]="FIFO",e[e.CHR=2]="CHR",e[e.DIR=4]="DIR",e[e.BLK=6]="BLK",e[e.REG=8]="REG",e[e.LNK=10]="LNK",e[e.SOCK=12]="SOCK",e[e.WHT=14]="WHT"})(ui||(ui={}));function ec(e){return(e&61440)>>12}let tc=class{ino;type;path;name};class Hn{context;path;fs;internalPath;flag;inode;_buffer;_position=0;get position(){return this.flag&Wi?this.inode.size:this._position}set position(t){this._position=t}dirty=!1;closed=!1;get isClosed(){return this.closed}constructor(t,r,i,n,o,u){this.context=t,this.path=r,this.fs=i,this.internalPath=n,this.flag=o,this.inode=u}get _isSync(){return!!(this.flag&Us||this.inode.flags&yr.Sync||this.fs.attributes.has("sync"))}[Symbol.dispose](){this.closeSync()}syncSync(){if(this.closed)throw oe("EBADF","sync",this.path);this.dirty&&(this.fs.attributes.has("no_write")||this.fs.touchSync(this.internalPath,this.inode),this.dirty=!1)}datasyncSync(){return this.syncSync()}closeSync(){if(this.closed)throw oe("EBADF","close",this.path);this.syncSync(),this.disposeSync()}disposeSync(t){if(this.closed)throw oe("EBADF","close",this.path);if(this.dirty&&!t)throw oe("EBUSY","close",this.path);this.closed=!0}truncateSync(t){if(t<0)throw oe("EINVAL","truncate",this.path);if(this.closed)throw oe("EBADF","truncate",this.path);if(!(this.flag&dr||this.flag&ti))throw oe("EBADF","truncate",this.path);if(this.fs.attributes.has("readonly"))throw oe("EROFS","truncate",this.path);if(this.inode.flags&yr.Immutable)throw oe("EPERM","truncate",this.path);this.dirty=!0,this.inode.mtimeMs=Date.now(),this.inode.size=t,this.inode.ctimeMs=Date.now(),this._isSync&&this.syncSync()}writeSync(t,r=0,i=t.byteLength-r,n=this.position){if(this.closed)throw oe("EBADF","write",this.path);if(!(this.flag&dr||this.flag&ti))throw oe("EBADF","write",this.path);if(this.fs.attributes.has("readonly"))throw oe("EROFS","write",this.path);if(this.inode.flags&yr.Immutable)throw oe("EPERM","write",this.path);this.dirty=!0;const o=n+i,u=t.subarray(r,r+i);return!Vn(this.inode)&&!$n(this.inode)&&o>this.inode.size&&(this.inode.size=o),this.inode.mtimeMs=Date.now(),this.inode.ctimeMs=Date.now(),this._position=n+u.byteLength,this.fs.writeSync(this.internalPath,u,n),this._isSync&&this.syncSync(),u.byteLength}readSync(t,r=0,i=t.byteLength-r,n=this.position){if(this.closed)throw oe("EBADF","read",this.path);if(this.flag&dr)throw oe("EBADF","read",this.path);!(this.inode.flags&yr.NoAtime)&&!this.fs.attributes.has("no_atime")&&(this.dirty=!0,this.inode.atimeMs=Date.now());let o=n+i;!Vn(this.inode)&&!$n(this.inode)&&o>this.inode.size&&(o=n+Math.max(this.inode.size-n,0)),this._position=o;const u=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return this.fs.readSync(this.internalPath,u.subarray(r,r+i),n,o),this._isSync&&this.syncSync(),o-n}chmodSync(t){if(this.closed)throw oe("EBADF","chmod",this.path);this.dirty=!0,this.inode.mode=this.inode.mode&(t>Ct?-61441:Ct)|t,(this._isSync||t>Ct)&&this.syncSync()}chownSync(t,r){if(this.closed)throw oe("EBADF","chmod",this.path);this.dirty=!0,qo(this.inode,t,r),this._isSync&&this.syncSync()}utimesSync(t,r){if(this.closed)throw oe("EBADF","utimes",this.path);this.dirty=!0,this.inode.atimeMs=t,this.inode.mtimeMs=r,this._isSync&&this.syncSync()}async[Symbol.asyncDispose](){await this.close()}async sync(){if(this.closed)throw oe("EBADF","sync",this.path);this.dirty&&(this.fs.attributes.has("no_write")||await this.fs.touch(this.internalPath,this.inode),this.dirty=!1)}datasync(){return this.sync()}async close(){if(this.closed)throw oe("EBADF","close",this.path);await this.sync(),this.dispose()}dispose(t){if(this.closed)throw oe("EBADF","close",this.path);if(this.dirty&&!t)throw oe("EBUSY","close",this.path);this.closed=!0}stat(){if(this.closed)throw oe("EBADF","stat",this.path);return this.inode}async truncate(t){if(t<0)throw oe("EINVAL","truncate",this.path);if(this.closed)throw oe("EBADF","truncate",this.path);if(!(this.flag&dr||this.flag&ti))throw oe("EBADF","truncate",this.path);if(this.fs.attributes.has("readonly"))throw oe("EROFS","truncate",this.path);if(this.inode.flags&yr.Immutable)throw oe("EPERM","truncate",this.path);this.dirty=!0,this.inode.mtimeMs=Date.now(),this.inode.size=t,this.inode.ctimeMs=Date.now(),this._isSync&&await this.sync()}async write(t,r=0,i=t.byteLength-r,n=this.position){if(this.closed)throw oe("EBADF","write",this.path);if(!(this.flag&dr||this.flag&ti))throw oe("EBADF","write",this.path);if(this.fs.attributes.has("readonly"))throw oe("EROFS","write",this.path);if(this.inode.flags&yr.Immutable)throw oe("EPERM","write",this.path);this.dirty=!0;const o=n+i,u=t.subarray(r,r+i);return!Vn(this.inode)&&!$n(this.inode)&&o>this.inode.size&&(this.inode.size=o),this.inode.mtimeMs=Date.now(),this.inode.ctimeMs=Date.now(),this._position=n+u.byteLength,await this.fs.write(this.internalPath,u,n),this._isSync&&await this.sync(),u.byteLength}async read(t,r=0,i=t.byteLength-r,n=this.position){if(this.closed)throw oe("EBADF","read",this.path);if(this.flag&dr)throw oe("EBADF","read",this.path);!(this.inode.flags&yr.NoAtime)&&!this.fs.attributes.has("no_atime")&&(this.dirty=!0,this.inode.atimeMs=Date.now());let o=n+i;!Vn(this.inode)&&!$n(this.inode)&&o>this.inode.size&&(o=n+Math.max(this.inode.size-n,0)),this._position=o;const u=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return await this.fs.read(this.internalPath,u.subarray(r,r+i),n,o),this._isSync&&await this.sync(),o-n}async chmod(t){if(this.closed)throw oe("EBADF","chmod",this.path);this.dirty=!0,this.inode.mode=this.inode.mode&(t>Ct?-61441:Ct)|t,(this._isSync||t>Ct)&&await this.sync()}async chown(t,r){if(this.closed)throw oe("EBADF","chown",this.path);this.dirty=!0,qo(this.inode,t,r),this._isSync&&await this.sync()}async utimes(t,r){if(this.closed)throw oe("EBADF","utimes",this.path);this.dirty=!0,this.inode.atimeMs=t,this.inode.mtimeMs=r,this._isSync&&await this.sync()}streamRead(t){if(this.closed)throw oe("EBADF","streamRead",this.path);return this.fs.streamRead(this.internalPath,t)}streamWrite(t){if(this.closed)throw oe("EBADF","write",this.path);if(this.inode.flags&yr.Immutable)throw oe("EPERM","write",this.path);if(this.fs.attributes.has("readonly"))throw oe("EROFS","write",this.path);return this.fs.streamWrite(this.internalPath,t)}}function Xs(e){const t=kr(e.context).descriptors,r=Math.max(t.size?Math.max(...t.keys())+1:0,4);return t.set(r,e),r}function hr(e,t){const i=kr(e).descriptors.get(t);if(!i)throw ee("EBADF");return i}function rc(e,t){return kr(e).descriptors.delete(t)}const Uf=/[rwasx]{1,2}\+?/;function Kr(e){if(typeof e=="number")return e;if(!Uf.test(e))throw ee("EINVAL","Invalid flag string: "+e);return jf(e)}function jf(e){if(!e.includes("r")&&!e.includes("w")&&!e.includes("a"))throw ee("EINVAL","Invalid flag string: "+e);let t=e.includes("r")?po:Pn;return e.includes("w")&&(t|=Fn),e.includes("a")&&(t|=Wi),e.includes("+")?t|=ti:e.includes("r")||(t|=dr),e.includes("s")&&(t|=Us),e.includes("x")&&(t|=Bn),t}function ic(e){let t=0;return e&dr||(t|=Xt),(e&dr||e&ti)&&(t|=Qt),t}function Js(e,t,r,i){const n=typeof r=="string"?{path:r,dest:i,syscall:t.endsWith("Sync")?t.slice(0,-4):t}:r,o=e[t];if(typeof o!="function")throw new TypeError(`${t} is not a function`);return function(...u){try{return o.call(e,...u)}catch(l){throw ir(Object.assign(l,n))}}}function Wf(e,t){return new Proxy(e,{get(r,i){const n=Reflect.get(r,i);return typeof n!="function"?n:function o(...u){try{const l=n.apply(r,u);return l instanceof Promise?l.catch(p=>{if("code"in p)throw ir(Object.assign(p,t));if(p in ce){const h=oe(p,t);Error.captureStackTrace(h,o)}throw p}):l}catch(l){throw ir(Object.assign(l,t))}}}})}const xi=new Map;Yn("/",Tf.create({label:"root"}));function Yn(e,t){if(e[0]!="/"&&(e="/"+e),e=Or.call(this,e),xi.has(e))throw Kt(ee("EINVAL","Mount point is already in use: "+e));t._mountPoint=e,xi.set(e,t),un(`Mounted ${t.name} on ${e}`),Cr(`${t.name} attributes: ${[...t.attributes].map(([r,i])=>i!=null?r+"="+i:r).join(", ")}`)}function nc(e){if(e[0]!="/"&&(e="/"+e),e=Or.call(this,e),!xi.has(e)){qt(e+" is already unmounted");return}xi.delete(e),Ln("Unmounted "+e)}function Lt(e,t,r){const{root:i}=kr(t),n={path:e,...r};e=Je(Dt(i,e),!0),e=Or.call(t,e);const o=[...xi].sort((u,l)=>u[0].length>l[0].length?-1:1);for(const[u,l]of o){if(!Vf(u,e))continue;e=e.slice(u.length>1?u.length:0),e===""&&(e="/");const p=l.attributes.get("case_fold");return p==="lower"&&(e=e.toLowerCase()),p==="upper"&&(e=e.toUpperCase()),{fs:Wf(l,n),path:e,mountPoint:u,root:i}}throw lo(new Yt(ce.EIO,"No file system for "+e))}function sc(e,t){const r=e.usage(),i=r.blockSize||4096;return{type:(t?BigInt:Number)(e.type),bsize:(t?BigInt:Number)(i),ffree:(t?BigInt:Number)(r.freeNodes||Ir),files:(t?BigInt:Number)(r.totalNodes||Ir),bavail:(t?BigInt:Number)(r.freeSpace/i),bfree:(t?BigInt:Number)(r.freeSpace/i),blocks:(t?BigInt:Number)(r.totalSpace/i)}}function $f(e){const t=kr(this);if(!Qu(t.credentials))throw ee("EPERM","Can not chroot() as non-root user");t.root??="/";const r=Dt(t.root,e);for(const i of t.descriptors?.values()??[]){if(!i.path.startsWith(t.root))throw oe("EBUSY","chroot",i.path);i.path=i.path.slice(t.root.length)}if(r.length>t.root.length)throw ee("EPERM","Can not chroot() outside of current root");t.root=r}function Vf(e,t){return e==="/"||e===t?!0:(e.endsWith("/")||(e+="/"),t.startsWith(e))}function Ar(e,t,r,i){t=Or.call(e,t);try{const m=Lt(t,e),A=m.fs.statSync(m.path);if(!Ti(A)||r)return{...m,fullPath:t,stats:A};const S=Or.call(e,Et(t),Zs.call(e,t));return Ar(e,S,r,i)}catch(m){if(ir(Object.assign(m,{syscall:"stat",path:t})),r)throw m}const{base:n,dir:o}=lr(t),u=o=="/"?"/":Ar(e,o,!1,i).fullPath,l=Dt(u,n),p=Lt(l,e);let h;try{h=p.fs.statSync(p.path)}catch(m){if(m.code==="ENOENT")return{...p,fullPath:t};throw ir(Object.assign(m,{syscall:"stat",path:l}))}if(!Ti(h))return{...p,fullPath:l,stats:h};const _=Or.call(e,u,Zs.call(e,l));return Ar(e,_,!1,i)}function gi(e,t){e=Je(e);const r=ni(t.mode,420),i=Kr(t.flag);e=t.preserveSymlinks?e:Ar(this,e).fullPath;const{fs:n,path:o}=Lt(e,this);let u;try{u=n.statSync(o)}catch{}if(!u){if(!(i&Pn))throw oe("ENOENT","open",e);const p=n.statSync(Et(o));if(St&&!yt(this,p,Qt))throw oe("EACCES","open",e);if(!nr(p))throw oe("ENOTDIR","open",e);if(!t.allowDirectory&&r&At)throw oe("EISDIR","open",e);if(St&&!yt(this,p,Qt))throw oe("EACCES","open",e);const{euid:h,egid:_}=kr(this).credentials,m=n.createFileSync(o,{mode:r,uid:p.mode&Oi?p.uid:h,gid:p.mode&Ai?p.gid:_});return new Hn(this,e,n,o,i,m)}if(St&&(!yt(this,u,r)||!yt(this,u,ic(i))))throw oe("EACCES","open",e);if(i&Bn)throw oe("EEXIST","open",e);const l=new Hn(this,e,n,o,i,u);if(!t.allowDirectory&&u.mode&At)throw oe("EISDIR","open",e);return i&Fn&&l.truncateSync(0),l}function Zs(e){e=Je(e);const{fs:t,stats:r,path:i}=Ar(this,e,!0);if(!r)throw oe("ENOENT","readlink",e);if(St&&!yt(this,r,Xt))throw oe("EACCES","readlink",e);if(!Ti(r))throw oe("EINVAL","readlink",e);const n=r.size,o=new Uint8Array(n);return t.readSync(i,o,0,n),Vr(o)}function Gf(e,t={}){e=Je(e);const{fs:r,path:i}=Ar(this,e),{euid:n,egid:o}=kr(this).credentials,{mode:u=511,recursive:l}=t,p=(m,A,S)=>{if(St&&!yt(this,S,Qt))throw oe("EACCES","mkdir",Et(m));const O=r.mkdirSync(A,{mode:u,uid:S.mode&Oi?S.uid:n,gid:S.mode&Ai?S.gid:o});return pr(this,"rename",m),O};if(!l){p(e,i,r.statSync(Et(i)));return}const h=[];for(let m=i,A=e;!r.existsSync(m);m=Et(m),A=Et(A))h.unshift({resolved:m,original:A});if(!h.length)return;const _=[r.statSync(Et(h[0].resolved))];for(const[m,A]of h.entries())_.push(p(A.original,A.resolved,_[m]));return h[0].original}function qf(e,t={}){e=Je(e);const{fs:r,path:i}=Ar(this,e),n=r.statSync(i);if(St&&!yt(this,n,Xt))throw oe("EACCES","readdir",e);if(!nr(n))throw oe("ENOTDIR","readdir",e);const o=r.readdirSync(i),u=[],l=p=>{let h;try{h=r.statSync(Dt(i,p))}catch(A){if(A.code=="ENOENT")return;throw A}const _=new tc;if(_.ino=h.ino,_.type=ec(h.mode),_.path=p,_.name=Pr(p),u.push(_),!nr(h)||!t?.recursive)return;const m=r.readdirSync(Dt(i,p));for(const A of m)l(Dt(p,A))};for(const p of o)l(p);return u}function Hf(e,t){e=Je(e),t=Je(t);const r={syscall:"rename",path:e,dest:t},i=Ar(this,e,!0,r),n=Lt(t,this,r);if(i.fs.uuid!==n.fs.uuid)throw oe("EXDEV",r);if(n.path.startsWith(i.path+"/"))throw oe("EBUSY",r);if(!i.stats)throw oe("ENOENT",r);const o=i.fs,u=o.statSync(Et(i.path)),l=o.statSync(Et(n.path));let p;try{p=o.statSync(n.path)}catch(h){if(h.code!="ENOENT")throw h}if(St&&(!yt(this,u,Xt)||!yt(this,l,Qt)))throw oe("EACCES",r);if(p&&!nr(i.stats)&&nr(p))throw oe("EISDIR",r);if(p&&nr(i.stats)&&!nr(p))throw oe("ENOTDIR",r);i.fs.renameSync(i.path,n.path),pr(this,"rename",e),pr(this,"change",t)}function Yf(e,t){e=Je(e),t=Je(t);const r={syscall:"link",path:t,dest:e},{fs:i,path:n}=Lt(e,this,r),o=Lt(t,this,r);if(i.uuid!==o.fs.uuid)throw oe("EXDEV",r);const u=i.statSync(n);if(St){if(!yt(this,u,Xt))throw oe("EACCES",r);const l=i.statSync(Et(n));if(!yt(this,l,Xt))throw oe("EACCES",r);const p=i.statSync(Et(o.path));if(!yt(this,p,Qt))throw oe("EACCES",r)}return i.linkSync(n,o.path)}class mn{ino;type;_name;get name(){const t=Ht.Buffer.from(this._name);return this._encoding=="buffer"?t:t.toString(this._encoding)}_encoding;_parentPath;get parentPath(){return this._parentPath}get path(){return qt("Dirent.path was removed in Node v24, use parentPath instead"),this._parentPath}static from(t,r){const i=new mn,{base:n,dir:o}=lr(t.path);return i._parentPath=o||".",i._name=n,i.ino=t.ino,i.type=t.type,i._encoding=r,i}isFile(){return this.type===ui.REG}isDirectory(){return this.type===ui.DIR}isBlockDevice(){return this.type===ui.BLK}isCharacterDevice(){return this.type===ui.CHR}isSymbolicLink(){return this.type===ui.LNK}isFIFO(){return this.type===ui.FIFO}isSocket(){return this.type===ui.SOCK}}class Qs{path;context;closed=!1;checkClosed(){if(this.closed)throw ee("EBADF","Can not use closed Dir")}_entries;constructor(t,r){this.path=t,this.context=r}close(t){if(this.closed=!0,!t)return Promise.resolve();t(null)}closeSync(){this.closed=!0}async _read(){return this.checkClosed(),this._entries??=await Qi.call(this.context,this.path,{withFileTypes:!0}),this._entries.length?this._entries.shift()??null:null}read(t){if(!t)return this._read();this._read().then(r=>t(null,r))}readSync(){return this.checkClosed(),this._entries??=wn.call(this.context,this.path,{withFileTypes:!0}),this._entries.length?this._entries.shift()??null:null}async next(){const t=await this._read();return t?{done:!1,value:t}:(await this.close(),{done:!0,value:void 0})}[Symbol.asyncIterator](){return this}[Symbol.dispose](){this.closed||this.closeSync()}async[Symbol.asyncDispose](){this.closed||await this.close()}}var yn=function(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var i,n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=t[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=t[Symbol.dispose],r&&(n=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");n&&(i=function(){try{n.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:t,dispose:i,async:r})}else r&&e.stack.push({async:!0});return t},pn=(function(e){return function(t){function r(u){t.error=t.hasError?new e(u,t.error,"An error was suppressed during disposal."):u,t.hasError=!0}var i,n=0;function o(){for(;i=t.stack.pop();)try{if(!i.async&&n===1)return n=0,t.stack.push(i),Promise.resolve().then(o);if(i.dispose){var u=i.dispose.call(i.value);if(i.async)return n|=2,Promise.resolve(u).then(o,function(l){return r(l),o()})}else n|=1}catch(l){r(l)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}})(typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var i=new Error(r);return i.name="SuppressedError",i.error=e,i.suppressed=t,i});function Kf(e,t){return Hf.call(this,e,t)}function ea(e){e=Je(e);try{const{fs:t,path:r}=Ar(this,e);return t.existsSync(r)}catch(t){if(t.errno==ce.ENOENT)return!1;throw t}}function gn(e,t){e=Je(e);const{fs:r,path:i}=Ar(this,e);let n;try{n=r.statSync(i)}catch(o){throw ir(Object.assign(o,{path:e}))}if(St&&!yt(this,n,Xt))throw oe("EACCES",{syscall:"stat",path:e});return t?.bigint?new Di(n):new ai(n)}function ta(e,t){e=Je(e);const{base:r,dir:i}=lr(e),{fs:n,path:o}=Ar(this,i),u=Js(n,"statSync",e)(r?Dt(o,r):o);if(St&&!yt(this,u,Xt))throw oe("EACCES",{syscall:"lstat",path:e});return t?.bigint?new Di(u):new ai(u)}function Xf(e,t=0){const r={stack:[],error:void 0,hasError:!1};try{const i=yn(r,gi.call(this,e,{flag:"r+"}),!1);if(t||=0,t<0)throw oe("EINVAL","truncate",e.toString());i.truncateSync(t)}catch(i){r.error=i,r.hasError=!0}finally{pn(r)}}function ac(e){e=Je(e);const{fs:t,path:r}=Lt(e,this);try{if(St&&!yt(this,t.statSync(r),Qt))throw oe("EACCES","unlink");t.unlinkSync(r)}catch(i){throw ir(Object.assign(i,{path:e}))}pr(this,"rename",e.toString())}function ra(e,t,r=Mn){return Xs(gi.call(this,e,{flag:t,mode:r}))}function Kn(e,t,r){return Xs(gi.call(this,e,{flag:t,mode:r,preserveSymlinks:!0}))}function oc(e,t={}){const r={stack:[],error:void 0,hasError:!1};try{const i=si(t,null,"r",420);if(Kr(i.flag)&dr)throw oe("EBADF","read",e.toString());const o=yn(r,typeof e=="number"?hr(this,e):gi.call(this,e.toString(),{flag:i.flag,mode:420,preserveSymlinks:!1}),!1),{size:u}=o.stat(),l=Ht.Buffer.alloc(u);return o.readSync(l,0,u,0),i.encoding?l.toString(i.encoding):l}catch(i){r.error=i,r.hasError=!0}finally{pn(r)}}function cc(e,t,r={}){const i={stack:[],error:void 0,hasError:!1};try{const n=si(r,"utf8","w+",420),o=Kr(n.flag);if(!(o&dr||o&ti))throw new Yt(ce.EINVAL,"Flag passed to writeFile must allow for writing");if(typeof t!="string"&&!n.encoding)throw new Yt(ce.EINVAL,"Encoding not specified");const u=typeof t=="string"?Ht.Buffer.from(t,n.encoding):new Uint8Array(t.buffer,t.byteOffset,t.byteLength);if(!u)throw new Yt(ce.EINVAL,"Data not specified");yn(i,typeof e=="number"?hr(this,e):gi.call(this,e.toString(),{flag:o,mode:n.mode,preserveSymlinks:!0}),!1).writeSync(u,0,u.byteLength,0),pr(this,"change",e.toString())}catch(n){i.error=n,i.hasError=!0}finally{pn(i)}}function Jf(e,t,r={}){const i=si(r,"utf8","a+",420),n=Kr(i.flag);if(!(n&Wi))throw new Yt(ce.EINVAL,"Flag passed to appendFile must allow for appending");if(typeof t!="string"&&!i.encoding)throw new Yt(ce.EINVAL,"Encoding not specified");const o=typeof t=="string"?Ht.Buffer.from(t,i.encoding):new Uint8Array(t.buffer,t.byteOffset,t.byteLength),u=typeof e=="number"?hr(this,e):gi.call(this,Je(e),{flag:n,mode:i.mode,preserveSymlinks:!0});u.writeSync(o,0,o.byteLength),typeof u!="number"&&u.closeSync()}function Zf(e,t){const r=hr(this,e).stat();return t?.bigint?new Di(r):new ai(r)}function Yi(e){hr(this,e).closeSync(),rc(this,e)}function Qf(e,t=0){if(t||=0,t<0)throw new Yt(ce.EINVAL);hr(this,e).truncateSync(t)}function ed(e){hr(this,e).syncSync()}function td(e){hr(this,e).datasyncSync()}function rd(e,t,r,i,n){let o,u,l,p;if(typeof t=="string"){p=typeof r=="number"?r:null;const m=typeof i=="string"?i:"utf8";u=0,o=Ht.Buffer.from(t,m),l=o.byteLength}else o=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),u=r,l=i,p=typeof n=="number"?n:null;const h=hr(this,e);p??=h.position;const _=h.writeSync(o,u,l,p);return pr(this,"change",h.path),_}function id(e,t,r,i,n){const o=hr(this,e),u=typeof r=="object"?r.offset:r;if(typeof r=="object"&&(i=r.length,n=r.position),n&&n>Number.MAX_SAFE_INTEGER)throw oe("EINVAL");return typeof n=="bigint"&&(n=Number(n)),n=Number.isSafeInteger(n)?n:o.position,o.readSync(t,u,i,n)}function lc(e,t,r){hr(this,e).chownSync(t,r)}function ia(e,t){const r=ni(t,-1);if(r<0)throw new Yt(ce.EINVAL,"Invalid mode.");hr(this,e).chmodSync(r)}function na(e,t,r){hr(this,e).utimesSync(pi(t),pi(r))}function uc(e){e=Je(e);const{fs:t,path:r}=Ar(this,e),i=Js(t,"statSync",e)(r);if(!nr(i))throw oe("ENOTDIR","rmdir",e);if(St&&!yt(this,i,Qt))throw oe("EACCES","rmdir",e);Js(t,"rmdirSync",e)(r),pr(this,"rename",e.toString())}function Xn(e,t){t=typeof t=="object"?t:{mode:t};const r=ni(t?.mode,511);return Gf.call(this,e,{...t,mode:r})}function wn(e,t){t=typeof t=="object"?t:{encoding:t},e=Je(e);const r=[],i=qf.call(this,e,t??void 0);for(const n of i)t?.withFileTypes?r.push(mn.from(n,t.encoding)):t?.encoding=="buffer"?r.push(Ht.Buffer.from(n.path)):r.push(n.path);return r}function nd(e,t){return Yf.call(this,e,t)}function sd(e,t,r="file"){const i={stack:[],error:void 0,hasError:!1};try{if(!["file","dir","junction"].includes(r))throw new TypeError("Invalid symlink type: "+r);t=Je(t);const n=yn(i,gi.call(this,t,{flag:"wx",mode:420}),!1);n.writeSync(ei(Je(e,!0))),n.chmodSync(ri)}catch(n){i.error=n,i.hasError=!0}finally{pn(i)}}function ad(e,t){const r=Ht.Buffer.from(Zs.call(this,e)),i=typeof t=="object"?t?.encoding:t;return i=="buffer"?r:r.toString(i??"utf-8")}function od(e,t,r){const i={stack:[],error:void 0,hasError:!1};try{yn(i,gi.call(this,e,{flag:"r+",mode:Mn}),!1).chownSync(t,r)}catch(n){i.error=n,i.hasError=!0}finally{pn(i)}}function cd(e,t,r){const i=Kn.call(this,e,"r+");lc.call(this,i,t,r),Yi.call(this,i)}function ld(e,t){const r=ra.call(this,e,"r+");ia.call(this,r,t),Yi.call(this,r)}function ud(e,t){const r=Kn.call(this,e,"r+");ia.call(this,r,t),Yi.call(this,r)}function fc(e,t,r){const i=ra.call(this,e,"r+");na.call(this,i,t,r),Yi.call(this,i)}function fd(e,t,r){const i=Kn.call(this,e,"r+");na.call(this,i,t,r),Yi.call(this,i)}function dd(e,t){const r=typeof t=="string"?t:t?.encoding??"utf8";e=Je(e,!0);const{fullPath:i}=Ar(this,e);if(r=="utf8"||r=="utf-8")return i;const n=Ht.Buffer.from(i,"utf-8");return r=="buffer"?n:n.toString(r)}function hd(e,t=384){if(St&&!yt(this,gn.call(this,e),t))throw new Yt(ce.EACCES)}function sa(e,t){e=Je(e);let r;try{r=ta.bind(this)(e)}catch(i){if(i.code!="ENOENT"||!t?.force)throw i}if(r)switch(r.mode&Ct){case At:if(t?.recursive)for(const i of wn.call(this,e))sa.call(this,Dt(e,i),t);uc.call(this,e);break;case br:case ri:case Ii:case yi:ac.call(this,e);break;case Vi:case $i:default:throw oe("ENOSYS","rm",e)}}function _d(e,t){const r=typeof t=="object"?t?.encoding:t||"utf8",i=jn(e);return Xn.call(this,i),r=="buffer"?Ht.Buffer.from(i):i}function md(e,t){const r=jn(e);Xn.call(this,r);const i=()=>sa(r,{recursive:!0,force:!0});return{path:r,remove:i,[Symbol.dispose]:i}}function dc(e,t,r){if(e=Je(e),t=Je(t),r&&r&Fs&&ea(t))throw oe("EEXIST","copyFile",t);cc.call(this,t,oc(e)),pr(this,"rename",t.toString())}function yd(e,t,r){const i=hr(this,e);let n=0;for(const o of t)n+=i.readSync(o,0,o.byteLength,r+n);return n}function pd(e,t,r){const i=hr(this,e);let n=0;for(const o of t)n+=i.writeSync(new Uint8Array(o.buffer),0,o.byteLength,r+n);return n}function gd(e,t){return e=Je(e),new Qs(e,this)}function hc(e,t,r){e=Je(e),t=Je(t);const i=ta.call(this,e);if(r?.errorOnExist&&ea.call(this,t))throw oe("EEXIST","cp",t);switch(i.mode&Ct){case At:if(!r?.recursive)throw oe("EISDIR","cp",e);Xn.call(this,t,{recursive:!0});for(const n of wn.call(this,e,{withFileTypes:!0}))r.filter&&!r.filter(Dt(e,n.name),Dt(t,n.name))||hc.call(this,Dt(e,n.name),Dt(t,n.name),r);break;case br:case ri:dc.call(this,e,t);break;case Ii:case yi:case Vi:case $i:default:throw oe("ENOSYS","cp",e)}r?.preserveTimestamps&&fc.call(this,t,i.atime,i.mtime)}function wd(e,t){e=Je(e);const{fs:r}=Lt(e,this);return sc(r,t?.bigint)}function bd(e,t={}){e=Array.isArray(e)?e:[e];const{cwd:r="/",withFileTypes:i=!1,exclude:n=()=>!1}=t,o=e.map(Vs),u=[];function l(p){const h=wn(p,{withFileTypes:i,encoding:"utf8"});for(const _ of h){const m=i?Dt(_.parentPath,_.name):p+"/"+_;(typeof n!="function"?n.some(A=>Wo(A,m)):n(i?_:m))||(gn(m).isDirectory()&&o.some(A=>A.source.includes(".*"))&&l(m),o.some(A=>A.test(m.replace(/^\/+/g,"")))&&u.push(i?_:m.replace(/^\/+/g,"")))}}return l(r),u}class _c extends Rs{_context;path;off(t,r,i,n){return super.off(t,r,i,n)}removeListener(t,r,i,n){return super.removeListener(t,r,i,n)}constructor(t,r){super(),this._context=t,this.path=r}setMaxListeners(){throw oe("ENOSYS","Watcher.setMaxListeners")}getMaxListeners(){throw oe("ENOSYS","Watcher.getMaxListeners")}prependListener(){throw oe("ENOSYS","Watcher.prependListener")}prependOnceListener(){throw oe("ENOSYS","Watcher.prependOnceListener")}rawListeners(){throw oe("ENOSYS","Watcher.rawListeners")}ref(){return this}unref(){return this}}class mc extends _c{options;realpath;constructor(t,r,i){const n=kr(t);super(n,r),this.options=i,this.realpath=Dt(n.root,r),vd(this.realpath,this)}close(){super.emit("close"),Sd(this.realpath,this)}[Symbol.dispose](){this.close()}}class Ed extends _c{options;intervalId;previous;constructor(t,r,i){super(t,r),this.options=i,this.start()}onInterval(){try{const t=gn(this.path);Sf(this.previous,t)||(this.emit("change",t,this.previous),this.previous=t)}catch(t){this.emit("error",t)}}start(){const t=this.options.interval||5e3;try{this.previous=gn(this.path)}catch(r){this.emit("error",r);return}this.intervalId=setInterval(this.onInterval.bind(this),t),!this.options.persistent&&typeof this.intervalId=="object"&&this.intervalId.unref()}stop(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=void 0),this.removeAllListeners()}}const wi=new Map;function vd(e,t){const r=Je(e);wi.has(r)||wi.set(r,new Set),wi.get(r).add(t)}function Sd(e,t){const r=Je(e);wi.has(r)&&(wi.get(r).delete(t),wi.get(r).size===0&&wi.delete(r))}function pr(e,t,r){const i=kr(e);i&&(r=Dt(i.root??"/",r)),r=Je(r);for(let n=r;n!="/";n=Et(n)){const o=wi.get(n);if(o)for(const u of o)u.emit("change",t,jo.call(u._context,n,r)||Pr(r))}}async function Tr(e,t,r,i){if(t=Or.call(e,t),r){const m=Lt(t,e,i),A=await m.fs.stat(m.path).catch(()=>{});return{...m,fullPath:t,stats:A}}try{const m=Lt(t,e),A=await m.fs.stat(m.path);if(!Ti(A))return{...m,fullPath:t,stats:A};const S=Or.call(e,Et(t),await aa.call(e,t));return await Tr(e,S,r,i)}catch{}const{base:n,dir:o}=lr(t),u=o=="/"?"/":(await Tr(e,o,!1,i)).fullPath,l=Dt(u,n),p=Lt(l,e),h=await p.fs.stat(p.path).catch(m=>{if(m.code!="ENOENT")throw ir(Object.assign(m,{syscall:"stat",path:l}))});if(!h)return{...p,fullPath:t};if(!Ti(h))return{...p,fullPath:l,stats:h};const _=Or.call(e,u,await aa.call(e,l));return await Tr(e,_,!1,i)}async function Ki(e,t,r){t=Je(t);const i=ni(r.mode,420),n=Kr(r.flag),o={syscall:"open",path:t},{fs:u,path:l,stats:p}=await Tr(e,t,r.preserveSymlinks,o);if(!p){if(!(n&Pn))throw oe("ENOENT",o);const _=await u.stat(Et(l));if(St&&!yt(e,_,Qt))throw oe("EACCES","open",Et(t));if(!nr(_))throw oe("ENOTDIR","open",Et(t));if(!r.allowDirectory&&i&At)throw oe("EISDIR","open",t);const{euid:m,egid:A}=kr(e).credentials,S=await u.createFile(l,{mode:i,uid:_.mode&Oi?_.uid:m,gid:_.mode&Ai?_.gid:A});return new Hn(e,t,u,l,n,S)}if(St&&!yt(e,p,ic(n)))throw oe("EACCES",o);if(n&Bn)throw oe("EEXIST",o);const h=new Hn(e,t,u,l,n,p);if(!r.allowDirectory&&i&At)throw oe("EISDIR","open",t);return n&Fn&&await h.truncate(0),h}async function aa(e){e=Je(e);const t={syscall:"readlink",path:e},{fs:r,stats:i,path:n}=await Tr(this,e,!0,t);if(!i)throw oe("ENOENT",t);if(St&&!yt(this,i,Xt))throw oe("EACCES",t);if(!Ti(i))throw oe("EINVAL",t);const o=i.size,u=new Uint8Array(o);return await r.read(n,u,0,o),Vr(u)}async function kd(e,t={}){e=Je(e);const{euid:r,egid:i}=kr(this).credentials,{mode:n=511,recursive:o}=t,{fs:u,path:l}=Lt(e,this,{syscall:"mkdir"}),p=async(A,S,O)=>{if(St&&!yt(this,O,Qt))throw oe("EACCES","mkdir",A);const k=await u.mkdir(S,{mode:n,uid:O.mode&Oi?O.uid:r,gid:O.mode&Ai?O.gid:i});return pr(this,"rename",A),k};if(!o){await p(e,l,await u.stat(Et(l)));return}const h=[];let _=e;for(let A=l;!await u.exists(A);A=Et(A),_=Et(_))h.unshift([_,A]);if(!h.length)return;const m=[await u.stat(Et(h[0][1]))];for(const[A,[S,O]]of h.entries())m.push(await p(S,O,m[A]));return h[0][0]}async function Id(e,t={}){e=Je(e);const r={syscall:"readdir",path:e},{fs:i,path:n,stats:o}=await Tr(this,e,!1,r);if(!o)throw oe("ENOENT",r);if(St&&!yt(this,o,Xt))throw oe("EACCES",r);if(!nr(o))throw oe("ENOTDIR",r);const u=await i.readdir(n),l=[],p=async h=>{const _=await i.stat(Dt(n,h)).catch(S=>{if(S.code!="ENOENT")throw S});if(!_)return;const m=new tc;if(m.ino=_.ino,m.type=ec(_.mode),m.path=h,m.name=Pr(h),l.push(m),!t.recursive||!nr(_))return;const A=await i.readdir(Dt(n,h));for(const S of A)await p(Dt(h,S))};return await Promise.all(u.map(p)),l}async function Od(e,t){e=Je(e),t=Je(t);const r={syscall:"rename",path:e,dest:t},i=await Tr(this,e,!0,r),n=Lt(t,this,r);if(i.fs.uuid!==n.fs.uuid)throw oe("EXDEV",r);if(n.path.startsWith(i.path+"/"))throw oe("EBUSY",r);if(!i.stats)throw oe("ENOENT",r);const o=i.fs,u=await o.stat(Et(i.path)),l=await o.stat(Et(n.path)),p=await o.stat(n.path).catch(h=>{if(h.code=="ENOENT")return null;throw h});if(St&&(!yt(this,u,Xt)||!yt(this,l,Qt)))throw oe("EACCES",r);if(p&&!nr(i.stats)&&nr(p))throw oe("EISDIR",r);if(p&&nr(i.stats)&&!nr(p))throw oe("ENOTDIR",r);await i.fs.rename(i.path,n.path),pr(this,"rename",e),pr(this,"change",t)}async function Ad(e,t){e=Je(e),t=Je(t);const r={syscall:"link",path:t,dest:e},{fs:i,path:n}=Lt(e,this,r),o=Lt(t,this,r);if(i.uuid!=o.fs.uuid)throw oe("EXDEV",r);const u=await i.stat(n);if(St){if(!yt(this,u,Xt))throw oe("EACCES",r);const l=await i.stat(Et(n));if(!yt(this,l,Xt))throw oe("EACCES",r);const p=await i.stat(Et(o.path));if(!yt(this,p,Qt))throw oe("EACCES",r)}return await i.link(n,o.path)}class yc extends Rs{input;output;terminal;line="";_cursor=0;get cursor(){return this._cursor}_buffer="";_closed=!1;_paused=!1;_prompt="";_history=[];_historyIndex=-1;_currentLine="";constructor(t,r,i,n=!1){super(),this.input=t,this.output=r,this.terminal=n,this.input.on("data",this._onData),this.input.on("end",this.close.bind(this)),this.input.on("close",this.close.bind(this))}_onData=t=>{if(!(this._paused||this._closed)){this._buffer+=typeof t=="string"?t:t.toString("utf8");for(let r=this._buffer.indexOf(`
`);r>=0;r=this._buffer.indexOf(`
`)){let i=this._buffer.substring(0,r);i.endsWith("\r")&&(i=i.substring(0,i.length-1)),this._buffer=this._buffer.substring(r+1),this.line=i,i.trim()&&!i.trim().match(/^\s*$/)&&this._history.at(-1)!=i&&(this._history.push(i),this._historyIndex=this._history.length,this.emit("history",this._history)),this.emit("line",i)}}};close(){if(!this._closed){if(this._closed=!0,this.input?.removeAllListeners?.(),this._buffer.length){const t=this._buffer;this._buffer="",this.line=t,this.emit("line",t)}this.emit("history",this._history),this.emit("close"),this.removeAllListeners()}}pause(){return this._paused?this:(this._paused=!0,"pause"in this.input&&this.input.pause(),this.emit("pause"),this)}resume(){return this._paused?(this._paused=!1,"resume"in this.input&&this.input.resume(),this.emit("resume"),this):this}setPrompt(t){this._prompt=t}getPrompt(){return this._prompt}prompt(t){if(!this.output)return;if(!t){this.output.write(this._prompt);return}const{cols:r}=this.getCursorPos();this.output.write(this._prompt),this._cursor=r}write(t,r){if(!this._closed){if(t){const i=typeof t=="string"?t:t.toString("utf8");this._onData(i)}if(!(!r||!this.terminal))switch((r.ctrl?"^":"")+r.name){case"^c":this.emit("SIGINT");break;case"^z":this.emit("SIGTSTP");break;case"^q":this.emit("SIGCONT");break;case"home":case"^a":if(!this.output)return;xr(this.output,-this._cursor,0),this._cursor=0,this._cursor=0;break;case"^e":case"end":{if(!this.output)return;const i=this.line.length-this._cursor;if(!i)return;xr(this.output,i,0),this._cursor=this.line.length,this._cursor=this.line.length;break}case"^k":{if(!this.output||this._cursor>=this.line.length)return;const i=this.line.slice(0,this._cursor);Jn(this.output,1),this.line=i;break}case"^u":{if(!this.output||!this._cursor)return;const i=this.line.slice(this._cursor);Jn(this.output,0),xr(this.output,0,0),this.output.write(this._prompt+i),this.line=i,this._cursor=0,this._cursor=0;break}case"^w":{if(!this.output||!this._cursor)return;let i=this._cursor-1;for(;i>=0&&this.line[i]===" ";)i--;for(;i>=0&&this.line[i]!==" ";)i--;const n=this.line.slice(0,i+1)+this.line.slice(this._cursor),o=i+1;this._renderLine(n),this._cursor=o,this._cursor=o,xr(this.output,-n.length,0),xr(this.output,o,0);break}case"^return":case"^enter":this._onData(`
`);break;case"return":case"enter":this._onData((t?typeof t=="string"?t:t.toString("utf8"):"")+`
`);break;case"up":case"down":{if(!this.output||!this._history.length)return;if(this._historyIndex===this._history.length&&(this._currentLine=this.line||""),r.name=="up"&&this._historyIndex>0)this._historyIndex--;else if(r.name=="down"&&this._historyIndex<this._history.length-1)this._historyIndex++;else if(r.name=="down"&&this._historyIndex==this._history.length-1){this._historyIndex=this._history.length,this._renderLine(this._currentLine);return}else return;const i=this._history[this._historyIndex];this._renderLine(i);break}case"left":case"right":{const i=r.name=="left"?-1:1;if(!this.output)return;const n=Math.max(0,Math.min(this.line.length,this._cursor+i));if(n==this._cursor)return;xr(this.output,i,0),this._cursor=n,this._cursor=n;break}case"backspace":{if(!this.output||!this._cursor)return;const i=this.line.slice(0,this._cursor-1)+this.line.slice(this._cursor);this._renderLine(i),this._cursor=--this._cursor,this._cursor>0&&(xr(this.output,-this._cursor,0),xr(this.output,this._cursor,0));break}case"delete":{if(!this.output||this._cursor>=this.line.length)return;const i=this.line.slice(0,this._cursor)+this.line.slice(this._cursor+1);Jn(this.output,0),xr(this.output,0,0),this.output.write(this._prompt+i),this.line=i,xr(this.output,-i.length,0),xr(this.output,this._cursor,0);break}}}}_renderLine(t){this.output&&(Jn(this.output,0),xr(this.output,0,0),this.output.write(this._prompt+t),this.line=t,this._cursor=t.length,this._cursor=t.length)}question(t,r,i){const n=typeof r=="function"?r:i;if(this._closed||!this.output){n("");return}this.output.write(t),this.once("line",n)}getCursorPos(){return{rows:0,cols:this.cursor}}prependListener(t,r){const i=this.listeners(t);return this.removeAllListeners(t),this.on(t,r),i.forEach(this.on.bind(this,t)),this}prependOnceListener(t,r){const i=this.listeners(t);return this.removeAllListeners(t),this.once(t,r),i.forEach(this.on.bind(this,t)),this}setMaxListeners(){return qt("Interface.prototype.setMaxListeners is not supported"),this}getMaxListeners(){return qt("Interface.prototype.getMaxListeners is not supported"),10}[Symbol.asyncIterator](){let t=!1;return{next:async()=>{if(t)return{done:t,value:void 0};const{resolve:r,promise:i}=Promise.withResolvers();return this.once("line",n=>r({value:n,done:!1})),this.once("close",()=>{t=!0,r({value:void 0,done:t})}),i},return:async r=>t?{done:t,value:r}:(t=!0,this.close(),{done:t,value:r}),throw:async r=>{throw t||(t=!0,this.close()),r},[Symbol.asyncIterator](){return this},[Symbol.asyncDispose]:async()=>{t||(t=!0,this.close())}}}[Symbol.dispose](){this.close()}async[Symbol.asyncDispose](){if(this._closed)return;const{resolve:t,promise:r}=Promise.withResolvers();this.once("close",()=>t()),this.close(),await r}rawListeners(t){return this.listeners(t)}}function Dd(e,t,r,i){return"input"in e?new yc(e.input,e.output,e.completer,e.terminal):new yc(e,t,r,i)}function Jn(e,t){return e.write(t>=0?"\r\x1B[K":"\x1B[K"),!0}function xr(e,t,r){if(!e.write)return!1;let i="";return t<0?i+=`\x1B[${-t}D`:t>0&&(i+=`\x1B[${t}C`),r<0?i+=`\x1B[${-r}A`:r>0&&(i+=`\x1B[${r}B`),i&&e.write(i),!0}var oa={exports:{}},ca={exports:{}},la,pc;function Jt(){if(pc)return la;pc=1;class e extends Error{constructor(r){if(!Array.isArray(r))throw new TypeError(`Expected input to be an Array, got ${typeof r}`);let i="";for(let n=0;n<r.length;n++)i+=`    ${r[n].stack}
`;super(i),this.name="AggregateError",this.errors=r}}return la={AggregateError:e,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,r){return t.includes(r)},ArrayPrototypeIndexOf(t,r){return t.indexOf(r)},ArrayPrototypeJoin(t,r){return t.join(r)},ArrayPrototypeMap(t,r){return t.map(r)},ArrayPrototypePop(t,r){return t.pop(r)},ArrayPrototypePush(t,r){return t.push(r)},ArrayPrototypeSlice(t,r,i){return t.slice(r,i)},Error,FunctionPrototypeCall(t,r,...i){return t.call(r,...i)},FunctionPrototypeSymbolHasInstance(t,r){return Function.prototype[Symbol.hasInstance].call(t,r)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,r){return Object.defineProperties(t,r)},ObjectDefineProperty(t,r,i){return Object.defineProperty(t,r,i)},ObjectGetOwnPropertyDescriptor(t,r){return Object.getOwnPropertyDescriptor(t,r)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,r){return Object.setPrototypeOf(t,r)},Promise,PromisePrototypeCatch(t,r){return t.catch(r)},PromisePrototypeThen(t,r,i){return t.then(r,i)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,r){return t.test(r)},SafeSet:Set,String,StringPrototypeSlice(t,r,i){return t.slice(r,i)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,r,i){return t.set(r,i)},Boolean,Uint8Array},la}var ua={exports:{}},fa,gc;function wc(){return gc||(gc=1,fa={format(e,...t){return e.replace(/%([sdifj])/g,function(...[r,i]){const n=t.shift();return i==="f"?n.toFixed(6):i==="j"?JSON.stringify(n):i==="s"&&typeof n=="object"?`${n.constructor!==Object?n.constructor.name:""} {}`.trim():n.toString()})},inspect(e){switch(typeof e){case"string":if(e.includes("'"))if(e.includes('"')){if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}else return`"${e}"`;return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}}),fa}var da,bc;function gr(){if(bc)return da;bc=1;const{format:e,inspect:t}=wc(),{AggregateError:r}=Jt(),i=globalThis.AggregateError||r,n=Symbol("kIsNodeError"),o=["string","function","number","object","Function","Object","boolean","bigint","symbol"],u=/^([A-Z][a-z0-9]*)+$/,l="__node_internal_",p={};function h(E,v){if(!E)throw new p.ERR_INTERNAL_ASSERTION(v)}function _(E){let v="",N=E.length;const T=E[0]==="-"?1:0;for(;N>=T+4;N-=3)v=`_${E.slice(N-3,N)}${v}`;return`${E.slice(0,N)}${v}`}function m(E,v,N){if(typeof v=="function")return h(v.length<=N.length,`Code: ${E}; The provided arguments length (${N.length}) does not match the required ones (${v.length}).`),v(...N);const T=(v.match(/%[dfijoOs]/g)||[]).length;return h(T===N.length,`Code: ${E}; The provided arguments length (${N.length}) does not match the required ones (${T}).`),N.length===0?v:e(v,...N)}function A(E,v,N){N||(N=Error);class T extends N{constructor(...R){super(m(E,v,R))}toString(){return`${this.name} [${E}]: ${this.message}`}}Object.defineProperties(T.prototype,{name:{value:N.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${E}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),T.prototype.code=E,T.prototype[n]=!0,p[E]=T}function S(E){const v=l+E.name;return Object.defineProperty(E,"name",{value:v}),E}function O(E,v){if(E&&v&&E!==v){if(Array.isArray(v.errors))return v.errors.push(E),v;const N=new i([v,E],v.message);return N.code=v.code,N}return E||v}class k extends Error{constructor(v="The operation was aborted",N=void 0){if(N!==void 0&&typeof N!="object")throw new p.ERR_INVALID_ARG_TYPE("options","Object",N);super(v,N),this.code="ABORT_ERR",this.name="AbortError"}}return A("ERR_ASSERTION","%s",Error),A("ERR_INVALID_ARG_TYPE",(E,v,N)=>{h(typeof E=="string","'name' must be a string"),Array.isArray(v)||(v=[v]);let T="The ";E.endsWith(" argument")?T+=`${E} `:T+=`"${E}" ${E.includes(".")?"property":"argument"} `,T+="must be ";const j=[],R=[],V=[];for(const ne of v)h(typeof ne=="string","All expected entries have to be of type string"),o.includes(ne)?j.push(ne.toLowerCase()):u.test(ne)?R.push(ne):(h(ne!=="object",'The value "object" should be written as "Object"'),V.push(ne));if(R.length>0){const ne=j.indexOf("object");ne!==-1&&(j.splice(j,ne,1),R.push("Object"))}if(j.length>0){switch(j.length){case 1:T+=`of type ${j[0]}`;break;case 2:T+=`one of type ${j[0]} or ${j[1]}`;break;default:{const ne=j.pop();T+=`one of type ${j.join(", ")}, or ${ne}`}}(R.length>0||V.length>0)&&(T+=" or ")}if(R.length>0){switch(R.length){case 1:T+=`an instance of ${R[0]}`;break;case 2:T+=`an instance of ${R[0]} or ${R[1]}`;break;default:{const ne=R.pop();T+=`an instance of ${R.join(", ")}, or ${ne}`}}V.length>0&&(T+=" or ")}switch(V.length){case 0:break;case 1:V[0].toLowerCase()!==V[0]&&(T+="an "),T+=`${V[0]}`;break;case 2:T+=`one of ${V[0]} or ${V[1]}`;break;default:{const ne=V.pop();T+=`one of ${V.join(", ")}, or ${ne}`}}if(N==null)T+=`. Received ${N}`;else if(typeof N=="function"&&N.name)T+=`. Received function ${N.name}`;else if(typeof N=="object"){var ae;if((ae=N.constructor)!==null&&ae!==void 0&&ae.name)T+=`. Received an instance of ${N.constructor.name}`;else{const ne=t(N,{depth:-1});T+=`. Received ${ne}`}}else{let ne=t(N,{colors:!1});ne.length>25&&(ne=`${ne.slice(0,25)}...`),T+=`. Received type ${typeof N} (${ne})`}return T},TypeError),A("ERR_INVALID_ARG_VALUE",(E,v,N="is invalid")=>{let T=t(v);return T.length>128&&(T=T.slice(0,128)+"..."),`The ${E.includes(".")?"property":"argument"} '${E}' ${N}. Received ${T}`},TypeError),A("ERR_INVALID_RETURN_VALUE",(E,v,N)=>{var T;const j=N!=null&&(T=N.constructor)!==null&&T!==void 0&&T.name?`instance of ${N.constructor.name}`:`type ${typeof N}`;return`Expected ${E} to be returned from the "${v}" function but got ${j}.`},TypeError),A("ERR_MISSING_ARGS",(...E)=>{h(E.length>0,"At least one arg needs to be specified");let v;const N=E.length;switch(E=(Array.isArray(E)?E:[E]).map(T=>`"${T}"`).join(" or "),N){case 1:v+=`The ${E[0]} argument`;break;case 2:v+=`The ${E[0]} and ${E[1]} arguments`;break;default:{const T=E.pop();v+=`The ${E.join(", ")}, and ${T} arguments`}break}return`${v} must be specified`},TypeError),A("ERR_OUT_OF_RANGE",(E,v,N)=>{h(v,'Missing "range" argument');let T;if(Number.isInteger(N)&&Math.abs(N)>2**32)T=_(String(N));else if(typeof N=="bigint"){T=String(N);const j=BigInt(2)**BigInt(32);(N>j||N<-j)&&(T=_(T)),T+="n"}else T=t(N);return`The value of "${E}" is out of range. It must be ${v}. Received ${T}`},RangeError),A("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),A("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),A("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),A("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),A("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),A("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),A("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),A("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),A("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),A("ERR_STREAM_WRITE_AFTER_END","write after end",Error),A("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),da={AbortError:k,aggregateTwoErrors:S(O),hideStackFrames:S,codes:p},da}var bn={exports:{}},Ec;function En(){if(Ec)return bn.exports;Ec=1;const{AbortController:e,AbortSignal:t}=typeof self<"u"?self:typeof window<"u"?window:void 0;return bn.exports=e,bn.exports.AbortSignal=t,bn.exports.default=e,bn.exports}var Zn={exports:{}},vc;function Qn(){if(vc)return Zn.exports;vc=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(R,V,ae){return Function.prototype.apply.call(R,V,ae)},r;e&&typeof e.ownKeys=="function"?r=e.ownKeys:Object.getOwnPropertySymbols?r=function(R){return Object.getOwnPropertyNames(R).concat(Object.getOwnPropertySymbols(R))}:r=function(R){return Object.getOwnPropertyNames(R)};function i(j){console&&console.warn&&console.warn(j)}var n=Number.isNaN||function(R){return R!==R};function o(){o.init.call(this)}Zn.exports=o,Zn.exports.once=v,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var u=10;function l(j){if(typeof j!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof j)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(j){if(typeof j!="number"||j<0||n(j))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+j+".");u=j}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(R){if(typeof R!="number"||R<0||n(R))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+R+".");return this._maxListeners=R,this};function p(j){return j._maxListeners===void 0?o.defaultMaxListeners:j._maxListeners}o.prototype.getMaxListeners=function(){return p(this)},o.prototype.emit=function(R){for(var V=[],ae=1;ae<arguments.length;ae++)V.push(arguments[ae]);var ne=R==="error",de=this._events;if(de!==void 0)ne=ne&&de.error===void 0;else if(!ne)return!1;if(ne){var P;if(V.length>0&&(P=V[0]),P instanceof Error)throw P;var Y=new Error("Unhandled error."+(P?" ("+P.message+")":""));throw Y.context=P,Y}var me=de[R];if(me===void 0)return!1;if(typeof me=="function")t(me,this,V);else for(var G=me.length,J=O(me,G),ae=0;ae<G;++ae)t(J[ae],this,V);return!0};function h(j,R,V,ae){var ne,de,P;if(l(V),de=j._events,de===void 0?(de=j._events=Object.create(null),j._eventsCount=0):(de.newListener!==void 0&&(j.emit("newListener",R,V.listener?V.listener:V),de=j._events),P=de[R]),P===void 0)P=de[R]=V,++j._eventsCount;else if(typeof P=="function"?P=de[R]=ae?[V,P]:[P,V]:ae?P.unshift(V):P.push(V),ne=p(j),ne>0&&P.length>ne&&!P.warned){P.warned=!0;var Y=new Error("Possible EventEmitter memory leak detected. "+P.length+" "+String(R)+" listeners added. Use emitter.setMaxListeners() to increase limit");Y.name="MaxListenersExceededWarning",Y.emitter=j,Y.type=R,Y.count=P.length,i(Y)}return j}o.prototype.addListener=function(R,V){return h(this,R,V,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(R,V){return h(this,R,V,!0)};function _(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(j,R,V){var ae={fired:!1,wrapFn:void 0,target:j,type:R,listener:V},ne=_.bind(ae);return ne.listener=V,ae.wrapFn=ne,ne}o.prototype.once=function(R,V){return l(V),this.on(R,m(this,R,V)),this},o.prototype.prependOnceListener=function(R,V){return l(V),this.prependListener(R,m(this,R,V)),this},o.prototype.removeListener=function(R,V){var ae,ne,de,P,Y;if(l(V),ne=this._events,ne===void 0)return this;if(ae=ne[R],ae===void 0)return this;if(ae===V||ae.listener===V)--this._eventsCount===0?this._events=Object.create(null):(delete ne[R],ne.removeListener&&this.emit("removeListener",R,ae.listener||V));else if(typeof ae!="function"){for(de=-1,P=ae.length-1;P>=0;P--)if(ae[P]===V||ae[P].listener===V){Y=ae[P].listener,de=P;break}if(de<0)return this;de===0?ae.shift():k(ae,de),ae.length===1&&(ne[R]=ae[0]),ne.removeListener!==void 0&&this.emit("removeListener",R,Y||V)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(R){var V,ae,ne;if(ae=this._events,ae===void 0)return this;if(ae.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):ae[R]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete ae[R]),this;if(arguments.length===0){var de=Object.keys(ae),P;for(ne=0;ne<de.length;++ne)P=de[ne],P!=="removeListener"&&this.removeAllListeners(P);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(V=ae[R],typeof V=="function")this.removeListener(R,V);else if(V!==void 0)for(ne=V.length-1;ne>=0;ne--)this.removeListener(R,V[ne]);return this};function A(j,R,V){var ae=j._events;if(ae===void 0)return[];var ne=ae[R];return ne===void 0?[]:typeof ne=="function"?V?[ne.listener||ne]:[ne]:V?E(ne):O(ne,ne.length)}o.prototype.listeners=function(R){return A(this,R,!0)},o.prototype.rawListeners=function(R){return A(this,R,!1)},o.listenerCount=function(j,R){return typeof j.listenerCount=="function"?j.listenerCount(R):S.call(j,R)},o.prototype.listenerCount=S;function S(j){var R=this._events;if(R!==void 0){var V=R[j];if(typeof V=="function")return 1;if(V!==void 0)return V.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function O(j,R){for(var V=new Array(R),ae=0;ae<R;++ae)V[ae]=j[ae];return V}function k(j,R){for(;R+1<j.length;R++)j[R]=j[R+1];j.pop()}function E(j){for(var R=new Array(j.length),V=0;V<R.length;++V)R[V]=j[V].listener||j[V];return R}function v(j,R){return new Promise(function(V,ae){function ne(P){j.removeListener(R,de),ae(P)}function de(){typeof j.removeListener=="function"&&j.removeListener("error",ne),V([].slice.call(arguments))}T(j,R,de,{once:!0}),R!=="error"&&N(j,ne,{once:!0})})}function N(j,R,V){typeof j.on=="function"&&T(j,"error",R,V)}function T(j,R,V,ae){if(typeof j.on=="function")ae.once?j.once(R,V):j.on(R,V);else if(typeof j.addEventListener=="function")j.addEventListener(R,function ne(de){ae.once&&j.removeEventListener(R,ne),V(de)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof j)}return Zn.exports}var Sc;function Er(){return Sc||(Sc=1,(function(e){const t=li(),{format:r,inspect:i}=wc(),{codes:{ERR_INVALID_ARG_TYPE:n}}=gr(),{kResistStopPropagation:o,AggregateError:u,SymbolDispose:l}=Jt(),p=globalThis.AbortSignal||En().AbortSignal,h=globalThis.AbortController||En().AbortController,_=Object.getPrototypeOf(async function(){}).constructor,m=globalThis.Blob||t.Blob,A=typeof m<"u"?function(E){return E instanceof m}:function(E){return!1},S=(k,E)=>{if(k!==void 0&&(k===null||typeof k!="object"||!("aborted"in k)))throw new n(E,"AbortSignal",k)},O=(k,E)=>{if(typeof k!="function")throw new n(E,"Function",k)};e.exports={AggregateError:u,kEmptyObject:Object.freeze({}),once(k){let E=!1;return function(...v){E||(E=!0,k.apply(this,v))}},createDeferredPromise:function(){let k,E;return{promise:new Promise((N,T)=>{k=N,E=T}),resolve:k,reject:E}},promisify(k){return new Promise((E,v)=>{k((N,...T)=>N?v(N):E(...T))})},debuglog(){return function(){}},format:r,inspect:i,types:{isAsyncFunction(k){return k instanceof _},isArrayBufferView(k){return ArrayBuffer.isView(k)}},isBlob:A,deprecate(k,E){return k},addAbortListener:Qn().addAbortListener||function(E,v){if(E===void 0)throw new n("signal","AbortSignal",E);S(E,"signal"),O(v,"listener");let N;return E.aborted?queueMicrotask(()=>v()):(E.addEventListener("abort",v,{__proto__:null,once:!0,[o]:!0}),N=()=>{E.removeEventListener("abort",v)}),{__proto__:null,[l](){var T;(T=N)===null||T===void 0||T()}}},AbortSignalAny:p.any||function(E){if(E.length===1)return E[0];const v=new h,N=()=>v.abort();return E.forEach(T=>{S(T,"signals"),T.addEventListener("abort",N,{once:!0})}),v.signal.addEventListener("abort",()=>{E.forEach(T=>T.removeEventListener("abort",N))},{once:!0}),v.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(ua)),ua.exports}var es={},ha,kc;function vn(){if(kc)return ha;kc=1;const{ArrayIsArray:e,ArrayPrototypeIncludes:t,ArrayPrototypeJoin:r,ArrayPrototypeMap:i,NumberIsInteger:n,NumberIsNaN:o,NumberMAX_SAFE_INTEGER:u,NumberMIN_SAFE_INTEGER:l,NumberParseInt:p,ObjectPrototypeHasOwnProperty:h,RegExpPrototypeExec:_,String:m,StringPrototypeToUpperCase:A,StringPrototypeTrim:S}=Jt(),{hideStackFrames:O,codes:{ERR_SOCKET_BAD_PORT:k,ERR_INVALID_ARG_TYPE:E,ERR_INVALID_ARG_VALUE:v,ERR_OUT_OF_RANGE:N,ERR_UNKNOWN_SIGNAL:T}}=gr(),{normalizeEncoding:j}=Er(),{isAsyncFunction:R,isArrayBufferView:V}=Er().types,ae={};function ne(C){return C===(C|0)}function de(C){return C===C>>>0}const P=/^[0-7]+$/,Y="must be a 32-bit unsigned integer or an octal string";function me(C,q,he){if(typeof C>"u"&&(C=he),typeof C=="string"){if(_(P,C)===null)throw new v(q,C,Y);C=p(C,8)}return re(C,q),C}const G=O((C,q,he=l,le=u)=>{if(typeof C!="number")throw new E(q,"number",C);if(!n(C))throw new N(q,"an integer",C);if(C<he||C>le)throw new N(q,`>= ${he} && <= ${le}`,C)}),J=O((C,q,he=-2147483648,le=2147483647)=>{if(typeof C!="number")throw new E(q,"number",C);if(!n(C))throw new N(q,"an integer",C);if(C<he||C>le)throw new N(q,`>= ${he} && <= ${le}`,C)}),re=O((C,q,he=!1)=>{if(typeof C!="number")throw new E(q,"number",C);if(!n(C))throw new N(q,"an integer",C);const le=he?1:0,rt=4294967295;if(C<le||C>rt)throw new N(q,`>= ${le} && <= ${rt}`,C)});function ve(C,q){if(typeof C!="string")throw new E(q,"string",C)}function We(C,q,he=void 0,le){if(typeof C!="number")throw new E(q,"number",C);if(he!=null&&C<he||le!=null&&C>le||(he!=null||le!=null)&&o(C))throw new N(q,`${he!=null?`>= ${he}`:""}${he!=null&&le!=null?" && ":""}${le!=null?`<= ${le}`:""}`,C)}const _e=O((C,q,he)=>{if(!t(he,C)){const rt="must be one of: "+r(i(he,Tt=>typeof Tt=="string"?`'${Tt}'`:m(Tt)),", ");throw new v(q,C,rt)}});function W(C,q){if(typeof C!="boolean")throw new E(q,"boolean",C)}function x(C,q,he){return C==null||!h(C,q)?he:C[q]}const X=O((C,q,he=null)=>{const le=x(he,"allowArray",!1),rt=x(he,"allowFunction",!1);if(!x(he,"nullable",!1)&&C===null||!le&&e(C)||typeof C!="object"&&(!rt||typeof C!="function"))throw new E(q,"Object",C)}),se=O((C,q)=>{if(C!=null&&typeof C!="object"&&typeof C!="function")throw new E(q,"a dictionary",C)}),ie=O((C,q,he=0)=>{if(!e(C))throw new E(q,"Array",C);if(C.length<he){const le=`must be longer than ${he}`;throw new v(q,C,le)}});function Le(C,q){ie(C,q);for(let he=0;he<C.length;he++)ve(C[he],`${q}[${he}]`)}function je(C,q){ie(C,q);for(let he=0;he<C.length;he++)W(C[he],`${q}[${he}]`)}function Qe(C,q){ie(C,q);for(let he=0;he<C.length;he++){const le=C[he],rt=`${q}[${he}]`;if(le==null)throw new E(rt,"AbortSignal",le);ge(le,rt)}}function He(C,q="signal"){if(ve(C,q),ae[C]===void 0)throw ae[A(C)]!==void 0?new T(C+" (signals must use all capital letters)"):new T(C)}const ue=O((C,q="buffer")=>{if(!V(C))throw new E(q,["Buffer","TypedArray","DataView"],C)});function ye(C,q){const he=j(q),le=C.length;if(he==="hex"&&le%2!==0)throw new v("encoding",q,`is invalid for data of length ${le}`)}function be(C,q="Port",he=!0){if(typeof C!="number"&&typeof C!="string"||typeof C=="string"&&S(C).length===0||+C!==+C>>>0||C>65535||C===0&&!he)throw new k(q,C,he);return C|0}const ge=O((C,q)=>{if(C!==void 0&&(C===null||typeof C!="object"||!("aborted"in C)))throw new E(q,"AbortSignal",C)}),xe=O((C,q)=>{if(typeof C!="function")throw new E(q,"Function",C)}),$=O((C,q)=>{if(typeof C!="function"||R(C))throw new E(q,"Function",C)}),Z=O((C,q)=>{if(C!==void 0)throw new E(q,"undefined",C)});function fe(C,q,he){if(!t(he,C))throw new E(q,`('${r(he,"|")}')`,C)}const Ne=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function Oe(C,q){if(typeof C>"u"||!_(Ne,C))throw new v(q,C,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Se(C){if(typeof C=="string")return Oe(C,"hints"),C;if(e(C)){const q=C.length;let he="";if(q===0)return he;for(let le=0;le<q;le++){const rt=C[le];Oe(rt,"hints"),he+=rt,le!==q-1&&(he+=", ")}return he}throw new v("hints",C,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return ha={isInt32:ne,isUint32:de,parseFileMode:me,validateArray:ie,validateStringArray:Le,validateBooleanArray:je,validateAbortSignalArray:Qe,validateBoolean:W,validateBuffer:ue,validateDictionary:se,validateEncoding:ye,validateFunction:xe,validateInt32:J,validateInteger:G,validateNumber:We,validateObject:X,validateOneOf:_e,validatePlainFunction:$,validatePort:be,validateSignalName:He,validateString:ve,validateUint32:re,validateUndefined:Z,validateUnion:fe,validateAbortSignal:ge,validateLinkHeaderValue:Se},ha}var ts={exports:{}},_a={exports:{}},Ic;function Ri(){if(Ic)return _a.exports;Ic=1;var e=_a.exports={},t,r;function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=i}catch{t=i}try{typeof clearTimeout=="function"?r=clearTimeout:r=n}catch{r=n}})();function o(k){if(t===setTimeout)return setTimeout(k,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(k,0);try{return t(k,0)}catch{try{return t.call(null,k,0)}catch{return t.call(this,k,0)}}}function u(k){if(r===clearTimeout)return clearTimeout(k);if((r===n||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(k);try{return r(k)}catch{try{return r.call(null,k)}catch{return r.call(this,k)}}}var l=[],p=!1,h,_=-1;function m(){!p||!h||(p=!1,h.length?l=h.concat(l):_=-1,l.length&&A())}function A(){if(!p){var k=o(m);p=!0;for(var E=l.length;E;){for(h=l,l=[];++_<E;)h&&h[_].run();_=-1,E=l.length}h=null,p=!1,u(k)}}e.nextTick=function(k){var E=new Array(arguments.length-1);if(arguments.length>1)for(var v=1;v<arguments.length;v++)E[v-1]=arguments[v];l.push(new S(k,E)),l.length===1&&!p&&o(A)};function S(k,E){this.fun=k,this.array=E}S.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function O(){}return e.on=O,e.addListener=O,e.once=O,e.off=O,e.removeListener=O,e.removeAllListeners=O,e.emit=O,e.prependListener=O,e.prependOnceListener=O,e.listeners=function(k){return[]},e.binding=function(k){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(k){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},_a.exports}var ma,Oc;function fi(){if(Oc)return ma;Oc=1;const{SymbolAsyncIterator:e,SymbolIterator:t,SymbolFor:r}=Jt(),i=r("nodejs.stream.destroyed"),n=r("nodejs.stream.errored"),o=r("nodejs.stream.readable"),u=r("nodejs.stream.writable"),l=r("nodejs.stream.disturbed"),p=r("nodejs.webstream.isClosedPromise"),h=r("nodejs.webstream.controllerErrorFunction");function _(x,X=!1){var se;return!!(x&&typeof x.pipe=="function"&&typeof x.on=="function"&&(!X||typeof x.pause=="function"&&typeof x.resume=="function")&&(!x._writableState||((se=x._readableState)===null||se===void 0?void 0:se.readable)!==!1)&&(!x._writableState||x._readableState))}function m(x){var X;return!!(x&&typeof x.write=="function"&&typeof x.on=="function"&&(!x._readableState||((X=x._writableState)===null||X===void 0?void 0:X.writable)!==!1))}function A(x){return!!(x&&typeof x.pipe=="function"&&x._readableState&&typeof x.on=="function"&&typeof x.write=="function")}function S(x){return x&&(x._readableState||x._writableState||typeof x.write=="function"&&typeof x.on=="function"||typeof x.pipe=="function"&&typeof x.on=="function")}function O(x){return!!(x&&!S(x)&&typeof x.pipeThrough=="function"&&typeof x.getReader=="function"&&typeof x.cancel=="function")}function k(x){return!!(x&&!S(x)&&typeof x.getWriter=="function"&&typeof x.abort=="function")}function E(x){return!!(x&&!S(x)&&typeof x.readable=="object"&&typeof x.writable=="object")}function v(x){return O(x)||k(x)||E(x)}function N(x,X){return x==null?!1:X===!0?typeof x[e]=="function":X===!1?typeof x[t]=="function":typeof x[e]=="function"||typeof x[t]=="function"}function T(x){if(!S(x))return null;const X=x._writableState,se=x._readableState,ie=X||se;return!!(x.destroyed||x[i]||ie!=null&&ie.destroyed)}function j(x){if(!m(x))return null;if(x.writableEnded===!0)return!0;const X=x._writableState;return X!=null&&X.errored?!1:typeof X?.ended!="boolean"?null:X.ended}function R(x,X){if(!m(x))return null;if(x.writableFinished===!0)return!0;const se=x._writableState;return se!=null&&se.errored?!1:typeof se?.finished!="boolean"?null:!!(se.finished||X===!1&&se.ended===!0&&se.length===0)}function V(x){if(!_(x))return null;if(x.readableEnded===!0)return!0;const X=x._readableState;return!X||X.errored?!1:typeof X?.ended!="boolean"?null:X.ended}function ae(x,X){if(!_(x))return null;const se=x._readableState;return se!=null&&se.errored?!1:typeof se?.endEmitted!="boolean"?null:!!(se.endEmitted||X===!1&&se.ended===!0&&se.length===0)}function ne(x){return x&&x[o]!=null?x[o]:typeof x?.readable!="boolean"?null:T(x)?!1:_(x)&&x.readable&&!ae(x)}function de(x){return x&&x[u]!=null?x[u]:typeof x?.writable!="boolean"?null:T(x)?!1:m(x)&&x.writable&&!j(x)}function P(x,X){return S(x)?T(x)?!0:!(X?.readable!==!1&&ne(x)||X?.writable!==!1&&de(x)):null}function Y(x){var X,se;return S(x)?x.writableErrored?x.writableErrored:(X=(se=x._writableState)===null||se===void 0?void 0:se.errored)!==null&&X!==void 0?X:null:null}function me(x){var X,se;return S(x)?x.readableErrored?x.readableErrored:(X=(se=x._readableState)===null||se===void 0?void 0:se.errored)!==null&&X!==void 0?X:null:null}function G(x){if(!S(x))return null;if(typeof x.closed=="boolean")return x.closed;const X=x._writableState,se=x._readableState;return typeof X?.closed=="boolean"||typeof se?.closed=="boolean"?X?.closed||se?.closed:typeof x._closed=="boolean"&&J(x)?x._closed:null}function J(x){return typeof x._closed=="boolean"&&typeof x._defaultKeepAlive=="boolean"&&typeof x._removedConnection=="boolean"&&typeof x._removedContLen=="boolean"}function re(x){return typeof x._sent100=="boolean"&&J(x)}function ve(x){var X;return typeof x._consuming=="boolean"&&typeof x._dumped=="boolean"&&((X=x.req)===null||X===void 0?void 0:X.upgradeOrConnect)===void 0}function We(x){if(!S(x))return null;const X=x._writableState,se=x._readableState,ie=X||se;return!ie&&re(x)||!!(ie&&ie.autoDestroy&&ie.emitClose&&ie.closed===!1)}function _e(x){var X;return!!(x&&((X=x[l])!==null&&X!==void 0?X:x.readableDidRead||x.readableAborted))}function W(x){var X,se,ie,Le,je,Qe,He,ue,ye,be;return!!(x&&((X=(se=(ie=(Le=(je=(Qe=x[n])!==null&&Qe!==void 0?Qe:x.readableErrored)!==null&&je!==void 0?je:x.writableErrored)!==null&&Le!==void 0?Le:(He=x._readableState)===null||He===void 0?void 0:He.errorEmitted)!==null&&ie!==void 0?ie:(ue=x._writableState)===null||ue===void 0?void 0:ue.errorEmitted)!==null&&se!==void 0?se:(ye=x._readableState)===null||ye===void 0?void 0:ye.errored)!==null&&X!==void 0?X:!((be=x._writableState)===null||be===void 0)&&be.errored))}return ma={isDestroyed:T,kIsDestroyed:i,isDisturbed:_e,kIsDisturbed:l,isErrored:W,kIsErrored:n,isReadable:ne,kIsReadable:o,kIsClosedPromise:p,kControllerErrorFunction:h,kIsWritable:u,isClosed:G,isDuplexNodeStream:A,isFinished:P,isIterable:N,isReadableNodeStream:_,isReadableStream:O,isReadableEnded:V,isReadableFinished:ae,isReadableErrored:me,isNodeStream:S,isWebStream:v,isWritable:de,isWritableNodeStream:m,isWritableStream:k,isWritableEnded:j,isWritableFinished:R,isWritableErrored:Y,isServerRequest:ve,isServerResponse:re,willEmitClose:We,isTransformStream:E},ma}var Ac;function bi(){if(Ac)return ts.exports;Ac=1;const e=Ri(),{AbortError:t,codes:r}=gr(),{ERR_INVALID_ARG_TYPE:i,ERR_STREAM_PREMATURE_CLOSE:n}=r,{kEmptyObject:o,once:u}=Er(),{validateAbortSignal:l,validateFunction:p,validateObject:h,validateBoolean:_}=vn(),{Promise:m,PromisePrototypeThen:A,SymbolDispose:S}=Jt(),{isClosed:O,isReadable:k,isReadableNodeStream:E,isReadableStream:v,isReadableFinished:N,isReadableErrored:T,isWritable:j,isWritableNodeStream:R,isWritableStream:V,isWritableFinished:ae,isWritableErrored:ne,isNodeStream:de,willEmitClose:P,kIsClosedPromise:Y}=fi();let me;function G(_e){return _e.setHeader&&typeof _e.abort=="function"}const J=()=>{};function re(_e,W,x){var X,se;if(arguments.length===2?(x=W,W=o):W==null?W=o:h(W,"options"),p(x,"callback"),l(W.signal,"options.signal"),x=u(x),v(_e)||V(_e))return ve(_e,W,x);if(!de(_e))throw new i("stream",["ReadableStream","WritableStream","Stream"],_e);const ie=(X=W.readable)!==null&&X!==void 0?X:E(_e),Le=(se=W.writable)!==null&&se!==void 0?se:R(_e),je=_e._writableState,Qe=_e._readableState,He=()=>{_e.writable||be()};let ue=P(_e)&&E(_e)===ie&&R(_e)===Le,ye=ae(_e,!1);const be=()=>{ye=!0,_e.destroyed&&(ue=!1),!(ue&&(!_e.readable||ie))&&(!ie||ge)&&x.call(_e)};let ge=N(_e,!1);const xe=()=>{ge=!0,_e.destroyed&&(ue=!1),!(ue&&(!_e.writable||Le))&&(!Le||ye)&&x.call(_e)},$=C=>{x.call(_e,C)};let Z=O(_e);const fe=()=>{Z=!0;const C=ne(_e)||T(_e);if(C&&typeof C!="boolean")return x.call(_e,C);if(ie&&!ge&&E(_e,!0)&&!N(_e,!1))return x.call(_e,new n);if(Le&&!ye&&!ae(_e,!1))return x.call(_e,new n);x.call(_e)},Ne=()=>{Z=!0;const C=ne(_e)||T(_e);if(C&&typeof C!="boolean")return x.call(_e,C);x.call(_e)},Oe=()=>{_e.req.on("finish",be)};G(_e)?(_e.on("complete",be),ue||_e.on("abort",fe),_e.req?Oe():_e.on("request",Oe)):Le&&!je&&(_e.on("end",He),_e.on("close",He)),!ue&&typeof _e.aborted=="boolean"&&_e.on("aborted",fe),_e.on("end",xe),_e.on("finish",be),W.error!==!1&&_e.on("error",$),_e.on("close",fe),Z?e.nextTick(fe):je!=null&&je.errorEmitted||Qe!=null&&Qe.errorEmitted?ue||e.nextTick(Ne):(!ie&&(!ue||k(_e))&&(ye||j(_e)===!1)||!Le&&(!ue||j(_e))&&(ge||k(_e)===!1)||Qe&&_e.req&&_e.aborted)&&e.nextTick(Ne);const Se=()=>{x=J,_e.removeListener("aborted",fe),_e.removeListener("complete",be),_e.removeListener("abort",fe),_e.removeListener("request",Oe),_e.req&&_e.req.removeListener("finish",be),_e.removeListener("end",He),_e.removeListener("close",He),_e.removeListener("finish",be),_e.removeListener("end",xe),_e.removeListener("error",$),_e.removeListener("close",fe)};if(W.signal&&!Z){const C=()=>{const q=x;Se(),q.call(_e,new t(void 0,{cause:W.signal.reason}))};if(W.signal.aborted)e.nextTick(C);else{me=me||Er().addAbortListener;const q=me(W.signal,C),he=x;x=u((...le)=>{q[S](),he.apply(_e,le)})}}return Se}function ve(_e,W,x){let X=!1,se=J;if(W.signal)if(se=()=>{X=!0,x.call(_e,new t(void 0,{cause:W.signal.reason}))},W.signal.aborted)e.nextTick(se);else{me=me||Er().addAbortListener;const Le=me(W.signal,se),je=x;x=u((...Qe)=>{Le[S](),je.apply(_e,Qe)})}const ie=(...Le)=>{X||e.nextTick(()=>x.apply(_e,Le))};return A(_e[Y].promise,ie,ie),J}function We(_e,W){var x;let X=!1;return W===null&&(W=o),(x=W)!==null&&x!==void 0&&x.cleanup&&(_(W.cleanup,"cleanup"),X=W.cleanup),new m((se,ie)=>{const Le=re(_e,W,je=>{X&&Le(),je?ie(je):se()})})}return ts.exports=re,ts.exports.finished=We,ts.exports}var ya,Dc;function Xi(){if(Dc)return ya;Dc=1;const e=Ri(),{aggregateTwoErrors:t,codes:{ERR_MULTIPLE_CALLBACK:r},AbortError:i}=gr(),{Symbol:n}=Jt(),{kIsDestroyed:o,isDestroyed:u,isFinished:l,isServerRequest:p}=fi(),h=n("kDestroy"),_=n("kConstruct");function m(P,Y,me){P&&(P.stack,Y&&!Y.errored&&(Y.errored=P),me&&!me.errored&&(me.errored=P))}function A(P,Y){const me=this._readableState,G=this._writableState,J=G||me;return G!=null&&G.destroyed||me!=null&&me.destroyed?(typeof Y=="function"&&Y(),this):(m(P,G,me),G&&(G.destroyed=!0),me&&(me.destroyed=!0),J.constructed?S(this,P,Y):this.once(h,function(re){S(this,t(re,P),Y)}),this)}function S(P,Y,me){let G=!1;function J(re){if(G)return;G=!0;const ve=P._readableState,We=P._writableState;m(re,We,ve),We&&(We.closed=!0),ve&&(ve.closed=!0),typeof me=="function"&&me(re),re?e.nextTick(O,P,re):e.nextTick(k,P)}try{P._destroy(Y||null,J)}catch(re){J(re)}}function O(P,Y){E(P,Y),k(P)}function k(P){const Y=P._readableState,me=P._writableState;me&&(me.closeEmitted=!0),Y&&(Y.closeEmitted=!0),(me!=null&&me.emitClose||Y!=null&&Y.emitClose)&&P.emit("close")}function E(P,Y){const me=P._readableState,G=P._writableState;G!=null&&G.errorEmitted||me!=null&&me.errorEmitted||(G&&(G.errorEmitted=!0),me&&(me.errorEmitted=!0),P.emit("error",Y))}function v(){const P=this._readableState,Y=this._writableState;P&&(P.constructed=!0,P.closed=!1,P.closeEmitted=!1,P.destroyed=!1,P.errored=null,P.errorEmitted=!1,P.reading=!1,P.ended=P.readable===!1,P.endEmitted=P.readable===!1),Y&&(Y.constructed=!0,Y.destroyed=!1,Y.closed=!1,Y.closeEmitted=!1,Y.errored=null,Y.errorEmitted=!1,Y.finalCalled=!1,Y.prefinished=!1,Y.ended=Y.writable===!1,Y.ending=Y.writable===!1,Y.finished=Y.writable===!1)}function N(P,Y,me){const G=P._readableState,J=P._writableState;if(J!=null&&J.destroyed||G!=null&&G.destroyed)return this;G!=null&&G.autoDestroy||J!=null&&J.autoDestroy?P.destroy(Y):Y&&(Y.stack,J&&!J.errored&&(J.errored=Y),G&&!G.errored&&(G.errored=Y),me?e.nextTick(E,P,Y):E(P,Y))}function T(P,Y){if(typeof P._construct!="function")return;const me=P._readableState,G=P._writableState;me&&(me.constructed=!1),G&&(G.constructed=!1),P.once(_,Y),!(P.listenerCount(_)>1)&&e.nextTick(j,P)}function j(P){let Y=!1;function me(G){if(Y){N(P,G??new r);return}Y=!0;const J=P._readableState,re=P._writableState,ve=re||J;J&&(J.constructed=!0),re&&(re.constructed=!0),ve.destroyed?P.emit(h,G):G?N(P,G,!0):e.nextTick(R,P)}try{P._construct(G=>{e.nextTick(me,G)})}catch(G){e.nextTick(me,G)}}function R(P){P.emit(_)}function V(P){return P?.setHeader&&typeof P.abort=="function"}function ae(P){P.emit("close")}function ne(P,Y){P.emit("error",Y),e.nextTick(ae,P)}function de(P,Y){!P||u(P)||(!Y&&!l(P)&&(Y=new i),p(P)?(P.socket=null,P.destroy(Y)):V(P)?P.abort():V(P.req)?P.req.abort():typeof P.destroy=="function"?P.destroy(Y):typeof P.close=="function"?P.close():Y?e.nextTick(ne,P,Y):e.nextTick(ae,P),P.destroyed||(P[o]=!0))}return ya={construct:T,destroyer:de,destroy:A,undestroy:v,errorOrDestroy:N},ya}var pa,Nc;function ga(){if(Nc)return pa;Nc=1;const{ArrayIsArray:e,ObjectSetPrototypeOf:t}=Jt(),{EventEmitter:r}=Qn();function i(o){r.call(this,o)}t(i.prototype,r.prototype),t(i,r),i.prototype.pipe=function(o,u){const l=this;function p(k){o.writable&&o.write(k)===!1&&l.pause&&l.pause()}l.on("data",p);function h(){l.readable&&l.resume&&l.resume()}o.on("drain",h),!o._isStdio&&(!u||u.end!==!1)&&(l.on("end",m),l.on("close",A));let _=!1;function m(){_||(_=!0,o.end())}function A(){_||(_=!0,typeof o.destroy=="function"&&o.destroy())}function S(k){O(),r.listenerCount(this,"error")===0&&this.emit("error",k)}n(l,"error",S),n(o,"error",S);function O(){l.removeListener("data",p),o.removeListener("drain",h),l.removeListener("end",m),l.removeListener("close",A),l.removeListener("error",S),o.removeListener("error",S),l.removeListener("end",O),l.removeListener("close",O),o.removeListener("close",O)}return l.on("end",O),l.on("close",O),o.on("close",O),o.emit("pipe",l),o};function n(o,u,l){if(typeof o.prependListener=="function")return o.prependListener(u,l);!o._events||!o._events[u]?o.on(u,l):e(o._events[u])?o._events[u].unshift(l):o._events[u]=[l,o._events[u]]}return pa={Stream:i,prependListener:n},pa}var wa={exports:{}},Tc;function rs(){return Tc||(Tc=1,(function(e){const{SymbolDispose:t}=Jt(),{AbortError:r,codes:i}=gr(),{isNodeStream:n,isWebStream:o,kControllerErrorFunction:u}=fi(),l=bi(),{ERR_INVALID_ARG_TYPE:p}=i;let h;const _=(m,A)=>{if(typeof m!="object"||!("aborted"in m))throw new p(A,"AbortSignal",m)};e.exports.addAbortSignal=function(A,S){if(_(A,"signal"),!n(S)&&!o(S))throw new p("stream",["ReadableStream","WritableStream","Stream"],S);return e.exports.addAbortSignalNoValidate(A,S)},e.exports.addAbortSignalNoValidate=function(m,A){if(typeof m!="object"||!("aborted"in m))return A;const S=n(A)?()=>{A.destroy(new r(void 0,{cause:m.reason}))}:()=>{A[u](new r(void 0,{cause:m.reason}))};if(m.aborted)S();else{h=h||Er().addAbortListener;const O=h(m,S);l(A,O[t])}return A}})(wa)),wa.exports}var ba,xc;function Nd(){if(xc)return ba;xc=1;const{StringPrototypeSlice:e,SymbolIterator:t,TypedArrayPrototypeSet:r,Uint8Array:i}=Jt(),{Buffer:n}=li(),{inspect:o}=Er();return ba=class{constructor(){this.head=null,this.tail=null,this.length=0}push(l){const p={data:l,next:null};this.length>0?this.tail.next=p:this.head=p,this.tail=p,++this.length}unshift(l){const p={data:l,next:this.head};this.length===0&&(this.tail=p),this.head=p,++this.length}shift(){if(this.length===0)return;const l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}clear(){this.head=this.tail=null,this.length=0}join(l){if(this.length===0)return"";let p=this.head,h=""+p.data;for(;(p=p.next)!==null;)h+=l+p.data;return h}concat(l){if(this.length===0)return n.alloc(0);const p=n.allocUnsafe(l>>>0);let h=this.head,_=0;for(;h;)r(p,h.data,_),_+=h.data.length,h=h.next;return p}consume(l,p){const h=this.head.data;if(l<h.length){const _=h.slice(0,l);return this.head.data=h.slice(l),_}return l===h.length?this.shift():p?this._getString(l):this._getBuffer(l)}first(){return this.head.data}*[t](){for(let l=this.head;l;l=l.next)yield l.data}_getString(l){let p="",h=this.head,_=0;do{const m=h.data;if(l>m.length)p+=m,l-=m.length;else{l===m.length?(p+=m,++_,h.next?this.head=h.next:this.head=this.tail=null):(p+=e(m,0,l),this.head=h,h.data=e(m,l));break}++_}while((h=h.next)!==null);return this.length-=_,p}_getBuffer(l){const p=n.allocUnsafe(l),h=l;let _=this.head,m=0;do{const A=_.data;if(l>A.length)r(p,A,h-l),l-=A.length;else{l===A.length?(r(p,A,h-l),++m,_.next?this.head=_.next:this.head=this.tail=null):(r(p,new i(A.buffer,A.byteOffset,l),h-l),this.head=_,_.data=A.slice(l));break}++m}while((_=_.next)!==null);return this.length-=m,p}[Symbol.for("nodejs.util.inspect.custom")](l,p){return o(this,{...p,depth:0,customInspect:!1})}},ba}var Ea,Rc;function is(){if(Rc)return Ea;Rc=1;const{MathFloor:e,NumberIsInteger:t}=Jt(),{validateInteger:r}=vn(),{ERR_INVALID_ARG_VALUE:i}=gr().codes;let n=16*1024,o=16;function u(_,m,A){return _.highWaterMark!=null?_.highWaterMark:m?_[A]:null}function l(_){return _?o:n}function p(_,m){r(m,"value",0),_?o=m:n=m}function h(_,m,A,S){const O=u(m,S,A);if(O!=null){if(!t(O)||O<0){const k=S?`options.${A}`:"options.highWaterMark";throw new i(k,O)}return e(O)}return l(_.objectMode)}return Ea={getHighWaterMark:h,getDefaultHighWaterMark:l,setDefaultHighWaterMark:p},Ea}var va={},ns={exports:{}};var zc;function Td(){return zc||(zc=1,(function(e,t){var r=li(),i=r.Buffer;function n(u,l){for(var p in u)l[p]=u[p]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(n(r,t),t.Buffer=o);function o(u,l,p){return i(u,l,p)}o.prototype=Object.create(i.prototype),n(i,o),o.from=function(u,l,p){if(typeof u=="number")throw new TypeError("Argument must not be a number");return i(u,l,p)},o.alloc=function(u,l,p){if(typeof u!="number")throw new TypeError("Argument must be a number");var h=i(u);return l!==void 0?typeof p=="string"?h.fill(l,p):h.fill(l):h.fill(0),h},o.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return i(u)},o.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(u)}})(ns,ns.exports)),ns.exports}var Lc;function xd(){if(Lc)return va;Lc=1;var e=Td().Buffer,t=e.isEncoding||function(v){switch(v=""+v,v&&v.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(v){if(!v)return"utf8";for(var N;;)switch(v){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return v;default:if(N)return;v=(""+v).toLowerCase(),N=!0}}function i(v){var N=r(v);if(typeof N!="string"&&(e.isEncoding===t||!t(v)))throw new Error("Unknown encoding: "+v);return N||v}va.StringDecoder=n;function n(v){this.encoding=i(v);var N;switch(this.encoding){case"utf16le":this.text=m,this.end=A,N=4;break;case"utf8":this.fillLast=p,N=4;break;case"base64":this.text=S,this.end=O,N=3;break;default:this.write=k,this.end=E;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(N)}n.prototype.write=function(v){if(v.length===0)return"";var N,T;if(this.lastNeed){if(N=this.fillLast(v),N===void 0)return"";T=this.lastNeed,this.lastNeed=0}else T=0;return T<v.length?N?N+this.text(v,T):this.text(v,T):N||""},n.prototype.end=_,n.prototype.text=h,n.prototype.fillLast=function(v){if(this.lastNeed<=v.length)return v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,v.length),this.lastNeed-=v.length};function o(v){return v<=127?0:v>>5===6?2:v>>4===14?3:v>>3===30?4:v>>6===2?-1:-2}function u(v,N,T){var j=N.length-1;if(j<T)return 0;var R=o(N[j]);return R>=0?(R>0&&(v.lastNeed=R-1),R):--j<T||R===-2?0:(R=o(N[j]),R>=0?(R>0&&(v.lastNeed=R-2),R):--j<T||R===-2?0:(R=o(N[j]),R>=0?(R>0&&(R===2?R=0:v.lastNeed=R-3),R):0))}function l(v,N,T){if((N[0]&192)!==128)return v.lastNeed=0,"";if(v.lastNeed>1&&N.length>1){if((N[1]&192)!==128)return v.lastNeed=1,"";if(v.lastNeed>2&&N.length>2&&(N[2]&192)!==128)return v.lastNeed=2,""}}function p(v){var N=this.lastTotal-this.lastNeed,T=l(this,v);if(T!==void 0)return T;if(this.lastNeed<=v.length)return v.copy(this.lastChar,N,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);v.copy(this.lastChar,N,0,v.length),this.lastNeed-=v.length}function h(v,N){var T=u(this,v,N);if(!this.lastNeed)return v.toString("utf8",N);this.lastTotal=T;var j=v.length-(T-this.lastNeed);return v.copy(this.lastChar,0,j),v.toString("utf8",N,j)}function _(v){var N=v&&v.length?this.write(v):"";return this.lastNeed?N+"":N}function m(v,N){if((v.length-N)%2===0){var T=v.toString("utf16le",N);if(T){var j=T.charCodeAt(T.length-1);if(j>=55296&&j<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1],T.slice(0,-1)}return T}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=v[v.length-1],v.toString("utf16le",N,v.length-1)}function A(v){var N=v&&v.length?this.write(v):"";if(this.lastNeed){var T=this.lastTotal-this.lastNeed;return N+this.lastChar.toString("utf16le",0,T)}return N}function S(v,N){var T=(v.length-N)%3;return T===0?v.toString("base64",N):(this.lastNeed=3-T,this.lastTotal=3,T===1?this.lastChar[0]=v[v.length-1]:(this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1]),v.toString("base64",N,v.length-T))}function O(v){var N=v&&v.length?this.write(v):"";return this.lastNeed?N+this.lastChar.toString("base64",0,3-this.lastNeed):N}function k(v){return v.toString(this.encoding)}function E(v){return v&&v.length?this.write(v):""}return va}var Sa,Mc;function Cc(){if(Mc)return Sa;Mc=1;const e=Ri(),{PromisePrototypeThen:t,SymbolAsyncIterator:r,SymbolIterator:i}=Jt(),{Buffer:n}=li(),{ERR_INVALID_ARG_TYPE:o,ERR_STREAM_NULL_VALUES:u}=gr().codes;function l(p,h,_){let m;if(typeof h=="string"||h instanceof n)return new p({objectMode:!0,..._,read(){this.push(h),this.push(null)}});let A;if(h&&h[r])A=!0,m=h[r]();else if(h&&h[i])A=!1,m=h[i]();else throw new o("iterable",["Iterable"],h);const S=new p({objectMode:!0,highWaterMark:1,..._});let O=!1;S._read=function(){O||(O=!0,E())},S._destroy=function(v,N){t(k(v),()=>e.nextTick(N,v),T=>e.nextTick(N,T||v))};async function k(v){const N=v!=null,T=typeof m.throw=="function";if(N&&T){const{value:j,done:R}=await m.throw(v);if(await j,R)return}if(typeof m.return=="function"){const{value:j}=await m.return();await j}}async function E(){for(;;){try{const{value:v,done:N}=A?await m.next():m.next();if(N)S.push(null);else{const T=v&&typeof v.then=="function"?await v:v;if(T===null)throw O=!1,new u;if(S.push(T))continue;O=!1}}catch(v){S.destroy(v)}break}}return S}return Sa=l,Sa}var ka,Pc;function ss(){if(Pc)return ka;Pc=1;const e=Ri(),{ArrayPrototypeIndexOf:t,NumberIsInteger:r,NumberIsNaN:i,NumberParseInt:n,ObjectDefineProperties:o,ObjectKeys:u,ObjectSetPrototypeOf:l,Promise:p,SafeSet:h,SymbolAsyncDispose:_,SymbolAsyncIterator:m,Symbol:A}=Jt();ka=le,le.ReadableState=he;const{EventEmitter:S}=Qn(),{Stream:O,prependListener:k}=ga(),{Buffer:E}=li(),{addAbortSignal:v}=rs(),N=bi();let T=Er().debuglog("stream",M=>{T=M});const j=Nd(),R=Xi(),{getHighWaterMark:V,getDefaultHighWaterMark:ae}=is(),{aggregateTwoErrors:ne,codes:{ERR_INVALID_ARG_TYPE:de,ERR_METHOD_NOT_IMPLEMENTED:P,ERR_OUT_OF_RANGE:Y,ERR_STREAM_PUSH_AFTER_EOF:me,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:G},AbortError:J}=gr(),{validateObject:re}=vn(),ve=A("kPaused"),{StringDecoder:We}=xd(),_e=Cc();l(le.prototype,O.prototype),l(le,O);const W=()=>{},{errorOrDestroy:x}=R,X=1,se=2,ie=4,Le=8,je=16,Qe=32,He=64,ue=128,ye=256,be=512,ge=1024,xe=2048,$=4096,Z=8192,fe=16384,Ne=32768,Oe=65536,Se=1<<17,C=1<<18;function q(M){return{enumerable:!1,get(){return(this.state&M)!==0},set(F){F?this.state|=M:this.state&=~M}}}o(he.prototype,{objectMode:q(X),ended:q(se),endEmitted:q(ie),reading:q(Le),constructed:q(je),sync:q(Qe),needReadable:q(He),emittedReadable:q(ue),readableListening:q(ye),resumeScheduled:q(be),errorEmitted:q(ge),emitClose:q(xe),autoDestroy:q($),destroyed:q(Z),closed:q(fe),closeEmitted:q(Ne),multiAwaitDrain:q(Oe),readingMore:q(Se),dataEmitted:q(C)});function he(M,F,Me){typeof Me!="boolean"&&(Me=F instanceof di()),this.state=xe|$|je|Qe,M&&M.objectMode&&(this.state|=X),Me&&M&&M.readableObjectMode&&(this.state|=X),this.highWaterMark=M?V(this,M,"readableHighWaterMark",Me):ae(!1),this.buffer=new j,this.length=0,this.pipes=[],this.flowing=null,this[ve]=null,M&&M.emitClose===!1&&(this.state&=~xe),M&&M.autoDestroy===!1&&(this.state&=~$),this.errored=null,this.defaultEncoding=M&&M.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,M&&M.encoding&&(this.decoder=new We(M.encoding),this.encoding=M.encoding)}function le(M){if(!(this instanceof le))return new le(M);const F=this instanceof di();this._readableState=new he(M,this,F),M&&(typeof M.read=="function"&&(this._read=M.read),typeof M.destroy=="function"&&(this._destroy=M.destroy),typeof M.construct=="function"&&(this._construct=M.construct),M.signal&&!F&&v(M.signal,this)),O.call(this,M),R.construct(this,()=>{this._readableState.needReadable&&H(this,this._readableState)})}le.prototype.destroy=R.destroy,le.prototype._undestroy=R.undestroy,le.prototype._destroy=function(M,F){F(M)},le.prototype[S.captureRejectionSymbol]=function(M){this.destroy(M)},le.prototype[_]=function(){let M;return this.destroyed||(M=this.readableEnded?null:new J,this.destroy(M)),new p((F,Me)=>N(this,Re=>Re&&Re!==M?Me(Re):F(null)))},le.prototype.push=function(M,F){return rt(this,M,F,!1)},le.prototype.unshift=function(M,F){return rt(this,M,F,!0)};function rt(M,F,Me,Re){T("readableAddChunk",F);const Ze=M._readableState;let Pt;if((Ze.state&X)===0&&(typeof F=="string"?(Me=Me||Ze.defaultEncoding,Ze.encoding!==Me&&(Re&&Ze.encoding?F=E.from(F,Me).toString(Ze.encoding):(F=E.from(F,Me),Me=""))):F instanceof E?Me="":O._isUint8Array(F)?(F=O._uint8ArrayToBuffer(F),Me=""):F!=null&&(Pt=new de("chunk",["string","Buffer","Uint8Array"],F))),Pt)x(M,Pt);else if(F===null)Ze.state&=~Le,d(M,Ze);else if((Ze.state&X)!==0||F&&F.length>0)if(Re)if((Ze.state&ie)!==0)x(M,new G);else{if(Ze.destroyed||Ze.errored)return!1;Tt(M,Ze,F,!0)}else if(Ze.ended)x(M,new me);else{if(Ze.destroyed||Ze.errored)return!1;Ze.state&=~Le,Ze.decoder&&!Me?(F=Ze.decoder.write(F),Ze.objectMode||F.length!==0?Tt(M,Ze,F,!1):H(M,Ze)):Tt(M,Ze,F,!1)}else Re||(Ze.state&=~Le,H(M,Ze));return!Ze.ended&&(Ze.length<Ze.highWaterMark||Ze.length===0)}function Tt(M,F,Me,Re){F.flowing&&F.length===0&&!F.sync&&M.listenerCount("data")>0?((F.state&Oe)!==0?F.awaitDrainWriters.clear():F.awaitDrainWriters=null,F.dataEmitted=!0,M.emit("data",Me)):(F.length+=F.objectMode?1:Me.length,Re?F.buffer.unshift(Me):F.buffer.push(Me),(F.state&He)!==0&&y(M)),H(M,F)}le.prototype.isPaused=function(){const M=this._readableState;return M[ve]===!0||M.flowing===!1},le.prototype.setEncoding=function(M){const F=new We(M);this._readableState.decoder=F,this._readableState.encoding=this._readableState.decoder.encoding;const Me=this._readableState.buffer;let Re="";for(const Ze of Me)Re+=F.write(Ze);return Me.clear(),Re!==""&&Me.push(Re),this._readableState.length=Re.length,this};const at=1073741824;function It(M){if(M>at)throw new Y("size","<= 1GiB",M);return M--,M|=M>>>1,M|=M>>>2,M|=M>>>4,M|=M>>>8,M|=M>>>16,M++,M}function I(M,F){return M<=0||F.length===0&&F.ended?0:(F.state&X)!==0?1:i(M)?F.flowing&&F.length?F.buffer.first().length:F.length:M<=F.length?M:F.ended?F.length:0}le.prototype.read=function(M){T("read",M),M===void 0?M=NaN:r(M)||(M=n(M,10));const F=this._readableState,Me=M;if(M>F.highWaterMark&&(F.highWaterMark=It(M)),M!==0&&(F.state&=~ue),M===0&&F.needReadable&&((F.highWaterMark!==0?F.length>=F.highWaterMark:F.length>0)||F.ended))return T("read: emitReadable",F.length,F.ended),F.length===0&&F.ended?Ge(this):y(this),null;if(M=I(M,F),M===0&&F.ended)return F.length===0&&Ge(this),null;let Re=(F.state&He)!==0;if(T("need readable",Re),(F.length===0||F.length-M<F.highWaterMark)&&(Re=!0,T("length less than watermark",Re)),F.ended||F.reading||F.destroyed||F.errored||!F.constructed)Re=!1,T("reading, ended or constructing",Re);else if(Re){T("do read"),F.state|=Le|Qe,F.length===0&&(F.state|=He);try{this._read(F.highWaterMark)}catch(Pt){x(this,Pt)}F.state&=~Qe,F.reading||(M=I(Me,F))}let Ze;return M>0?Ze=Rt(M,F):Ze=null,Ze===null?(F.needReadable=F.length<=F.highWaterMark,M=0):(F.length-=M,F.multiAwaitDrain?F.awaitDrainWriters.clear():F.awaitDrainWriters=null),F.length===0&&(F.ended||(F.needReadable=!0),Me!==M&&F.ended&&Ge(this)),Ze!==null&&!F.errorEmitted&&!F.closeEmitted&&(F.dataEmitted=!0,this.emit("data",Ze)),Ze};function d(M,F){if(T("onEofChunk"),!F.ended){if(F.decoder){const Me=F.decoder.end();Me&&Me.length&&(F.buffer.push(Me),F.length+=F.objectMode?1:Me.length)}F.ended=!0,F.sync?y(M):(F.needReadable=!1,F.emittedReadable=!0,z(M))}}function y(M){const F=M._readableState;T("emitReadable",F.needReadable,F.emittedReadable),F.needReadable=!1,F.emittedReadable||(T("emitReadable",F.flowing),F.emittedReadable=!0,e.nextTick(z,M))}function z(M){const F=M._readableState;T("emitReadable_",F.destroyed,F.length,F.ended),!F.destroyed&&!F.errored&&(F.length||F.ended)&&(M.emit("readable"),F.emittedReadable=!1),F.needReadable=!F.flowing&&!F.ended&&F.length<=F.highWaterMark,Ae(M)}function H(M,F){!F.readingMore&&F.constructed&&(F.readingMore=!0,e.nextTick(U,M,F))}function U(M,F){for(;!F.reading&&!F.ended&&(F.length<F.highWaterMark||F.flowing&&F.length===0);){const Me=F.length;if(T("maybeReadMore read 0"),M.read(0),Me===F.length)break}F.readingMore=!1}le.prototype._read=function(M){throw new P("_read()")},le.prototype.pipe=function(M,F){const Me=this,Re=this._readableState;Re.pipes.length===1&&(Re.multiAwaitDrain||(Re.multiAwaitDrain=!0,Re.awaitDrainWriters=new h(Re.awaitDrainWriters?[Re.awaitDrainWriters]:[]))),Re.pipes.push(M),T("pipe count=%d opts=%j",Re.pipes.length,F);const Pt=(!F||F.end!==!1)&&M!==e.stdout&&M!==e.stderr?Ci:mt;Re.endEmitted?e.nextTick(Pt):Me.once("end",Pt),M.on("unpipe",fr);function fr(Lr,er){T("onunpipe"),Lr===Me&&er&&er.hasUnpiped===!1&&(er.hasUnpiped=!0,on())}function Ci(){T("onend"),M.end()}let wr,Pi=!1;function on(){T("cleanup"),M.removeListener("close",Si),M.removeListener("finish",ki),wr&&M.removeListener("drain",wr),M.removeListener("error",vi),M.removeListener("unpipe",fr),Me.removeListener("end",Ci),Me.removeListener("end",mt),Me.removeListener("data",Fi),Pi=!0,wr&&Re.awaitDrainWriters&&(!M._writableState||M._writableState.needDrain)&&wr()}function Bi(){Pi||(Re.pipes.length===1&&Re.pipes[0]===M?(T("false write response, pause",0),Re.awaitDrainWriters=M,Re.multiAwaitDrain=!1):Re.pipes.length>1&&Re.pipes.includes(M)&&(T("false write response, pause",Re.awaitDrainWriters.size),Re.awaitDrainWriters.add(M)),Me.pause()),wr||(wr=B(Me,M),M.on("drain",wr))}Me.on("data",Fi);function Fi(Lr){T("ondata");const er=M.write(Lr);T("dest.write",er),er===!1&&Bi()}function vi(Lr){if(T("onerror",Lr),mt(),M.removeListener("error",vi),M.listenerCount("error")===0){const er=M._writableState||M._readableState;er&&!er.errorEmitted?x(M,Lr):M.emit("error",Lr)}}k(M,"error",vi);function Si(){M.removeListener("finish",ki),mt()}M.once("close",Si);function ki(){T("onfinish"),M.removeListener("close",Si),mt()}M.once("finish",ki);function mt(){T("unpipe"),Me.unpipe(M)}return M.emit("pipe",Me),M.writableNeedDrain===!0?Bi():Re.flowing||(T("pipe resume"),Me.resume()),M};function B(M,F){return function(){const Re=M._readableState;Re.awaitDrainWriters===F?(T("pipeOnDrain",1),Re.awaitDrainWriters=null):Re.multiAwaitDrain&&(T("pipeOnDrain",Re.awaitDrainWriters.size),Re.awaitDrainWriters.delete(F)),(!Re.awaitDrainWriters||Re.awaitDrainWriters.size===0)&&M.listenerCount("data")&&M.resume()}}le.prototype.unpipe=function(M){const F=this._readableState,Me={hasUnpiped:!1};if(F.pipes.length===0)return this;if(!M){const Ze=F.pipes;F.pipes=[],this.pause();for(let Pt=0;Pt<Ze.length;Pt++)Ze[Pt].emit("unpipe",this,{hasUnpiped:!1});return this}const Re=t(F.pipes,M);return Re===-1?this:(F.pipes.splice(Re,1),F.pipes.length===0&&this.pause(),M.emit("unpipe",this,Me),this)},le.prototype.on=function(M,F){const Me=O.prototype.on.call(this,M,F),Re=this._readableState;return M==="data"?(Re.readableListening=this.listenerCount("readable")>0,Re.flowing!==!1&&this.resume()):M==="readable"&&!Re.endEmitted&&!Re.readableListening&&(Re.readableListening=Re.needReadable=!0,Re.flowing=!1,Re.emittedReadable=!1,T("on readable",Re.length,Re.reading),Re.length?y(this):Re.reading||e.nextTick(wt,this)),Me},le.prototype.addListener=le.prototype.on,le.prototype.removeListener=function(M,F){const Me=O.prototype.removeListener.call(this,M,F);return M==="readable"&&e.nextTick(Ce,this),Me},le.prototype.off=le.prototype.removeListener,le.prototype.removeAllListeners=function(M){const F=O.prototype.removeAllListeners.apply(this,arguments);return(M==="readable"||M===void 0)&&e.nextTick(Ce,this),F};function Ce(M){const F=M._readableState;F.readableListening=M.listenerCount("readable")>0,F.resumeScheduled&&F[ve]===!1?F.flowing=!0:M.listenerCount("data")>0?M.resume():F.readableListening||(F.flowing=null)}function wt(M){T("readable nexttick read 0"),M.read(0)}le.prototype.resume=function(){const M=this._readableState;return M.flowing||(T("resume"),M.flowing=!M.readableListening,ze(this,M)),M[ve]=!1,this};function ze(M,F){F.resumeScheduled||(F.resumeScheduled=!0,e.nextTick(et,M,F))}function et(M,F){T("resume",F.reading),F.reading||M.read(0),F.resumeScheduled=!1,M.emit("resume"),Ae(M),F.flowing&&!F.reading&&M.read(0)}le.prototype.pause=function(){return T("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(T("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[ve]=!0,this};function Ae(M){const F=M._readableState;for(T("flow",F.flowing);F.flowing&&M.read()!==null;);}le.prototype.wrap=function(M){let F=!1;M.on("data",Re=>{!this.push(Re)&&M.pause&&(F=!0,M.pause())}),M.on("end",()=>{this.push(null)}),M.on("error",Re=>{x(this,Re)}),M.on("close",()=>{this.destroy()}),M.on("destroy",()=>{this.destroy()}),this._read=()=>{F&&M.resume&&(F=!1,M.resume())};const Me=u(M);for(let Re=1;Re<Me.length;Re++){const Ze=Me[Re];this[Ze]===void 0&&typeof M[Ze]=="function"&&(this[Ze]=M[Ze].bind(M))}return this},le.prototype[m]=function(){return Ee(this)},le.prototype.iterator=function(M){return M!==void 0&&re(M,"options"),Ee(this,M)};function Ee(M,F){typeof M.read!="function"&&(M=le.wrap(M,{objectMode:!0}));const Me=ot(M,F);return Me.stream=M,Me}async function*ot(M,F){let Me=W;function Re(fr){this===M?(Me(),Me=W):Me=fr}M.on("readable",Re);let Ze;const Pt=N(M,{writable:!1},fr=>{Ze=fr?ne(Ze,fr):null,Me(),Me=W});try{for(;;){const fr=M.destroyed?null:M.read();if(fr!==null)yield fr;else{if(Ze)throw Ze;if(Ze===null)return;await new p(Re)}}}catch(fr){throw Ze=ne(Ze,fr),Ze}finally{(Ze||F?.destroyOnReturn!==!1)&&(Ze===void 0||M._readableState.autoDestroy)?R.destroyer(M,null):(M.off("readable",Re),Pt())}}o(le.prototype,{readable:{__proto__:null,get(){const M=this._readableState;return!!M&&M.readable!==!1&&!M.destroyed&&!M.errorEmitted&&!M.endEmitted},set(M){this._readableState&&(this._readableState.readable=!!M)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(M){this._readableState&&(this._readableState.flowing=M)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(M){this._readableState&&(this._readableState.destroyed=M)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),o(he.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[ve]!==!1},set(M){this[ve]=!!M}}}),le._fromList=Rt;function Rt(M,F){if(F.length===0)return null;let Me;return F.objectMode?Me=F.buffer.shift():!M||M>=F.length?(F.decoder?Me=F.buffer.join(""):F.buffer.length===1?Me=F.buffer.first():Me=F.buffer.concat(F.length),F.buffer.clear()):Me=F.buffer.consume(M,F.decoder),Me}function Ge(M){const F=M._readableState;T("endReadable",F.endEmitted),F.endEmitted||(F.ended=!0,e.nextTick(Be,F,M))}function Be(M,F){if(T("endReadableNT",M.endEmitted,M.length),!M.errored&&!M.closeEmitted&&!M.endEmitted&&M.length===0){if(M.endEmitted=!0,F.emit("end"),F.writable&&F.allowHalfOpen===!1)e.nextTick(we,F);else if(M.autoDestroy){const Me=F._writableState;(!Me||Me.autoDestroy&&(Me.finished||Me.writable===!1))&&F.destroy()}}}function we(M){M.writable&&!M.writableEnded&&!M.destroyed&&M.end()}le.from=function(M,F){return _e(le,M,F)};let st;function Jr(){return st===void 0&&(st={}),st}return le.fromWeb=function(M,F){return Jr().newStreamReadableFromReadableStream(M,F)},le.toWeb=function(M,F){return Jr().newReadableStreamFromStreamReadable(M,F)},le.wrap=function(M,F){var Me,Re;return new le({objectMode:(Me=(Re=M.readableObjectMode)!==null&&Re!==void 0?Re:M.objectMode)!==null&&Me!==void 0?Me:!0,...F,destroy(Ze,Pt){R.destroyer(M,Ze),Pt(Ze)}}).wrap(M)},ka}var Ia,Bc;function Oa(){if(Bc)return Ia;Bc=1;const e=Ri(),{ArrayPrototypeSlice:t,Error:r,FunctionPrototypeSymbolHasInstance:i,ObjectDefineProperty:n,ObjectDefineProperties:o,ObjectSetPrototypeOf:u,StringPrototypeToLowerCase:l,Symbol:p,SymbolHasInstance:h}=Jt();Ia=re,re.WritableState=G;const{EventEmitter:_}=Qn(),m=ga().Stream,{Buffer:A}=li(),S=Xi(),{addAbortSignal:O}=rs(),{getHighWaterMark:k,getDefaultHighWaterMark:E}=is(),{ERR_INVALID_ARG_TYPE:v,ERR_METHOD_NOT_IMPLEMENTED:N,ERR_MULTIPLE_CALLBACK:T,ERR_STREAM_CANNOT_PIPE:j,ERR_STREAM_DESTROYED:R,ERR_STREAM_ALREADY_FINISHED:V,ERR_STREAM_NULL_VALUES:ae,ERR_STREAM_WRITE_AFTER_END:ne,ERR_UNKNOWN_ENCODING:de}=gr().codes,{errorOrDestroy:P}=S;u(re.prototype,m.prototype),u(re,m);function Y(){}const me=p("kOnFinished");function G($,Z,fe){typeof fe!="boolean"&&(fe=Z instanceof di()),this.objectMode=!!($&&$.objectMode),fe&&(this.objectMode=this.objectMode||!!($&&$.writableObjectMode)),this.highWaterMark=$?k(this,$,"writableHighWaterMark",fe):E(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const Ne=!!($&&$.decodeStrings===!1);this.decodeStrings=!Ne,this.defaultEncoding=$&&$.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=x.bind(void 0,Z),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,J(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!$||$.emitClose!==!1,this.autoDestroy=!$||$.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[me]=[]}function J($){$.buffered=[],$.bufferedIndex=0,$.allBuffers=!0,$.allNoop=!0}G.prototype.getBuffer=function(){return t(this.buffered,this.bufferedIndex)},n(G.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function re($){const Z=this instanceof di();if(!Z&&!i(re,this))return new re($);this._writableState=new G($,this,Z),$&&(typeof $.write=="function"&&(this._write=$.write),typeof $.writev=="function"&&(this._writev=$.writev),typeof $.destroy=="function"&&(this._destroy=$.destroy),typeof $.final=="function"&&(this._final=$.final),typeof $.construct=="function"&&(this._construct=$.construct),$.signal&&O($.signal,this)),m.call(this,$),S.construct(this,()=>{const fe=this._writableState;fe.writing||Le(this,fe),ue(this,fe)})}n(re,h,{__proto__:null,value:function($){return i(this,$)?!0:this!==re?!1:$&&$._writableState instanceof G}}),re.prototype.pipe=function(){P(this,new j)};function ve($,Z,fe,Ne){const Oe=$._writableState;if(typeof fe=="function")Ne=fe,fe=Oe.defaultEncoding;else{if(!fe)fe=Oe.defaultEncoding;else if(fe!=="buffer"&&!A.isEncoding(fe))throw new de(fe);typeof Ne!="function"&&(Ne=Y)}if(Z===null)throw new ae;if(!Oe.objectMode)if(typeof Z=="string")Oe.decodeStrings!==!1&&(Z=A.from(Z,fe),fe="buffer");else if(Z instanceof A)fe="buffer";else if(m._isUint8Array(Z))Z=m._uint8ArrayToBuffer(Z),fe="buffer";else throw new v("chunk",["string","Buffer","Uint8Array"],Z);let Se;return Oe.ending?Se=new ne:Oe.destroyed&&(Se=new R("write")),Se?(e.nextTick(Ne,Se),P($,Se,!0),Se):(Oe.pendingcb++,We($,Oe,Z,fe,Ne))}re.prototype.write=function($,Z,fe){return ve(this,$,Z,fe)===!0},re.prototype.cork=function(){this._writableState.corked++},re.prototype.uncork=function(){const $=this._writableState;$.corked&&($.corked--,$.writing||Le(this,$))},re.prototype.setDefaultEncoding=function(Z){if(typeof Z=="string"&&(Z=l(Z)),!A.isEncoding(Z))throw new de(Z);return this._writableState.defaultEncoding=Z,this};function We($,Z,fe,Ne,Oe){const Se=Z.objectMode?1:fe.length;Z.length+=Se;const C=Z.length<Z.highWaterMark;return C||(Z.needDrain=!0),Z.writing||Z.corked||Z.errored||!Z.constructed?(Z.buffered.push({chunk:fe,encoding:Ne,callback:Oe}),Z.allBuffers&&Ne!=="buffer"&&(Z.allBuffers=!1),Z.allNoop&&Oe!==Y&&(Z.allNoop=!1)):(Z.writelen=Se,Z.writecb=Oe,Z.writing=!0,Z.sync=!0,$._write(fe,Ne,Z.onwrite),Z.sync=!1),C&&!Z.errored&&!Z.destroyed}function _e($,Z,fe,Ne,Oe,Se,C){Z.writelen=Ne,Z.writecb=C,Z.writing=!0,Z.sync=!0,Z.destroyed?Z.onwrite(new R("write")):fe?$._writev(Oe,Z.onwrite):$._write(Oe,Se,Z.onwrite),Z.sync=!1}function W($,Z,fe,Ne){--Z.pendingcb,Ne(fe),ie(Z),P($,fe)}function x($,Z){const fe=$._writableState,Ne=fe.sync,Oe=fe.writecb;if(typeof Oe!="function"){P($,new T);return}fe.writing=!1,fe.writecb=null,fe.length-=fe.writelen,fe.writelen=0,Z?(Z.stack,fe.errored||(fe.errored=Z),$._readableState&&!$._readableState.errored&&($._readableState.errored=Z),Ne?e.nextTick(W,$,fe,Z,Oe):W($,fe,Z,Oe)):(fe.buffered.length>fe.bufferedIndex&&Le($,fe),Ne?fe.afterWriteTickInfo!==null&&fe.afterWriteTickInfo.cb===Oe?fe.afterWriteTickInfo.count++:(fe.afterWriteTickInfo={count:1,cb:Oe,stream:$,state:fe},e.nextTick(X,fe.afterWriteTickInfo)):se($,fe,1,Oe))}function X({stream:$,state:Z,count:fe,cb:Ne}){return Z.afterWriteTickInfo=null,se($,Z,fe,Ne)}function se($,Z,fe,Ne){for(!Z.ending&&!$.destroyed&&Z.length===0&&Z.needDrain&&(Z.needDrain=!1,$.emit("drain"));fe-- >0;)Z.pendingcb--,Ne();Z.destroyed&&ie(Z),ue($,Z)}function ie($){if($.writing)return;for(let Oe=$.bufferedIndex;Oe<$.buffered.length;++Oe){var Z;const{chunk:Se,callback:C}=$.buffered[Oe],q=$.objectMode?1:Se.length;$.length-=q,C((Z=$.errored)!==null&&Z!==void 0?Z:new R("write"))}const fe=$[me].splice(0);for(let Oe=0;Oe<fe.length;Oe++){var Ne;fe[Oe]((Ne=$.errored)!==null&&Ne!==void 0?Ne:new R("end"))}J($)}function Le($,Z){if(Z.corked||Z.bufferProcessing||Z.destroyed||!Z.constructed)return;const{buffered:fe,bufferedIndex:Ne,objectMode:Oe}=Z,Se=fe.length-Ne;if(!Se)return;let C=Ne;if(Z.bufferProcessing=!0,Se>1&&$._writev){Z.pendingcb-=Se-1;const q=Z.allNoop?Y:le=>{for(let rt=C;rt<fe.length;++rt)fe[rt].callback(le)},he=Z.allNoop&&C===0?fe:t(fe,C);he.allBuffers=Z.allBuffers,_e($,Z,!0,Z.length,he,"",q),J(Z)}else{do{const{chunk:q,encoding:he,callback:le}=fe[C];fe[C++]=null;const rt=Oe?1:q.length;_e($,Z,!1,rt,q,he,le)}while(C<fe.length&&!Z.writing);C===fe.length?J(Z):C>256?(fe.splice(0,C),Z.bufferedIndex=0):Z.bufferedIndex=C}Z.bufferProcessing=!1}re.prototype._write=function($,Z,fe){if(this._writev)this._writev([{chunk:$,encoding:Z}],fe);else throw new N("_write()")},re.prototype._writev=null,re.prototype.end=function($,Z,fe){const Ne=this._writableState;typeof $=="function"?(fe=$,$=null,Z=null):typeof Z=="function"&&(fe=Z,Z=null);let Oe;if($!=null){const Se=ve(this,$,Z);Se instanceof r&&(Oe=Se)}return Ne.corked&&(Ne.corked=1,this.uncork()),Oe||(!Ne.errored&&!Ne.ending?(Ne.ending=!0,ue(this,Ne,!0),Ne.ended=!0):Ne.finished?Oe=new V("end"):Ne.destroyed&&(Oe=new R("end"))),typeof fe=="function"&&(Oe||Ne.finished?e.nextTick(fe,Oe):Ne[me].push(fe)),this};function je($){return $.ending&&!$.destroyed&&$.constructed&&$.length===0&&!$.errored&&$.buffered.length===0&&!$.finished&&!$.writing&&!$.errorEmitted&&!$.closeEmitted}function Qe($,Z){let fe=!1;function Ne(Oe){if(fe){P($,Oe??T());return}if(fe=!0,Z.pendingcb--,Oe){const Se=Z[me].splice(0);for(let C=0;C<Se.length;C++)Se[C](Oe);P($,Oe,Z.sync)}else je(Z)&&(Z.prefinished=!0,$.emit("prefinish"),Z.pendingcb++,e.nextTick(ye,$,Z))}Z.sync=!0,Z.pendingcb++;try{$._final(Ne)}catch(Oe){Ne(Oe)}Z.sync=!1}function He($,Z){!Z.prefinished&&!Z.finalCalled&&(typeof $._final=="function"&&!Z.destroyed?(Z.finalCalled=!0,Qe($,Z)):(Z.prefinished=!0,$.emit("prefinish")))}function ue($,Z,fe){je(Z)&&(He($,Z),Z.pendingcb===0&&(fe?(Z.pendingcb++,e.nextTick((Ne,Oe)=>{je(Oe)?ye(Ne,Oe):Oe.pendingcb--},$,Z)):je(Z)&&(Z.pendingcb++,ye($,Z))))}function ye($,Z){Z.pendingcb--,Z.finished=!0;const fe=Z[me].splice(0);for(let Ne=0;Ne<fe.length;Ne++)fe[Ne]();if($.emit("finish"),Z.autoDestroy){const Ne=$._readableState;(!Ne||Ne.autoDestroy&&(Ne.endEmitted||Ne.readable===!1))&&$.destroy()}}o(re.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set($){this._writableState&&(this._writableState.destroyed=$)}},writable:{__proto__:null,get(){const $=this._writableState;return!!$&&$.writable!==!1&&!$.destroyed&&!$.errored&&!$.ending&&!$.ended},set($){this._writableState&&(this._writableState.writable=!!$)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const $=this._writableState;return $?!$.destroyed&&!$.ending&&$.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const be=S.destroy;re.prototype.destroy=function($,Z){const fe=this._writableState;return!fe.destroyed&&(fe.bufferedIndex<fe.buffered.length||fe[me].length)&&e.nextTick(ie,fe),be.call(this,$,Z),this},re.prototype._undestroy=S.undestroy,re.prototype._destroy=function($,Z){Z($)},re.prototype[_.captureRejectionSymbol]=function($){this.destroy($)};let ge;function xe(){return ge===void 0&&(ge={}),ge}return re.fromWeb=function($,Z){return xe().newStreamWritableFromWritableStream($,Z)},re.toWeb=function($){return xe().newWritableStreamFromStreamWritable($)},Ia}var Aa,Fc;function Rd(){if(Fc)return Aa;Fc=1;const e=Ri(),t=li(),{isReadable:r,isWritable:i,isIterable:n,isNodeStream:o,isReadableNodeStream:u,isWritableNodeStream:l,isDuplexNodeStream:p,isReadableStream:h,isWritableStream:_}=fi(),m=bi(),{AbortError:A,codes:{ERR_INVALID_ARG_TYPE:S,ERR_INVALID_RETURN_VALUE:O}}=gr(),{destroyer:k}=Xi(),E=di(),v=ss(),N=Oa(),{createDeferredPromise:T}=Er(),j=Cc(),R=globalThis.Blob||t.Blob,V=typeof R<"u"?function(G){return G instanceof R}:function(G){return!1},ae=globalThis.AbortController||En().AbortController,{FunctionPrototypeCall:ne}=Jt();class de extends E{constructor(G){super(G),G?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),G?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}Aa=function me(G,J){if(p(G))return G;if(u(G))return Y({readable:G});if(l(G))return Y({writable:G});if(o(G))return Y({writable:!1,readable:!1});if(h(G))return Y({readable:v.fromWeb(G)});if(_(G))return Y({writable:N.fromWeb(G)});if(typeof G=="function"){const{value:ve,write:We,final:_e,destroy:W}=P(G);if(n(ve))return j(de,ve,{objectMode:!0,write:We,final:_e,destroy:W});const x=ve?.then;if(typeof x=="function"){let X;const se=ne(x,ve,ie=>{if(ie!=null)throw new O("nully","body",ie)},ie=>{k(X,ie)});return X=new de({objectMode:!0,readable:!1,write:We,final(ie){_e(async()=>{try{await se,e.nextTick(ie,null)}catch(Le){e.nextTick(ie,Le)}})},destroy:W})}throw new O("Iterable, AsyncIterable or AsyncFunction",J,ve)}if(V(G))return me(G.arrayBuffer());if(n(G))return j(de,G,{objectMode:!0,writable:!1});if(h(G?.readable)&&_(G?.writable))return de.fromWeb(G);if(typeof G?.writable=="object"||typeof G?.readable=="object"){const ve=G!=null&&G.readable?u(G?.readable)?G?.readable:me(G.readable):void 0,We=G!=null&&G.writable?l(G?.writable)?G?.writable:me(G.writable):void 0;return Y({readable:ve,writable:We})}const re=G?.then;if(typeof re=="function"){let ve;return ne(re,G,We=>{We!=null&&ve.push(We),ve.push(null)},We=>{k(ve,We)}),ve=new de({objectMode:!0,writable:!1,read(){}})}throw new S(J,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],G)};function P(me){let{promise:G,resolve:J}=T();const re=new ae,ve=re.signal;return{value:me((async function*(){for(;;){const _e=G;G=null;const{chunk:W,done:x,cb:X}=await _e;if(e.nextTick(X),x)return;if(ve.aborted)throw new A(void 0,{cause:ve.reason});({promise:G,resolve:J}=T()),yield W}})(),{signal:ve}),write(_e,W,x){const X=J;J=null,X({chunk:_e,done:!1,cb:x})},final(_e){const W=J;J=null,W({done:!0,cb:_e})},destroy(_e,W){re.abort(),W(_e)}}}function Y(me){const G=me.readable&&typeof me.readable.read!="function"?v.wrap(me.readable):me.readable,J=me.writable;let re=!!r(G),ve=!!i(J),We,_e,W,x,X;function se(ie){const Le=x;x=null,Le?Le(ie):ie&&X.destroy(ie)}return X=new de({readableObjectMode:!!(G!=null&&G.readableObjectMode),writableObjectMode:!!(J!=null&&J.writableObjectMode),readable:re,writable:ve}),ve&&(m(J,ie=>{ve=!1,ie&&k(G,ie),se(ie)}),X._write=function(ie,Le,je){J.write(ie,Le)?je():We=je},X._final=function(ie){J.end(),_e=ie},J.on("drain",function(){if(We){const ie=We;We=null,ie()}}),J.on("finish",function(){if(_e){const ie=_e;_e=null,ie()}})),re&&(m(G,ie=>{re=!1,ie&&k(G,ie),se(ie)}),G.on("readable",function(){if(W){const ie=W;W=null,ie()}}),G.on("end",function(){X.push(null)}),X._read=function(){for(;;){const ie=G.read();if(ie===null){W=X._read;return}if(!X.push(ie))return}}),X._destroy=function(ie,Le){!ie&&x!==null&&(ie=new A),W=null,We=null,_e=null,x===null?Le(ie):(x=Le,k(J,ie),k(G,ie))},X}return Aa}var Da,Uc;function di(){if(Uc)return Da;Uc=1;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:r,ObjectSetPrototypeOf:i}=Jt();Da=u;const n=ss(),o=Oa();i(u.prototype,n.prototype),i(u,n);{const _=r(o.prototype);for(let m=0;m<_.length;m++){const A=_[m];u.prototype[A]||(u.prototype[A]=o.prototype[A])}}function u(_){if(!(this instanceof u))return new u(_);n.call(this,_),o.call(this,_),_?(this.allowHalfOpen=_.allowHalfOpen!==!1,_.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),_.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(u.prototype,{writable:{__proto__:null,...t(o.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(o.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(o.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(o.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(o.prototype,"writableLength")},writableFinished:{__proto__:null,...t(o.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(o.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(o.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(o.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(_){this._readableState&&this._writableState&&(this._readableState.destroyed=_,this._writableState.destroyed=_)}}});let l;function p(){return l===void 0&&(l={}),l}u.fromWeb=function(_,m){return p().newStreamDuplexFromReadableWritablePair(_,m)},u.toWeb=function(_){return p().newReadableWritablePairFromDuplex(_)};let h;return u.from=function(_){return h||(h=Rd()),h(_,"body")},Da}var Na,jc;function Wc(){if(jc)return Na;jc=1;const{ObjectSetPrototypeOf:e,Symbol:t}=Jt();Na=u;const{ERR_METHOD_NOT_IMPLEMENTED:r}=gr().codes,i=di(),{getHighWaterMark:n}=is();e(u.prototype,i.prototype),e(u,i);const o=t("kCallback");function u(h){if(!(this instanceof u))return new u(h);const _=h?n(this,h,"readableHighWaterMark",!0):null;_===0&&(h={...h,highWaterMark:null,readableHighWaterMark:_,writableHighWaterMark:h.writableHighWaterMark||0}),i.call(this,h),this._readableState.sync=!1,this[o]=null,h&&(typeof h.transform=="function"&&(this._transform=h.transform),typeof h.flush=="function"&&(this._flush=h.flush)),this.on("prefinish",p)}function l(h){typeof this._flush=="function"&&!this.destroyed?this._flush((_,m)=>{if(_){h?h(_):this.destroy(_);return}m!=null&&this.push(m),this.push(null),h&&h()}):(this.push(null),h&&h())}function p(){this._final!==l&&l.call(this)}return u.prototype._final=l,u.prototype._transform=function(h,_,m){throw new r("_transform()")},u.prototype._write=function(h,_,m){const A=this._readableState,S=this._writableState,O=A.length;this._transform(h,_,(k,E)=>{if(k){m(k);return}E!=null&&this.push(E),S.ended||O===A.length||A.length<A.highWaterMark?m():this[o]=m})},u.prototype._read=function(){if(this[o]){const h=this[o];this[o]=null,h()}},Na}var Ta,$c;function Vc(){if($c)return Ta;$c=1;const{ObjectSetPrototypeOf:e}=Jt();Ta=r;const t=Wc();e(r.prototype,t.prototype),e(r,t);function r(i){if(!(this instanceof r))return new r(i);t.call(this,i)}return r.prototype._transform=function(i,n,o){o(null,i)},Ta}var xa,Gc;function Ra(){if(Gc)return xa;Gc=1;const e=Ri(),{ArrayIsArray:t,Promise:r,SymbolAsyncIterator:i,SymbolDispose:n}=Jt(),o=bi(),{once:u}=Er(),l=Xi(),p=di(),{aggregateTwoErrors:h,codes:{ERR_INVALID_ARG_TYPE:_,ERR_INVALID_RETURN_VALUE:m,ERR_MISSING_ARGS:A,ERR_STREAM_DESTROYED:S,ERR_STREAM_PREMATURE_CLOSE:O},AbortError:k}=gr(),{validateFunction:E,validateAbortSignal:v}=vn(),{isIterable:N,isReadable:T,isReadableNodeStream:j,isNodeStream:R,isTransformStream:V,isWebStream:ae,isReadableStream:ne,isReadableFinished:de}=fi(),P=globalThis.AbortController||En().AbortController;let Y,me,G;function J(ie,Le,je){let Qe=!1;ie.on("close",()=>{Qe=!0});const He=o(ie,{readable:Le,writable:je},ue=>{Qe=!ue});return{destroy:ue=>{Qe||(Qe=!0,l.destroyer(ie,ue||new S("pipe")))},cleanup:He}}function re(ie){return E(ie[ie.length-1],"streams[stream.length - 1]"),ie.pop()}function ve(ie){if(N(ie))return ie;if(j(ie))return We(ie);throw new _("val",["Readable","Iterable","AsyncIterable"],ie)}async function*We(ie){me||(me=ss()),yield*me.prototype[i].call(ie)}async function _e(ie,Le,je,{end:Qe}){let He,ue=null;const ye=xe=>{if(xe&&(He=xe),ue){const $=ue;ue=null,$()}},be=()=>new r((xe,$)=>{He?$(He):ue=()=>{He?$(He):xe()}});Le.on("drain",ye);const ge=o(Le,{readable:!1},ye);try{Le.writableNeedDrain&&await be();for await(const xe of ie)Le.write(xe)||await be();Qe&&(Le.end(),await be()),je()}catch(xe){je(He!==xe?h(He,xe):xe)}finally{ge(),Le.off("drain",ye)}}async function W(ie,Le,je,{end:Qe}){V(Le)&&(Le=Le.writable);const He=Le.getWriter();try{for await(const ue of ie)await He.ready,He.write(ue).catch(()=>{});await He.ready,Qe&&await He.close(),je()}catch(ue){try{await He.abort(ue),je(ue)}catch(ye){je(ye)}}}function x(...ie){return X(ie,u(re(ie)))}function X(ie,Le,je){if(ie.length===1&&t(ie[0])&&(ie=ie[0]),ie.length<2)throw new A("streams");const Qe=new P,He=Qe.signal,ue=je?.signal,ye=[];v(ue,"options.signal");function be(){Oe(new k)}G=G||Er().addAbortListener;let ge;ue&&(ge=G(ue,be));let xe,$;const Z=[];let fe=0;function Ne(he){Oe(he,--fe===0)}function Oe(he,le){var rt;if(he&&(!xe||xe.code==="ERR_STREAM_PREMATURE_CLOSE")&&(xe=he),!(!xe&&!le)){for(;Z.length;)Z.shift()(xe);(rt=ge)===null||rt===void 0||rt[n](),Qe.abort(),le&&(xe||ye.forEach(Tt=>Tt()),e.nextTick(Le,xe,$))}}let Se;for(let he=0;he<ie.length;he++){const le=ie[he],rt=he<ie.length-1,Tt=he>0,at=rt||je?.end!==!1,It=he===ie.length-1;if(R(le)){let I=function(d){d&&d.name!=="AbortError"&&d.code!=="ERR_STREAM_PREMATURE_CLOSE"&&Ne(d)};if(at){const{destroy:d,cleanup:y}=J(le,rt,Tt);Z.push(d),T(le)&&It&&ye.push(y)}le.on("error",I),T(le)&&It&&ye.push(()=>{le.removeListener("error",I)})}if(he===0)if(typeof le=="function"){if(Se=le({signal:He}),!N(Se))throw new m("Iterable, AsyncIterable or Stream","source",Se)}else N(le)||j(le)||V(le)?Se=le:Se=p.from(le);else if(typeof le=="function"){if(V(Se)){var C;Se=ve((C=Se)===null||C===void 0?void 0:C.readable)}else Se=ve(Se);if(Se=le(Se,{signal:He}),rt){if(!N(Se,!0))throw new m("AsyncIterable",`transform[${he-1}]`,Se)}else{var q;Y||(Y=Vc());const I=new Y({objectMode:!0}),d=(q=Se)===null||q===void 0?void 0:q.then;if(typeof d=="function")fe++,d.call(Se,H=>{$=H,H!=null&&I.write(H),at&&I.end(),e.nextTick(Ne)},H=>{I.destroy(H),e.nextTick(Ne,H)});else if(N(Se,!0))fe++,_e(Se,I,Ne,{end:at});else if(ne(Se)||V(Se)){const H=Se.readable||Se;fe++,_e(H,I,Ne,{end:at})}else throw new m("AsyncIterable or Promise","destination",Se);Se=I;const{destroy:y,cleanup:z}=J(Se,!1,!0);Z.push(y),It&&ye.push(z)}}else if(R(le)){if(j(Se)){fe+=2;const I=se(Se,le,Ne,{end:at});T(le)&&It&&ye.push(I)}else if(V(Se)||ne(Se)){const I=Se.readable||Se;fe++,_e(I,le,Ne,{end:at})}else if(N(Se))fe++,_e(Se,le,Ne,{end:at});else throw new _("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Se);Se=le}else if(ae(le)){if(j(Se))fe++,W(ve(Se),le,Ne,{end:at});else if(ne(Se)||N(Se))fe++,W(Se,le,Ne,{end:at});else if(V(Se))fe++,W(Se.readable,le,Ne,{end:at});else throw new _("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Se);Se=le}else Se=p.from(le)}return(He!=null&&He.aborted||ue!=null&&ue.aborted)&&e.nextTick(be),Se}function se(ie,Le,je,{end:Qe}){let He=!1;if(Le.on("close",()=>{He||je(new O)}),ie.pipe(Le,{end:!1}),Qe){let ue=function(){He=!0,Le.end()};de(ie)?e.nextTick(ue):ie.once("end",ue)}else je();return o(ie,{readable:!0,writable:!1},ue=>{const ye=ie._readableState;ue&&ue.code==="ERR_STREAM_PREMATURE_CLOSE"&&ye&&ye.ended&&!ye.errored&&!ye.errorEmitted?ie.once("end",je).once("error",je):je(ue)}),o(Le,{readable:!1,writable:!0},je)}return xa={pipelineImpl:X,pipeline:x},xa}var za,qc;function Hc(){if(qc)return za;qc=1;const{pipeline:e}=Ra(),t=di(),{destroyer:r}=Xi(),{isNodeStream:i,isReadable:n,isWritable:o,isWebStream:u,isTransformStream:l,isWritableStream:p,isReadableStream:h}=fi(),{AbortError:_,codes:{ERR_INVALID_ARG_VALUE:m,ERR_MISSING_ARGS:A}}=gr(),S=bi();return za=function(...k){if(k.length===0)throw new A("streams");if(k.length===1)return t.from(k[0]);const E=[...k];if(typeof k[0]=="function"&&(k[0]=t.from(k[0])),typeof k[k.length-1]=="function"){const Y=k.length-1;k[Y]=t.from(k[Y])}for(let Y=0;Y<k.length;++Y)if(!(!i(k[Y])&&!u(k[Y]))){if(Y<k.length-1&&!(n(k[Y])||h(k[Y])||l(k[Y])))throw new m(`streams[${Y}]`,E[Y],"must be readable");if(Y>0&&!(o(k[Y])||p(k[Y])||l(k[Y])))throw new m(`streams[${Y}]`,E[Y],"must be writable")}let v,N,T,j,R;function V(Y){const me=j;j=null,me?me(Y):Y?R.destroy(Y):!P&&!de&&R.destroy()}const ae=k[0],ne=e(k,V),de=!!(o(ae)||p(ae)||l(ae)),P=!!(n(ne)||h(ne)||l(ne));if(R=new t({writableObjectMode:!!(ae!=null&&ae.writableObjectMode),readableObjectMode:!!(ne!=null&&ne.readableObjectMode),writable:de,readable:P}),de){if(i(ae))R._write=function(me,G,J){ae.write(me,G)?J():v=J},R._final=function(me){ae.end(),N=me},ae.on("drain",function(){if(v){const me=v;v=null,me()}});else if(u(ae)){const G=(l(ae)?ae.writable:ae).getWriter();R._write=async function(J,re,ve){try{await G.ready,G.write(J).catch(()=>{}),ve()}catch(We){ve(We)}},R._final=async function(J){try{await G.ready,G.close().catch(()=>{}),N=J}catch(re){J(re)}}}const Y=l(ne)?ne.readable:ne;S(Y,()=>{if(N){const me=N;N=null,me()}})}if(P){if(i(ne))ne.on("readable",function(){if(T){const Y=T;T=null,Y()}}),ne.on("end",function(){R.push(null)}),R._read=function(){for(;;){const Y=ne.read();if(Y===null){T=R._read;return}if(!R.push(Y))return}};else if(u(ne)){const me=(l(ne)?ne.readable:ne).getReader();R._read=async function(){for(;;)try{const{value:G,done:J}=await me.read();if(!R.push(G))return;if(J){R.push(null);return}}catch{return}}}}return R._destroy=function(Y,me){!Y&&j!==null&&(Y=new _),T=null,v=null,N=null,j===null?me(Y):(j=me,i(ne)&&r(ne,Y))},R},za}var Yc;function zd(){if(Yc)return es;Yc=1;const e=globalThis.AbortController||En().AbortController,{codes:{ERR_INVALID_ARG_VALUE:t,ERR_INVALID_ARG_TYPE:r,ERR_MISSING_ARGS:i,ERR_OUT_OF_RANGE:n},AbortError:o}=gr(),{validateAbortSignal:u,validateInteger:l,validateObject:p}=vn(),h=Jt().Symbol("kWeak"),_=Jt().Symbol("kResistStopPropagation"),{finished:m}=bi(),A=Hc(),{addAbortSignalNoValidate:S}=rs(),{isWritable:O,isNodeStream:k}=fi(),{deprecate:E}=Er(),{ArrayPrototypePush:v,Boolean:N,MathFloor:T,Number:j,NumberIsNaN:R,Promise:V,PromiseReject:ae,PromiseResolve:ne,PromisePrototypeThen:de,Symbol:P}=Jt(),Y=P("kEmpty"),me=P("kEof");function G(ue,ye){if(ye!=null&&p(ye,"options"),ye?.signal!=null&&u(ye.signal,"options.signal"),k(ue)&&!O(ue))throw new t("stream",ue,"must be writable");const be=A(this,ue);return ye!=null&&ye.signal&&S(ye.signal,be),be}function J(ue,ye){if(typeof ue!="function")throw new r("fn",["Function","AsyncFunction"],ue);ye!=null&&p(ye,"options"),ye?.signal!=null&&u(ye.signal,"options.signal");let be=1;ye?.concurrency!=null&&(be=T(ye.concurrency));let ge=be-1;return ye?.highWaterMark!=null&&(ge=T(ye.highWaterMark)),l(be,"options.concurrency",1),l(ge,"options.highWaterMark",0),ge+=be,async function*(){const $=Er().AbortSignalAny([ye?.signal].filter(N)),Z=this,fe=[],Ne={signal:$};let Oe,Se,C=!1,q=0;function he(){C=!0,le()}function le(){q-=1,rt()}function rt(){Se&&!C&&q<be&&fe.length<ge&&(Se(),Se=null)}async function Tt(){try{for await(let at of Z){if(C)return;if($.aborted)throw new o;try{if(at=ue(at,Ne),at===Y)continue;at=ne(at)}catch(It){at=ae(It)}q+=1,de(at,le,he),fe.push(at),Oe&&(Oe(),Oe=null),!C&&(fe.length>=ge||q>=be)&&await new V(It=>{Se=It})}fe.push(me)}catch(at){const It=ae(at);de(It,le,he),fe.push(It)}finally{C=!0,Oe&&(Oe(),Oe=null)}}Tt();try{for(;;){for(;fe.length>0;){const at=await fe[0];if(at===me)return;if($.aborted)throw new o;at!==Y&&(yield at),fe.shift(),rt()}await new V(at=>{Oe=at})}}finally{C=!0,Se&&(Se(),Se=null)}}.call(this)}function re(ue=void 0){return ue!=null&&p(ue,"options"),ue?.signal!=null&&u(ue.signal,"options.signal"),async function*(){let be=0;for await(const xe of this){var ge;if(ue!=null&&(ge=ue.signal)!==null&&ge!==void 0&&ge.aborted)throw new o({cause:ue.signal.reason});yield[be++,xe]}}.call(this)}async function ve(ue,ye=void 0){for await(const be of x.call(this,ue,ye))return!0;return!1}async function We(ue,ye=void 0){if(typeof ue!="function")throw new r("fn",["Function","AsyncFunction"],ue);return!await ve.call(this,async(...be)=>!await ue(...be),ye)}async function _e(ue,ye){for await(const be of x.call(this,ue,ye))return be}async function W(ue,ye){if(typeof ue!="function")throw new r("fn",["Function","AsyncFunction"],ue);async function be(ge,xe){return await ue(ge,xe),Y}for await(const ge of J.call(this,be,ye));}function x(ue,ye){if(typeof ue!="function")throw new r("fn",["Function","AsyncFunction"],ue);async function be(ge,xe){return await ue(ge,xe)?ge:Y}return J.call(this,be,ye)}class X extends i{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function se(ue,ye,be){var ge;if(typeof ue!="function")throw new r("reducer",["Function","AsyncFunction"],ue);be!=null&&p(be,"options"),be?.signal!=null&&u(be.signal,"options.signal");let xe=arguments.length>1;if(be!=null&&(ge=be.signal)!==null&&ge!==void 0&&ge.aborted){const Oe=new o(void 0,{cause:be.signal.reason});throw this.once("error",()=>{}),await m(this.destroy(Oe)),Oe}const $=new e,Z=$.signal;if(be!=null&&be.signal){const Oe={once:!0,[h]:this,[_]:!0};be.signal.addEventListener("abort",()=>$.abort(),Oe)}let fe=!1;try{for await(const Oe of this){var Ne;if(fe=!0,be!=null&&(Ne=be.signal)!==null&&Ne!==void 0&&Ne.aborted)throw new o;xe?ye=await ue(ye,Oe,{signal:Z}):(ye=Oe,xe=!0)}if(!fe&&!xe)throw new X}finally{$.abort()}return ye}async function ie(ue){ue!=null&&p(ue,"options"),ue?.signal!=null&&u(ue.signal,"options.signal");const ye=[];for await(const ge of this){var be;if(ue!=null&&(be=ue.signal)!==null&&be!==void 0&&be.aborted)throw new o(void 0,{cause:ue.signal.reason});v(ye,ge)}return ye}function Le(ue,ye){const be=J.call(this,ue,ye);return async function*(){for await(const xe of be)yield*xe}.call(this)}function je(ue){if(ue=j(ue),R(ue))return 0;if(ue<0)throw new n("number",">= 0",ue);return ue}function Qe(ue,ye=void 0){return ye!=null&&p(ye,"options"),ye?.signal!=null&&u(ye.signal,"options.signal"),ue=je(ue),async function*(){var ge;if(ye!=null&&(ge=ye.signal)!==null&&ge!==void 0&&ge.aborted)throw new o;for await(const $ of this){var xe;if(ye!=null&&(xe=ye.signal)!==null&&xe!==void 0&&xe.aborted)throw new o;ue--<=0&&(yield $)}}.call(this)}function He(ue,ye=void 0){return ye!=null&&p(ye,"options"),ye?.signal!=null&&u(ye.signal,"options.signal"),ue=je(ue),async function*(){var ge;if(ye!=null&&(ge=ye.signal)!==null&&ge!==void 0&&ge.aborted)throw new o;for await(const $ of this){var xe;if(ye!=null&&(xe=ye.signal)!==null&&xe!==void 0&&xe.aborted)throw new o;if(ue-- >0&&(yield $),ue<=0)return}}.call(this)}return es.streamReturningOperators={asIndexedPairs:E(re,"readable.asIndexedPairs will be removed in a future version."),drop:Qe,filter:x,flatMap:Le,map:J,take:He,compose:G},es.promiseReturningOperators={every:We,forEach:W,reduce:se,toArray:ie,some:ve,find:_e},es}var La,Kc;function Xc(){if(Kc)return La;Kc=1;const{ArrayPrototypePop:e,Promise:t}=Jt(),{isIterable:r,isNodeStream:i,isWebStream:n}=fi(),{pipelineImpl:o}=Ra(),{finished:u}=bi();Zc();function l(...p){return new t((h,_)=>{let m,A;const S=p[p.length-1];if(S&&typeof S=="object"&&!i(S)&&!r(S)&&!n(S)){const O=e(p);m=O.signal,A=O.end}o(p,(O,k)=>{O?_(O):h(k)},{signal:m,end:A})})}return La={finished:u,pipeline:l},La}var Jc;function Zc(){if(Jc)return ca.exports;Jc=1;const{Buffer:e}=li(),{ObjectDefineProperty:t,ObjectKeys:r,ReflectApply:i}=Jt(),{promisify:{custom:n}}=Er(),{streamReturningOperators:o,promiseReturningOperators:u}=zd(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:l}}=gr(),p=Hc(),{setDefaultHighWaterMark:h,getDefaultHighWaterMark:_}=is(),{pipeline:m}=Ra(),{destroyer:A}=Xi(),S=bi(),O=Xc(),k=fi(),E=ca.exports=ga().Stream;E.isDestroyed=k.isDestroyed,E.isDisturbed=k.isDisturbed,E.isErrored=k.isErrored,E.isReadable=k.isReadable,E.isWritable=k.isWritable,E.Readable=ss();for(const N of r(o)){let j=function(...R){if(new.target)throw l();return E.Readable.from(i(T,this,R))};const T=o[N];t(j,"name",{__proto__:null,value:T.name}),t(j,"length",{__proto__:null,value:T.length}),t(E.Readable.prototype,N,{__proto__:null,value:j,enumerable:!1,configurable:!0,writable:!0})}for(const N of r(u)){let j=function(...R){if(new.target)throw l();return i(T,this,R)};const T=u[N];t(j,"name",{__proto__:null,value:T.name}),t(j,"length",{__proto__:null,value:T.length}),t(E.Readable.prototype,N,{__proto__:null,value:j,enumerable:!1,configurable:!0,writable:!0})}E.Writable=Oa(),E.Duplex=di(),E.Transform=Wc(),E.PassThrough=Vc(),E.pipeline=m;const{addAbortSignal:v}=rs();return E.addAbortSignal=v,E.finished=S,E.destroy=A,E.compose=p,E.setDefaultHighWaterMark=h,E.getDefaultHighWaterMark=_,t(E,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return O}}),t(m,n,{__proto__:null,enumerable:!0,get(){return O.pipeline}}),t(S,n,{__proto__:null,enumerable:!0,get(){return O.finished}}),E.Stream=E,E._isUint8Array=function(T){return T instanceof Uint8Array},E._uint8ArrayToBuffer=function(T){return e.from(T.buffer,T.byteOffset,T.byteLength)},ca.exports}var Qc;function Ld(){return Qc||(Qc=1,(function(e){const t=Zc(),r=Xc(),i=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=i,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return r}}),e.exports.Stream=t.Stream,e.exports.default=e.exports})(oa)),oa.exports}var el=Ld();class Ma extends el.Readable{pending=!0;_path="<unknown>";_bytesRead=0;reader;ready;constructor(t={},r){super({...t,encoding:t.encoding??void 0}),this.ready=Promise.resolve(r).then(i=>{this._path=i.vfs.path;const n=i.readableWebStream({start:t.start,end:t.end});this.reader=n.getReader(),this.pending=!1}).catch(i=>{this.destroy(i)})}async _read(){try{if(await this.ready,!this.reader)return;const{done:t,value:r}=await this.reader.read();if(t){this.push(null);return}this._bytesRead+=r.byteLength,this.push(r)}catch(t){this.destroy(new Yt(ce.EIO,t.toString()))}}close(t=()=>null){try{this.destroy(),this.emit("close"),t(null)}catch(r){t(new Yt(ce.EIO,r.toString()))}}get path(){return this._path}get bytesRead(){return this._bytesRead}wrap(t){return super.wrap(t),this}}class Ca extends el.Writable{pending=!0;_path="<unknown>";_bytesWritten=0;writer;ready;constructor(t={},r){super(t),this.ready=Promise.resolve(r).then(i=>{this._path=i.vfs.path;const n=i.writableWebStream({start:t.start});this.writer=n.getWriter(),this.pending=!1}).catch(i=>this.destroy(i))}async _write(t,r,i){if(await this.ready,!this.writer)return i(qt(oe("EAGAIN","write",this._path)));if(r!="buffer")return i(qt(oe("ENOTSUP","write",this._path)));const n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);try{await this.writer.write(n),this._bytesWritten+=t.byteLength,i()}catch(o){i(new Yt(ce.EIO,o.toString()))}}async _final(t){if(await this.ready,!this.writer)return t();try{await this.writer.close(),t()}catch(r){t(new Yt(ce.EIO,r.toString()))}}close(t=()=>null){try{this.destroy(),this.emit("close"),t(null)}catch(r){t(new Yt(ce.EIO,r.toString()))}}get path(){return this._path}get bytesWritten(){return this._bytesWritten}}var Br=function(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var i,n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=t[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=t[Symbol.dispose],r&&(n=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");n&&(i=function(){try{n.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:t,dispose:i,async:r})}else r&&e.stack.push({async:!0});return t},Fr=(function(e){return function(t){function r(u){t.error=t.hasError?new e(u,t.error,"An error was suppressed during disposal."):u,t.hasError=!0}var i,n=0;function o(){for(;i=t.stack.pop();)try{if(!i.async&&n===1)return n=0,t.stack.push(i),Promise.resolve().then(o);if(i.dispose){var u=i.dispose.call(i.value);if(i.async)return n|=2,Promise.resolve(u).then(o,function(l){return r(l),o()})}else n|=1}catch(l){r(l)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}})(typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var i=new Error(r);return i.name="SuppressedError",i.error=e,i.suppressed=t,i});class _r{context;fd;vfs;constructor(t,r){this.context=t,this.fd=r,this.vfs=hr(t,r)}_emitChange(){pr(this.context,"change",this.vfs.path)}async chown(t,r){await this.vfs.chown(t,r),this._emitChange()}async chmod(t){const r=ni(t,-1);if(r<0)throw oe("EINVAL","chmod",this.vfs.path);await this.vfs.chmod(r),this._emitChange()}datasync(){return this.sync()}async sync(){await this.vfs.sync()}async truncate(t=0){await this.vfs.truncate(t),this._emitChange()}async utimes(t,r){t=pi(t),r=pi(r),await this.vfs.utimes(t,r),this._emitChange()}async appendFile(t,r={}){const i=si(r,"utf8","a",420);if(!(Kr(i.flag)&Wi))throw oe("EBADF","write",this.vfs.path);const o=typeof t=="string"?Ht.Buffer.from(t,i.encoding):t;await this.vfs.write(o,0,o.length),this._emitChange()}async read(t,r,i,n){if(typeof r=="object"&&r!=null&&(n=r.position,i=r.length,r=r.offset),!ArrayBuffer.isView(t)&&typeof t=="object"&&(n=t.position,i=t.length,r=t.offset,t=t.buffer),n&&n>Number.MAX_SAFE_INTEGER)throw oe("EINVAL");return typeof n=="bigint"&&(n=Number(n)),n=Number.isSafeInteger(n)?n:this.vfs.position,t||=new Uint8Array(this.vfs.inode.size),r??=0,{bytesRead:await this.vfs.read(t,r,i??t.byteLength-r,n),buffer:t}}async readFile(t){const r=si(t,null,"r",292);if(Kr(r.flag)&dr)throw oe("EBADF","read",this.vfs.path);const{size:n}=await this.stat(),o=new Uint8Array(n);await this.vfs.read(o,0,n,0);const u=Ht.Buffer.from(o);return r.encoding?u.toString(r.encoding):u}readableWebStream(t={}){if(this.vfs.isClosed)throw oe("EBADF","readableWebStream",this.vfs.path);return this.vfs.fs.streamRead(this.vfs.internalPath,t)}writableWebStream(t={}){if(this.vfs.isClosed)throw oe("EBADF","writableWebStream",this.vfs.path);if(this.vfs.inode.flags&yr.Immutable)throw oe("EPERM","writableWebStream",this.vfs.path);return this.vfs.fs.streamWrite(this.vfs.internalPath,t)}readLines(t){if(this.vfs.isClosed||this.vfs.flag&dr)throw oe("EBADF","read",this.vfs.path);return Dd({input:this.createReadStream(t),crlfDelay:1/0})}[Symbol.asyncDispose](){return this.close()}async stat(t){if(this.vfs.isClosed)throw oe("EBADF","stat",this.vfs.path);if(St&&!yt(this.context,this.vfs.inode,Xt))throw oe("EACCES","stat",this.vfs.path);return t?.bigint?new Di(this.vfs.inode):new ai(this.vfs.inode)}async write(t,r,i,n){let o,u,l;typeof r=="object"&&r!=null&&(i=r.length,n=r.position,r=r.offset),typeof t=="string"?(n=typeof r=="number"?r:null,u=0,o=Ht.Buffer.from(t,typeof i=="string"?i:"utf8"),l=o.length):(o=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),u=r??0,l=typeof i=="number"?i:o.byteLength,n=typeof n=="number"?n:null),n??=this.vfs.position;const p=await this.vfs.write(o,u,l,n);return this._emitChange(),{buffer:t,bytesWritten:p}}async writeFile(t,r={}){const i=si(r,"utf8","w",420),n=Kr(i.flag);if(!(n&dr||n&ti))throw oe("EBADF","writeFile",this.vfs.path);const o=typeof t=="string"?Ht.Buffer.from(t,i.encoding):t;await this.vfs.write(o,0,o.length,0),this._emitChange()}async close(){await this.vfs.close(),rc(this.context,this.fd)}async writev(t,r){typeof r=="number"&&(this.vfs.position=r);let i=0;for(const n of t)i+=(await this.write(n)).bytesWritten;return{bytesWritten:i,buffers:t}}async readv(t,r){typeof r=="number"&&(this.vfs.position=r);let i=0;for(const n of t)i+=(await this.read(n)).bytesRead;return{bytesRead:i,buffers:t}}createReadStream(t={}){if(this.vfs.isClosed||this.vfs.flag&dr)throw oe("EBADF","createReadStream",this.vfs.path);return new Ma(t,this)}createWriteStream(t={}){if(this.vfs.isClosed)throw oe("EBADF","createWriteStream",this.vfs.path);if(this.vfs.inode.flags&yr.Immutable)throw oe("EPERM","createWriteStream",this.vfs.path);if(this.vfs.fs.attributes.has("readonly"))throw oe("EROFS","createWriteStream",this.vfs.path);return new Ca(t,this)}}async function tl(e,t){await Od.call(this,e,t)}async function Ji(e){e=Je(e);try{const{fs:t,path:r}=await Tr(this,e);return await t.exists(r)}catch(t){if(t instanceof Yt&&t.code=="ENOENT")return!1;throw t}}async function Zi(e,t){e=Je(e);const{fs:r,path:i}=await Tr(this,e),n={syscall:"stat",path:e},o=await r.stat(i).catch(Mr(n));if(St&&!yt(this,o,Xt))throw oe("EACCES",n);return t?.bigint?new Di(o):new ai(o)}async function as(e,t){e=Je(e);const r={syscall:"lstat",path:e},{base:i,dir:n}=lr(e),{fs:o,path:u}=await Tr(this,n),l=await o.stat(i?Dt(u,i):u).catch(Mr(r));if(St&&!yt(this,l,Xt))throw oe("EACCES",r);return t?.bigint?new Di(l):new ai(l)}async function rl(e,t=0){const r={stack:[],error:void 0,hasError:!1};try{await Br(r,await Ur.call(this,e,"r+"),!0).truncate(t)}catch(i){r.error=i,r.hasError=!0}finally{const i=Fr(r);i&&await i}}async function Pa(e){e=Je(e);const{fs:t,path:r}=Lt(e,this),i={syscall:"unlink",path:e},n=await t.stat(r).catch(Mr(i));if(St&&!yt(this,n,Qt))throw oe("EACCES",i);await t.unlink(r).catch(Mr(i)),pr(this,"rename",e.toString())}async function Ur(e,t="r",r=420){const i=await Ki(this,e,{flag:t,mode:r});return new _r(this,Xs(i))}async function Ba(e,t){const r={stack:[],error:void 0,hasError:!1};try{const i=si(t,null,"r",292);return await Br(r,typeof e=="object"&&"fd"in e?e:await Ur.call(this,e,i.flag,i.mode),!0).readFile(i)}catch(i){r.error=i,r.hasError=!0}finally{const i=Fr(r);i&&await i}}async function Fa(e,t,r){const i={stack:[],error:void 0,hasError:!1};try{const n=si(r,"utf8","w+",420),o=Br(i,e instanceof _r?e:await Ur.call(this,e.toString(),n.flag,n.mode),!0),u=typeof t=="string"?t:t instanceof DataView?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t;if(typeof u!="string"&&!(u instanceof Uint8Array))throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView. Received '+typeof t);await o.writeFile(u,n)}catch(n){i.error=n,i.hasError=!0}finally{const n=Fr(i);n&&await n}}async function il(e,t,r){const i={stack:[],error:void 0,hasError:!1};try{const n=si(r,"utf8","a",420),o=Kr(n.flag),u={syscall:"write",path:e instanceof _r?e.vfs.path:e.toString()};if(!(o&Wi))throw oe("EBADF",u);const l=typeof t=="string"?Ht.Buffer.from(t,n.encoding):new Uint8Array(t.buffer,t.byteOffset,t.byteLength);await Br(i,typeof e=="object"&&"fd"in e?e:await Ur.call(this,e,n.flag,n.mode),!0).appendFile(l,n)}catch(n){i.error=n,i.hasError=!0}finally{const n=Fr(i);n&&await n}}async function Ua(e){e=Je(e);const{fs:t,path:r}=await Tr(this,e),i={syscall:"rmdir",path:e},n=await t.stat(r).catch(Mr(i));if(!n)throw oe("ENOENT",i);if(!nr(n))throw oe("ENOTDIR",i);if(St&&!yt(this,n,Qt))throw oe("EACCES",i);await t.rmdir(r).catch(Mr(i)),pr(this,"rename",e.toString())}async function zi(e,t){t=typeof t=="object"?t:{mode:t};const r=ni(t?.mode,511);return await kd.call(this,e,{...t,mode:r})}async function Qi(e,t){e=Je(e);const r=typeof t=="object"&&t!=null?t:{encoding:t,withFileTypes:!1,recursive:!1},i=await Id.call(this,e,r),n=[];for(const o of i)r.withFileTypes?n.push(mn.from(o,r.encoding)):r.encoding=="buffer"?n.push(Ht.Buffer.from(o.path)):n.push(o.path);return n}async function nl(e,t){return await Ad.call(this,e,t)}async function sl(e,t,r="file"){const i={stack:[],error:void 0,hasError:!1};try{if(!["file","dir","junction"].includes(r))throw new TypeError("Invalid symlink type: "+r);if(t=Je(t),await Ji.call(this,t))throw oe("EEXIST","symlink",t);const n=Br(i,await Ki(this,t,{flag:"w+",mode:420,preserveSymlinks:!0}),!0),o=ei(Je(e,!0));await n.write(o,0,o.length,0),await n.chmod(ri)}catch(n){i.error=n,i.hasError=!0}finally{const n=Fr(i);n&&await n}}async function al(e,t){e=Je(e);const r=Ht.Buffer.from(await aa.call(this,e),"utf-8"),i=typeof t=="object"?t?.encoding:t;return i=="buffer"?r:r.toString(i??"utf-8")}async function ol(e,t,r){const i={stack:[],error:void 0,hasError:!1};try{await Br(i,await Ur.call(this,e,"r+"),!0).chown(t,r)}catch(n){i.error=n,i.hasError=!0}finally{const n=Fr(i);n&&await n}}async function cl(e,t,r){const i={stack:[],error:void 0,hasError:!1};try{await Br(i,await Ki(this,e,{flag:"r+",mode:420,preserveSymlinks:!0,allowDirectory:!0}),!0).chown(t,r)}catch(n){i.error=n,i.hasError=!0}finally{const n=Fr(i);n&&await n}}async function ll(e,t){const r={stack:[],error:void 0,hasError:!1};try{await Br(r,await Ur.call(this,e,"r+"),!0).chmod(t)}catch(i){r.error=i,r.hasError=!0}finally{const i=Fr(r);i&&await i}}async function ul(e,t){const r={stack:[],error:void 0,hasError:!1};try{t=ni(t),await Br(r,await Ki(this,e,{flag:"r+",mode:420,preserveSymlinks:!0,allowDirectory:!0}),!0).chmod(t)}catch(i){r.error=i,r.hasError=!0}finally{const i=Fr(r);i&&await i}}async function ja(e,t,r){const i={stack:[],error:void 0,hasError:!1};try{await Br(i,await Ki(this,e,{flag:"r+",allowDirectory:!0}),!0).utimes(pi(t),pi(r))}catch(n){i.error=n,i.hasError=!0}finally{const n=Fr(i);n&&await n}}async function fl(e,t,r){const i={stack:[],error:void 0,hasError:!1};try{await Br(i,await Ki(this,e,{flag:"r+",mode:420,preserveSymlinks:!0,allowDirectory:!0}),!0).utimes(pi(t),pi(r))}catch(n){i.error=n,i.hasError=!0}finally{const n=Fr(i);n&&await n}}async function dl(e,t){const r=typeof t=="string"?t:t?.encoding??"utf8";e=Je(e);const{fullPath:i}=await Tr(this,e);if(r=="utf8"||r=="utf-8")return i;const n=Ht.Buffer.from(i,"utf-8");return r=="buffer"?n:n.toString(r)}function Md(e,t={}){const r=new mc(this,e.toString(),typeof t!="string"?t:{encoding:t}),i=[];let n=!1;r.on("change",(u,l)=>{i.shift()?.({value:{eventType:u,filename:l},done:!1})});function o(){n=!0,r.close();for(const u of i)u({value:null,done:n});return i.length=0,Promise.resolve({value:void 0,done:!0})}return{async next(){if(n)return Promise.resolve({value:void 0,done:n});const{promise:u,resolve:l}=Promise.withResolvers();return i.push(l),u},return:o,throw:o,async[Symbol.asyncDispose](){await o()},[Symbol.asyncIterator](){return this}}}async function hl(e,t=Mn){if(!St)return;if(!(await Zi.call(this,e)).hasAccess(t,this))throw oe("EACCES","access",e.toString())}async function os(e,t){e=Je(e);const r=await as.call(this,e).catch(i=>{if(!(i.code=="ENOENT"&&t?.force))throw i});if(r)switch(r.mode&Ct){case At:if(t?.recursive)for(const i of await Qi.call(this,e))await os.call(this,Dt(e,i),t);await Ua.call(this,e);break;case br:case ri:case Ii:case yi:await Pa.call(this,e);break;case Vi:case $i:default:throw oe("ENOSYS","rm",e)}}async function _l(e,t){const r=typeof t=="object"?t?.encoding:t||"utf8",i=jn(e);return await zi.call(this,i),r=="buffer"?Ht.Buffer.from(i):i}async function Cd(e,t){const r=jn(e);await zi.call(this,r);const i=()=>os(r,{recursive:!0,force:!0});return{path:r,remove:i,[Symbol.asyncDispose]:i}}async function Wa(e,t,r){if(e=Je(e),t=Je(t),r&&r&Fs&&await Ji.call(this,t))throw oe("EEXIST","copyFile",t);await Fa.call(this,t,await Ba.call(this,e)),pr(this,"rename",t.toString())}function ml(e,t){return e=Je(e),Promise.resolve(new Qs(e,this))}async function $a(e,t,r){e=Je(e),t=Je(t);const i=await as.call(this,e);if(r?.errorOnExist&&await Ji.call(this,t))throw oe("EEXIST","cp",t);switch(i.mode&Ct){case At:{if(!r?.recursive)throw oe("EISDIR","cp",e);const[n]=await Promise.all([Qi.call(this,e,{withFileTypes:!0}),zi.call(this,t,{recursive:!0})]),o=async u=>{r.filter&&!r.filter(Dt(e,u.name),Dt(t,u.name))||await $a.call(this,Dt(e,u.name),Dt(t,u.name),r)};await Promise.all(n.map(o));break}case br:case ri:await Wa.call(this,e,t);break;case Ii:case yi:case Vi:case $i:default:throw oe("ENOSYS","cp",e)}r?.preserveTimestamps&&await ja.call(this,t,i.atime,i.mtime)}async function yl(e,t){e=Je(e);const{fs:r}=Lt(e,this);return Promise.resolve(sc(r,t?.bigint))}function pl(e,t){e=Array.isArray(e)?e:[e];const{cwd:r="/",withFileTypes:i=!1,exclude:n=()=>!1}=t||{},o=e.map(Vs);async function*u(l){const p=await Qi(l,{withFileTypes:i,encoding:"utf8"});for(const h of p){const _=i?Dt(h.parentPath,h.name):l+"/"+h;(typeof n!="function"?n.some(m=>Wo(m,_)):n(i?h:_))||((await Zi(_)).isDirectory()&&o.some(m=>m.source.includes(".*"))&&(yield*u(_)),o.some(m=>m.test(_.replace(/^\/+/g,"")))&&(yield i?h:_.replace(/^\/+/g,"")))}}return u(r)}var Pd=Object.freeze({__proto__:null,FileHandle:_r,access:hl,appendFile:il,chmod:ll,chown:ol,constants:Ao,copyFile:Wa,cp:$a,exists:Ji,glob:pl,lchmod:ul,lchown:cl,link:nl,lstat:as,lutimes:fl,mkdir:zi,mkdtemp:_l,mkdtempDisposable:Cd,open:Ur,opendir:ml,readFile:Ba,readdir:Qi,readlink:al,realpath:dl,rename:tl,rm:os,rmdir:Ua,stat:Zi,statfs:yl,symlink:sl,truncate:rl,unlink:Pa,utimes:ja,watch:Md,writeFile:Fa});function gl(e,t){t.disableAsyncCache&&e.attributes.set("no_async_preload"),t.caseFold&&e.attributes.set("case_fold",t.caseFold)}function wl(e){return ho(e)||Bs(e)||e instanceof ci}async function bl(e,t=0){if(typeof e!="object"||e==null)throw Kt(ee("EINVAL","Invalid options on mount configuration"));if(!wl(e))throw Kt(ee("EINVAL","Invalid mount configuration"));if(e instanceof ci)return await e.ready(),e;Bs(e)&&(e={backend:e});for(const[n,o]of Object.entries(e))if(n!="backend"&&wl(o)){if(un("Resolving nested mount configuration: "+n),t>10)throw Kt(ee("EINVAL","Invalid configuration, too deep and possibly infinite"));e[n]=await bl(o,++t)}const{backend:r}=e;if(typeof r.isAvailable=="function"&&!await r.isAvailable(e))throw Kt(ee("EPERM","Backend not available: "+r.name));Zu(r,e);const i=await r.create(e);return gl(i,e),await i.ready(),i}async function El(e,t){if(e=="/"){Yn(e,t);return}const r=await Zi(e).catch(()=>null);if(!r)await zi(e,{recursive:!0});else if(!r.isDirectory())throw ee("ENOTDIR","Missing directory at mount point: "+e);Yn(e,t)}const Bd=["/tmp","/var","/etc"];async function Fd(e){if(Object.assign(yo.credentials,_o({uid:e.uid||0,gid:e.gid||0})),Ff(!e.disableAccessChecks),e.log&&Xu(e.log),e.mounts)for(const[t,r]of Object.entries(e.mounts).sort(([i],[n])=>i.length>n.length?1:-1)){const i=t.startsWith("/")?t:"/"+t;ho(r)&&(r.disableAsyncCache??=e.disableAsyncCache||!1,r.caseFold??=e.caseFold),i=="/"&&nc("/"),await El(i,await bl(r))}for(const t of xi.values())gl(t,e);if(e.addDevices&&!xi.has("/dev")){const t=new xf;t.addDefaults(),await t.ready(),await El("/dev",t)}if(e.defaultDirectories)for(const t of Bd)await Ji(t)?(await Zi(t)).isDirectory()||qt("Default directory exists but is not a directory: "+t):await zi(t)}Math.max(...["delete"].map(e=>e.length)),typeof SuppressedError=="function"&&SuppressedError;const vl=new Uint32Array(256);for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t=t&1?2197175160^t>>>1:t>>>1;vl[e]=t}function Ud(e){let t=4294967295;for(let r=0;r<e.length;r++)t=t>>>8^vl[(t^e[r])&255];return(t^4294967295)>>>0}var jt=function(e,t,r,i,n,o){function u(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var l=i.kind,p=l==="getter"?"get":l==="setter"?"set":"value",h=!t&&e?i.static?e:e.prototype:null,_=t||(h?Object.getOwnPropertyDescriptor(h,i.name):{}),m,A=!1,S=r.length-1;S>=0;S--){var O={};for(var k in i)O[k]=k==="access"?{}:i[k];for(var k in i.access)O.access[k]=i.access[k];O.addInitializer=function(v){if(A)throw new TypeError("Cannot add initializers after decoration has completed");o.push(u(v||null))};var E=(0,r[S])(l==="accessor"?{get:_.get,set:_.set}:_[p],O);if(l==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(m=u(E.get))&&(_.get=m),(m=u(E.set))&&(_.set=m),(m=u(E.init))&&n.unshift(m)}else(m=u(E))&&(l==="field"?n.unshift(m):_[p]=m)}h&&Object.defineProperty(h,i.name,_),A=!0},lt=function(e,t,r){for(var i=arguments.length>2,n=0;n<t.length;n++)r=i?t[n].call(e,r):t[n].call(e);return i?r:void 0};typeof SuppressedError=="function"&&SuppressedError;const vr=e=>"0x"+e.toString(16).padStart(8,"0"),{format:jd}=new Intl.NumberFormat("en-US",{notation:"compact",maximumFractionDigits:2,unit:"byte",unitDisplay:"narrow"});let Wd=(()=>{var e,t,r,i;let n=[gt.packed("MetadataEntry")],o,u=[],l,p=Yr,h,_=[],m=[],A,S=[],O=[],k,E=[],v=[],N,T=[],j=[];return class extends p{static{l=this}static{const R=typeof Symbol=="function"&&Symbol.metadata?Object.create(p[Symbol.metadata]??null):void 0;h=[(e=te).uint32.bind(e)],A=[(t=te).uint32.bind(t)],k=[(r=te).uint32.bind(r)],N=[(i=te).uint32.bind(i)],jt(this,null,h,{kind:"accessor",name:"id",static:!1,private:!1,access:{has:V=>"id"in V,get:V=>V.id,set:(V,ae)=>{V.id=ae}},metadata:R},_,m),jt(this,null,A,{kind:"accessor",name:"offset_",static:!1,private:!1,access:{has:V=>"offset_"in V,get:V=>V.offset_,set:(V,ae)=>{V.offset_=ae}},metadata:R},S,O),jt(this,null,k,{kind:"accessor",name:"offset",static:!1,private:!1,access:{has:V=>"offset"in V,get:V=>V.offset,set:(V,ae)=>{V.offset=ae}},metadata:R},E,v),jt(this,null,N,{kind:"accessor",name:"size",static:!1,private:!1,access:{has:V=>"size"in V,get:V=>V.size,set:(V,ae)=>{V.size=ae}},metadata:R},T,j),jt(null,o={value:l},n,{kind:"class",name:l.name,metadata:R},null,u),l=o.value,R&&Object.defineProperty(l,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:R}),lt(l,u)}#e=lt(this,_,void 0);get id(){return this.#e}set id(R){this.#e=R}#t=(lt(this,m),lt(this,S,void 0));get offset_(){return this.#t}set offset_(R){this.#t=R}#r=(lt(this,O),lt(this,E,void 0));get offset(){return this.#r}set offset(R){this.#r=R}#i=(lt(this,v),lt(this,T,void 0));get size(){return this.#i}set size(R){this.#i=R}toString(){return`<MetadataEntry @ ${vr(this.byteOffset)}>`}constructor(){super(...arguments),lt(this,j)}},l})();const $d=255,Sl=5;let Xr=(()=>{var e,t,r,i;let n=[gt.packed("MetadataBlock")],o,u=[],l,p=Hr.typed(Int32Array),h,_=[],m=[],A,S=[],O=[],k,E=[],v=[],N,T=[],j=[],R,V=[],ae=[];var ne=class extends p{static{l=this}static{const de=typeof Symbol=="function"&&Symbol.metadata?Object.create(p[Symbol.metadata]??null):void 0;h=[(e=te).uint32.bind(e)],A=[(t=te).uint64.bind(t)],k=[(r=te).uint32.bind(r)],N=[qr(pf(Wd,$d))],R=[(i=te).int32.bind(i)],jt(this,null,h,{kind:"accessor",name:"checksum",static:!1,private:!1,access:{has:P=>"checksum"in P,get:P=>P.checksum,set:(P,Y)=>{P.checksum=Y}},metadata:de},_,m),jt(this,null,A,{kind:"accessor",name:"timestamp",static:!1,private:!1,access:{has:P=>"timestamp"in P,get:P=>P.timestamp,set:(P,Y)=>{P.timestamp=Y}},metadata:de},S,O),jt(this,null,k,{kind:"accessor",name:"previous_offset",static:!1,private:!1,access:{has:P=>"previous_offset"in P,get:P=>P.previous_offset,set:(P,Y)=>{P.previous_offset=Y}},metadata:de},E,v),jt(this,null,N,{kind:"accessor",name:"items",static:!1,private:!1,access:{has:P=>"items"in P,get:P=>P.items,set:(P,Y)=>{P.items=Y}},metadata:de},T,j),jt(this,null,R,{kind:"accessor",name:"locked",static:!1,private:!1,access:{has:P=>"locked"in P,get:P=>P.locked,set:(P,Y)=>{P.locked=Y}},metadata:de},V,ae),jt(null,o={value:l},n,{kind:"class",name:l.name,metadata:de},null,u),ne=l=o.value,de&&Object.defineProperty(l,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:de})}static lockIndex=Bo(ne,"locked")/Int32Array.BYTES_PER_ELEMENT;#e=lt(this,_,void 0);get checksum(){return this.#e}set checksum(de){this.#e=de}#t=(lt(this,m),lt(this,S,BigInt(Date.now())));get timestamp(){return this.#t}set timestamp(de){this.#t=de}#r=(lt(this,O),lt(this,E,void 0));get previous_offset(){return this.#r}set previous_offset(de){this.#r=de}_previous=lt(this,v);get previous(){if(this.previous_offset)return this._previous??=new ne(this.buffer,this.previous_offset),this._previous}#i=lt(this,T,void 0);get items(){return this.#i}set items(de){this.#i=de}toString(de=!1){if(!de)return`<MetadataBlock @ ${vr(this.byteOffset)}>`;let P=[`---- Metadata block at ${vr(this.byteOffset)} ----`,`Checksum: ${vr(this.checksum)}`,`Last updated: ${new Date(Number(this.timestamp)).toLocaleString()}`,`Previous block: ${vr(this.previous_offset)}`,"Entries:"].join(`
`);for(const Y of this.items)Y.offset&&(P+=`
	${vr(Y.id)}: ${jd(Y.size).padStart(5)} at ${vr(Y.offset)}`);return P}#n=(lt(this,j),lt(this,V,void 0));get locked(){return this.#n}set locked(de){this.#n=de}waitUnlocked(de=0){if(de>Sl)throw Gr(ee("EBUSY",`sbfs: exceeded max attempts waiting for metadata block at ${vr(this.byteOffset)} to be unlocked`));if(Atomics.load(this,ne.lockIndex))switch(Atomics.wait(this,ne.lockIndex,1)){case"ok":break;case"not-equal":return de++,Kt(`sbfs: waiting for metadata block at ${vr(this.byteOffset)} to be unlocked (${de}/${Sl})`),this.waitUnlocked(de);case"timed-out":throw Gr(ee("EBUSY",`sbfs: timed out waiting for metadata block at ${vr(this.byteOffset)} to be unlocked`))}}lock(){this.waitUnlocked(),Atomics.store(this,ne.lockIndex,1);const de=()=>{Atomics.store(this,ne.lockIndex,0),Atomics.notify(this,ne.lockIndex,1)};return de[Symbol.dispose]=de,de}constructor(){super(...arguments),lt(this,ae)}static{lt(l,u)}};return ne=l})();const kl=1651715706,Il=2;(()=>{var e,t,r,i,n,o,u,l,p,h;let _=[gt.packed("Superblock")],m,A=[],S,O=Hr.typed(BigUint64Array),k,E=[],v=[],N,T=[],j=[],R,V=[],ae=[],ne,de=[],P=[],Y,me=[],G=[],J,re=[],ve=[],We,_e=[],W=[],x,X=[],se=[],ie,Le=[],je=[],Qe,He=[],ue=[],ye,be=[],ge=[],xe,$=[],Z=[],fe,Ne=[],Oe=[];var Se=class extends O{static{S=this}static{const C=typeof Symbol=="function"&&Symbol.metadata?Object.create(O[Symbol.metadata]??null):void 0;k=[(e=te).uint32.bind(e)],N=[(t=te).uint32.bind(t)],R=[(r=te).uint16.bind(r)],ne=[(i=te).uint16.bind(i)],Y=[(n=te).uint32.bind(n)],J=[(o=te).uint64.bind(o)],We=[(u=te).uint64.bind(u)],x=[te.uint8(16)],ie=[(l=te).uint32.bind(l)],Qe=[(p=te).uint32.bind(p)],ye=[(h=te).uint32.bind(h)],xe=[te.char(64)],fe=[te.char(132)],jt(this,null,k,{kind:"accessor",name:"checksum",static:!1,private:!1,access:{has:q=>"checksum"in q,get:q=>q.checksum,set:(q,he)=>{q.checksum=he}},metadata:C},E,v),jt(this,null,N,{kind:"accessor",name:"magic",static:!1,private:!1,access:{has:q=>"magic"in q,get:q=>q.magic,set:(q,he)=>{q.magic=he}},metadata:C},T,j),jt(this,null,R,{kind:"accessor",name:"version",static:!1,private:!1,access:{has:q=>"version"in q,get:q=>q.version,set:(q,he)=>{q.version=he}},metadata:C},V,ae),jt(this,null,ne,{kind:"accessor",name:"inode_format",static:!1,private:!1,access:{has:q=>"inode_format"in q,get:q=>q.inode_format,set:(q,he)=>{q.inode_format=he}},metadata:C},de,P),jt(this,null,Y,{kind:"accessor",name:"flags",static:!1,private:!1,access:{has:q=>"flags"in q,get:q=>q.flags,set:(q,he)=>{q.flags=he}},metadata:C},me,G),jt(this,null,J,{kind:"accessor",name:"used_bytes",static:!1,private:!1,access:{has:q=>"used_bytes"in q,get:q=>q.used_bytes,set:(q,he)=>{q.used_bytes=he}},metadata:C},re,ve),jt(this,null,We,{kind:"accessor",name:"total_bytes",static:!1,private:!1,access:{has:q=>"total_bytes"in q,get:q=>q.total_bytes,set:(q,he)=>{q.total_bytes=he}},metadata:C},_e,W),jt(this,null,x,{kind:"accessor",name:"uuid",static:!1,private:!1,access:{has:q=>"uuid"in q,get:q=>q.uuid,set:(q,he)=>{q.uuid=he}},metadata:C},X,se),jt(this,null,ie,{kind:"accessor",name:"metadata_block_size",static:!1,private:!1,access:{has:q=>"metadata_block_size"in q,get:q=>q.metadata_block_size,set:(q,he)=>{q.metadata_block_size=he}},metadata:C},Le,je),jt(this,null,Qe,{kind:"accessor",name:"metadata_offset_",static:!1,private:!1,access:{has:q=>"metadata_offset_"in q,get:q=>q.metadata_offset_,set:(q,he)=>{q.metadata_offset_=he}},metadata:C},He,ue),jt(this,null,ye,{kind:"accessor",name:"metadata_offset",static:!1,private:!1,access:{has:q=>"metadata_offset"in q,get:q=>q.metadata_offset,set:(q,he)=>{q.metadata_offset=he}},metadata:C},be,ge),jt(this,null,xe,{kind:"accessor",name:"label",static:!1,private:!1,access:{has:q=>"label"in q,get:q=>q.label,set:(q,he)=>{q.label=he}},metadata:C},$,Z),jt(this,null,fe,{kind:"accessor",name:"_padding",static:!1,private:!1,access:{has:q=>"_padding"in q,get:q=>q._padding,set:(q,he)=>{q._padding=he}},metadata:C},Ne,Oe),jt(null,m={value:S},_,{kind:"class",name:S.name,metadata:C},null,A),Se=S=m.value,C&&Object.defineProperty(S,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:C}),lt(S,A)}constructor(...C){if(super(...C),lt(this,Oe),this.magic!=kl){qt("sbfs: Invalid magic value, assuming this is a fresh super block");const q=new Xr(this.buffer,xt(Se));Object.assign(this,{metadata:q,metadata_offset:q.byteOffset,used_bytes:BigInt(xt(Se)+xt(Xr)),total_bytes:BigInt(this.buffer.byteLength),magic:kl,version:1,inode_format:Vo,metadata_block_size:xt(Xr),uuid:Vu(crypto.randomUUID())}),ls(this),ls(q);return}if(this.checksum!==cs(this))throw Gr(ee("EIO","sbfs: checksum mismatch for super block"));if(this.metadata=new Xr(this.buffer,this.metadata_offset),this.metadata.checksum!==cs(this.metadata))throw Gr(ee("EIO",`sbfs: checksum mismatch for metadata block (saved ${vr(this.metadata.checksum)}, computed ${vr(cs(this.metadata))})`));if(this.inode_format!=Vo)throw Gr(ee("EIO","sbfs: inode format mismatch"));if(this.metadata_block_size!=xt(Xr))throw Gr(ee("EIO","sbfs: metadata block size mismatch"))}#e=lt(this,E,void 0);get checksum(){return this.#e}set checksum(C){this.#e=C}#t=(lt(this,v),lt(this,T,void 0));get magic(){return this.#t}set magic(C){this.#t=C}#r=(lt(this,j),lt(this,V,void 0));get version(){return this.#r}set version(C){this.#r=C}#i=(lt(this,ae),lt(this,de,void 0));get inode_format(){return this.#i}set inode_format(C){this.#i=C}#n=(lt(this,P),lt(this,me,void 0));get flags(){return this.#n}set flags(C){this.#n=C}#s=(lt(this,G),lt(this,re,void 0));get used_bytes(){return this.#s}set used_bytes(C){this.#s=C}#a=(lt(this,ve),lt(this,_e,void 0));get total_bytes(){return this.#a}set total_bytes(C){this.#a=C}#o=(lt(this,W),lt(this,X,void 0));get uuid(){return this.#o}set uuid(C){this.#o=C}#c=(lt(this,se),lt(this,Le,void 0));get metadata_block_size(){return this.#c}set metadata_block_size(C){this.#c=C}#l=(lt(this,je),lt(this,He,void 0));get metadata_offset_(){return this.#l}set metadata_offset_(C){this.#l=C}#u=(lt(this,ue),lt(this,be,void 0));get metadata_offset(){return this.#u}set metadata_offset(C){this.#u=C}metadata=lt(this,ge);#f=lt(this,$,void 0);get label(){return this.#f}set label(C){this.#f=C}#d=(lt(this,Z),lt(this,Ne,void 0));get _padding(){return this.#d}set _padding(C){this.#d=C}rotateMetadata(){const C=this.used_bytes%BigInt(4);Atomics.add(this,Il,C);const q=Number(Atomics.add(this,Il,BigInt(xt(Xr)))),he=new Xr(this.buffer,q);return he.previous_offset=this.metadata_offset,this.metadata=he,this.metadata_offset=he.byteOffset,ls(he),ls(this),Cr(`sbfs: rotated metadata block at ${vr(he.previous_offset)} with new block at ${vr(q)}`),he}isUnused(C,q){if(!q)return!0;if(C+q>this.total_bytes||C<xt(Se))return!1;for(let he=this.metadata;he;he=he.previous){if(C<he.byteOffset+xt(Xr)&&C+q>he.byteOffset)return!1;for(const le of he.items)if(le.offset&&(C>=le.offset&&C<le.offset+le.size||C+q>le.offset&&C+q<=le.offset+le.size||C<=le.offset&&C+q>=le.offset+le.size))return!1}return!0}};return Se=S})();function cs(e){let t=xt(e)-4;return e instanceof Xr&&(t-=Int32Array.BYTES_PER_ELEMENT),Ud(new Uint8Array(e.buffer,e.byteOffset+4,t))}function ls(e){e instanceof Xr&&(e.timestamp=BigInt(Date.now())),e.checksum=cs(e)}const ut=()=>{};async function Vd(e){const t=[];for await(const r of e)t.push(r);return t}function Gd(e,t,r=ut){tl.call(this,e,t).then(()=>r(null)).catch(r)}function qd(e,t=ut){Ji.call(this,e).then(t).catch(()=>t(!1))}function Hd(e,t,r=ut){r=typeof t=="function"?t:r,Zi.call(this,e,typeof t!="function"?t:{}).then(i=>r(null,i)).catch(r)}function Yd(e,t,r=ut){r=typeof t=="function"?t:r,as.call(this,e,typeof t!="function"?t:{}).then(i=>r(null,i)).catch(r)}function Kd(e,t=0,r=ut){r=typeof t=="function"?t:r;const i=typeof t=="number"?t:0;rl.call(this,e,i).then(()=>r(null)).catch(r)}function Xd(e,t=ut){Pa.call(this,e).then(()=>t(null)).catch(t)}function Jd(e,t,r,i=ut){const n=ni(r,420);i=typeof r=="function"?r:i,Ur.call(this,e,t,n).then(o=>i(null,o.fd)).catch(i)}function Zd(e,t,r=ut){r=typeof t=="function"?t:r,Ba.call(this,e,typeof t=="function"?null:t).then(i=>r(null,i)).catch(r)}function Qd(e,t,r,i=ut){i=typeof r=="function"?r:i,Fa.call(this,e,t,typeof r!="function"?r:null).then(()=>i(null)).catch(i)}function eh(e,t,r,i=ut){const n=typeof r!="function"?r:void 0;i=typeof r=="function"?r:i,il.call(this,e,t,n).then(()=>i(null)).catch(i)}function th(e,t,r=ut){r=typeof t=="function"?t:r,new _r(this,e).stat().then(i=>r(null,typeof t=="object"&&t?.bigint?new Di(i):i)).catch(r)}function rh(e,t=ut){new _r(this,e).close().then(()=>t(null)).catch(t)}function ih(e,t,r=ut){const i=typeof t=="number"?t:0;r=typeof t=="function"?t:r;const n=new _r(this,e);if(i<0)throw ee("EINVAL");n.truncate(i).then(()=>r(null)).catch(r)}function nh(e,t=ut){new _r(this,e).sync().then(()=>t(null)).catch(t)}function sh(e,t=ut){new _r(this,e).datasync().then(()=>t(null)).catch(t)}function ah(e,t,r,i,n,o=ut){let u,l,p,h,_;const m=new _r(this,e);if(typeof t=="string"){switch(_="utf8",typeof r){case"function":o=r;break;case"number":h=r,_=typeof i=="string"?i:"utf8",o=typeof n=="function"?n:o;break;default:o=typeof i=="function"?i:typeof n=="function"?n:o,o(ee("EINVAL"));return}u=Ht.Buffer.from(t),l=0,p=u.length;const A=o;m.write(u,l,p,h).then(({bytesWritten:S})=>A(null,S,u.toString(_))).catch(A)}else{u=Ht.Buffer.from(t.buffer),l=r,p=i,h=typeof n=="number"?n:null;const A=typeof n=="function"?n:o;m.write(u,l,p,h).then(({bytesWritten:S})=>A(null,S,u)).catch(A)}}function oh(e,t,r,i,n,o=ut){new _r(this,e).read(t,r,i,n).then(({bytesRead:u,buffer:l})=>o(null,u,l)).catch(o)}function ch(e,t,r,i=ut){new _r(this,e).chown(t,r).then(()=>i(null)).catch(i)}function lh(e,t,r){new _r(this,e).chmod(t).then(()=>r(null)).catch(r)}function uh(e,t,r,i=ut){new _r(this,e).utimes(t,r).then(()=>i(null)).catch(i)}function fh(e,t=ut){Ua.call(this,e).then(()=>t(null)).catch(t)}function dh(e,t,r=ut){zi.call(this,e,t).then(()=>r(null)).catch(r)}function hh(e,t,r=ut){r=typeof t=="function"?t:r;const i=typeof t!="function"?t:{};Qi.call(this,e,i).then(n=>r(null,n)).catch(r)}function _h(e,t,r=ut){nl.call(this,e,t).then(()=>r(null)).catch(r)}function mh(e,t,r,i=ut){const n=typeof r=="string"?r:"file";i=typeof r=="function"?r:i,sl.call(this,e,t,n).then(()=>i(null)).catch(i)}function yh(e,t,r=ut){r=typeof t=="function"?t:r,al.call(this,e).then(i=>r(null,i)).catch(r)}function ph(e,t,r,i=ut){ol.call(this,e,t,r).then(()=>i(null)).catch(i)}function gh(e,t,r,i=ut){cl.call(this,e,t,r).then(()=>i(null)).catch(i)}function wh(e,t,r=ut){ll.call(this,e,t).then(()=>r(null)).catch(r)}function bh(e,t,r=ut){ul.call(this,e,t).then(()=>r(null)).catch(r)}function Eh(e,t,r,i=ut){ja.call(this,e,t,r).then(()=>i(null)).catch(i)}function vh(e,t,r,i=ut){fl.call(this,e,t,r).then(()=>i(null)).catch(i)}function Sh(e,t,r=ut){r=typeof t=="function"?t:r,dl.call(this,e,typeof t=="function"?null:t).then(i=>r(null,i)).catch(r)}function kh(e,t,r=ut){const i=typeof t=="number"?t:Xt;r=typeof t=="function"?t:r,hl.call(this,e,i).then(()=>r(null)).catch(r)}const en=new Map;function Ih(e,t,r){const i=Je(e),n=typeof t!="function"?t:{};if(typeof t=="function"&&(r=t),!r)throw oe("EINVAL","watch",e.toString());if(en.has(i)){const u=en.get(i);u&&u.listeners.add(r);return}const o=new Ed(this,i,n);o.on("change",(u,l)=>{const p=en.get(i);if(p)for(const h of p.listeners)h(u,l)}),en.set(i,{watcher:o,listeners:new Set})}function Oh(e,t=ut){const r=Je(e),i=en.get(r);i&&(t&&t!==ut?i.listeners.delete(t):i.listeners.clear(),i.listeners.size===0&&(i.watcher.stop(),en.delete(r)))}function Ah(e,t,r){const i=new mc(this,Je(e),typeof t=="object"?t:{});return r=typeof t=="function"?t:r,i.on("change",r||ut),i}function Dh(e,t){t=typeof t=="object"?t:{encoding:t};const r=Ur.call(this,e,"r",t?.mode);return new Ma({...t,autoClose:!0},r)}function Nh(e,t){t=typeof t=="object"?t:{encoding:t};const r=Ur.call(this,e,"w",t?.mode);return new Ca(t,r)}function Th(e,t,r=ut){r=typeof t=="function"?t:r,os.call(this,e,typeof t=="function"?void 0:t).then(()=>r(null)).catch(r)}function xh(e,t,r=ut){r=typeof t=="function"?t:r,_l.call(this,e,typeof t!="function"?t:null).then(i=>r(null,i)).catch(r)}function Rh(e,t,r,i=ut){i=typeof r=="function"?r:i,Wa.call(this,e,t,typeof r=="function"?void 0:r).then(()=>i(null)).catch(i)}function zh(e,t,r,i=ut){i=typeof r=="function"?r:i,new _r(this,e).readv(t,typeof r=="function"?void 0:r).then(({buffers:n,bytesRead:o})=>i(null,o,n)).catch(i)}function Lh(e,t,r,i=ut){i=typeof r=="function"?r:i,new _r(this,e).writev(t,typeof r=="function"?void 0:r).then(({buffers:n,bytesWritten:o})=>i(null,o,n)).catch(i)}function Mh(e,t,r=ut){r=typeof t=="function"?t:r,ml.call(this,e,typeof t=="function"?void 0:t).then(i=>r(null,i)).catch(r)}function Ch(e,t,r,i=ut){i=typeof r=="function"?r:i,$a.call(this,e,t,typeof r=="function"?void 0:r).then(()=>i(null)).catch(i)}function Ph(e,t,r=ut){r=typeof t=="function"?t:r,yl.call(this,e,typeof t=="function"?void 0:t).then(i=>r(null,i)).catch(r)}async function Bh(e,t){const r=await Ur.call(this,e.toString(),"r"),i=await r.readFile();return await r.close(),new Blob([i],t)}function Fh(e,t,r=ut){r=typeof t=="function"?t:r;const i=pl.call(this,e,typeof t=="function"?void 0:t);Vd(i).then(n=>r(null,n??[])).catch(n=>r(n))}const Uh=[];function tn(e,t,r,i){if(!t.startsWith("user.")&&!Uh.includes(t))throw oe("ENOTSUP",i,r)}async function jh(e,t,r={}){e=Je(e);const{fs:i,path:n}=Lt(e,this);tn(this,t,e,"xattr.get");const o=await i.stat(n).catch(Mr("xattr.get",e));if(St&&!yt(this,o,Xt))throw oe("EACCES","xattr.get",e);o.attributes??=new Ni;const u=o.attributes.get(t);if(!u)throw oe("ENODATA","xattr.get",e);const l=Ht.Buffer.from(u);return r.encoding=="buffer"||!r.encoding?l:l.toString(r.encoding)}function Wh(e,t,r={}){e=Je(e),tn(this,t,e,"xattr.get");const{fs:i,path:n}=Lt(e,this);let o;try{o=i.statSync(n)}catch(p){throw ir(Object.assign(p,{path:e}))}if(St&&!yt(this,o,Xt))throw oe("EACCES","xattr.get",e);o.attributes??=new Ni;const u=o.attributes.get(t);if(!u)throw oe("ENODATA","xattr.get",e);const l=Ht.Buffer.from(u);return r.encoding=="buffer"||!r.encoding?l:l.toString(r.encoding)}async function $h(e,t,r,i={}){e=Je(e);const{fs:n,path:o}=Lt(e,this);tn(this,t,e,"xattr.set");const u=await n.stat(o).catch(Mr("xattr.set",e));if(St&&!yt(this,u,Qt))throw oe("EACCES","xattr.set",e);u.attributes??=new Ni;const l=u.attributes.get(t);if(i.create&&l)throw oe("EEXIST","xattr.set",e);if(i.replace&&!l)throw oe("ENODATA","xattr.set",e);u.attributes.set(t,Ht.Buffer.from(r)),await n.touch(o,u).catch(Mr("xattr.set",e))}function Vh(e,t,r,i={}){e=Je(e);const{fs:n,path:o}=Lt(e,this);tn(this,t,e,"xattr.set");let u;try{u=n.statSync(o)}catch(p){throw ir(Object.assign(p,{path:e}))}if(St&&!yt(this,u,Qt))throw oe("EACCES","xattr.set",e);u.attributes??=new Ni;const l=u.attributes.get(t);if(i.create&&l)throw oe("EEXIST","xattr.set",e);if(i.replace&&!l)throw oe("ENODATA","xattr.set",e);u.attributes.set(t,Ht.Buffer.from(r));try{n.touchSync(o,u)}catch(p){throw ir(Object.assign(p,{path:e}))}}async function Gh(e,t){e=Je(e);const{fs:r,path:i}=Lt(e,this);tn(this,t,e,"xattr.remove");const n=await r.stat(i).catch(Mr("xattr.remove",e));if(St&&!yt(this,n,Qt))throw oe("EACCES","xattr.remove",e);if(n.attributes??=new Ni,!n.attributes.get(t))throw oe("ENODATA","xattr.remove",e);n.attributes.remove(t),await r.touch(i,n)}function qh(e,t){e=Je(e);const{fs:r,path:i}=Lt(e,this);tn(this,t,e,"xattr.remove");let n;try{n=r.statSync(i)}catch(u){throw ir(Object.assign(u,{path:e}))}if(St&&!yt(this,n,Qt))throw oe("EACCES","xattr.remove",e);if(n.attributes??=new Ni,!n.attributes.get(t))throw oe("ENODATA","xattr.remove",e);n.attributes.remove(t);try{r.touchSync(i,n)}catch(u){throw ir(Object.assign(u,{path:e}))}}async function Hh(e){e=Je(e);const{fs:t,path:r}=Lt(e,this),i=await t.stat(r).catch(Mr("xattr.list",e));return i.attributes?i.attributes.keys().toArray():[]}function Yh(e){e=Je(e);const{fs:t,path:r}=Lt(e,this);let i;try{i=t.statSync(r)}catch(n){throw ir(Object.assign(n,{path:e}))}return i.attributes?i.attributes.keys().toArray():[]}var Kh=Object.freeze({__proto__:null,get:jh,getSync:Wh,list:Hh,listSync:Yh,remove:Gh,removeSync:qh,set:$h,setSync:Vh});typeof SuppressedError=="function"&&SuppressedError;function Ol(e){class t extends e{constructor(...i){super(...i),this.attributes.set("no_write")}async rename(){throw ee("EROFS")}renameSync(){throw ee("EROFS")}async createFile(){throw ee("EROFS")}createFileSync(){throw ee("EROFS")}async unlink(){throw ee("EROFS")}unlinkSync(){throw ee("EROFS")}async rmdir(){throw ee("EROFS")}rmdirSync(){throw ee("EROFS")}async mkdir(){throw ee("EROFS")}mkdirSync(){throw ee("EROFS")}async link(){throw ee("EROFS")}linkSync(){throw ee("EROFS")}async touch(){throw ee("EROFS")}touchSync(){throw ee("EROFS")}async sync(){throw ee("EROFS")}syncSync(){throw ee("EROFS")}async write(){throw ee("EROFS")}writeSync(){throw ee("EROFS")}streamWrite(){throw ee("EROFS")}}return t}function Al(e){class t extends e{async exists(i){return this.existsSync(i)}async rename(i,n){return this.renameSync(i,n)}async stat(i){return this.statSync(i)}async touch(i,n){return this.touchSync(i,n)}async createFile(i,n){return this.createFileSync(i,n)}async unlink(i){return this.unlinkSync(i)}async rmdir(i){return this.rmdirSync(i)}async mkdir(i,n){return this.mkdirSync(i,n)}async readdir(i){return this.readdirSync(i)}async link(i,n){return this.linkSync(i,n)}async sync(){return this.syncSync()}async read(i,n,o,u){return this.readSync(i,n,o,u)}async write(i,n,o){return this.writeSync(i,n,o)}}return t}var Li=function(e,t,r,i,n,o){function u(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var l=i.kind,p=l==="getter"?"get":l==="setter"?"set":"value",h=!t&&e?i.static?e:e.prototype:null,_=t||(h?Object.getOwnPropertyDescriptor(h,i.name):{}),m,A=!1,S=r.length-1;S>=0;S--){var O={};for(var k in i)O[k]=k==="access"?{}:i[k];for(var k in i.access)O.access[k]=i.access[k];O.addInitializer=function(v){if(A)throw new TypeError("Cannot add initializers after decoration has completed");o.push(u(v||null))};var E=(0,r[S])(l==="accessor"?{get:_.get,set:_.set}:_[p],O);if(l==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(m=u(E.get))&&(_.get=m),(m=u(E.set))&&(_.set=m),(m=u(E.init))&&n.unshift(m)}else(m=u(E))&&(l==="field"?n.unshift(m):_[p]=m)}h&&Object.defineProperty(h,i.name,_),A=!0},Dr=function(e,t,r){for(var i=arguments.length>2,n=0;n<t.length;n++)r=i?t[n].call(e,r):t[n].call(e);return i?r:void 0},us;(function(e){e[e.RealTime=1]="RealTime",e[e.PreAlloc=2]="PreAlloc",e[e.Immutable=8]="Immutable",e[e.Append=16]="Append",e[e.Sync=32]="Sync",e[e.NoAtime=64]="NoAtime",e[e.NoDump=128]="NoDump",e[e.RtInherit=256]="RtInherit",e[e.ProjInherit=512]="ProjInherit",e[e.NoSymlinks=1024]="NoSymlinks",e[e.ExtSize=2048]="ExtSize",e[e.ExtSzInherit=4096]="ExtSzInherit",e[e.NoDefrag=8192]="NoDefrag",e[e.FileStream=16384]="FileStream",e[e.Dax=32768]="Dax",e[e.CowExtSize=65536]="CowExtSize",e[e.HasAttr=2147483648]="HasAttr"})(us||(us={}));let Dl=(()=>{var e,t,r,i,n;let o=[gt("fsxattr")],u,l=[],p,h=Yr,_,m=[],A=[],S,O=[],k=[],E,v=[],N=[],T,j=[],R=[],V,ae=[],ne=[],de,P=[],Y=[];var me=class extends h{static{p=this}static{const G=typeof Symbol=="function"&&Symbol.metadata?Object.create(h[Symbol.metadata]??null):void 0;_=[(e=te).uint32.bind(e)],S=[(t=te).uint32.bind(t)],E=[(r=te).uint32.bind(r)],T=[(i=te).uint32.bind(i)],V=[(n=te).uint32.bind(n)],de=[te.char(8)],Li(this,null,_,{kind:"accessor",name:"xflags",static:!1,private:!1,access:{has:J=>"xflags"in J,get:J=>J.xflags,set:(J,re)=>{J.xflags=re}},metadata:G},m,A),Li(this,null,S,{kind:"accessor",name:"extsize",static:!1,private:!1,access:{has:J=>"extsize"in J,get:J=>J.extsize,set:(J,re)=>{J.extsize=re}},metadata:G},O,k),Li(this,null,E,{kind:"accessor",name:"nextents",static:!1,private:!1,access:{has:J=>"nextents"in J,get:J=>J.nextents,set:(J,re)=>{J.nextents=re}},metadata:G},v,N),Li(this,null,T,{kind:"accessor",name:"projid",static:!1,private:!1,access:{has:J=>"projid"in J,get:J=>J.projid,set:(J,re)=>{J.projid=re}},metadata:G},j,R),Li(this,null,V,{kind:"accessor",name:"cowextsize",static:!1,private:!1,access:{has:J=>"cowextsize"in J,get:J=>J.cowextsize,set:(J,re)=>{J.cowextsize=re}},metadata:G},ae,ne),Li(this,null,de,{kind:"accessor",name:"pad",static:!1,private:!1,access:{has:J=>"pad"in J,get:J=>J.pad,set:(J,re)=>{J.pad=re}},metadata:G},P,Y),Li(null,u={value:p},o,{kind:"class",name:p.name,metadata:G},null,l),me=p=u.value,G&&Object.defineProperty(p,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:G}),Dr(p,l)}#e=Dr(this,m,void 0);get xflags(){return this.#e}set xflags(G){this.#e=G}#t=(Dr(this,A),Dr(this,O,void 0));get extsize(){return this.#t}set extsize(G){this.#t=G}#r=(Dr(this,k),Dr(this,v,void 0));get nextents(){return this.#r}set nextents(G){this.#r=G}#i=(Dr(this,N),Dr(this,j,void 0));get projid(){return this.#i}set projid(G){this.#i=G}#n=(Dr(this,R),Dr(this,ae,void 0));get cowextsize(){return this.#n}set cowextsize(G){this.#n=G}#s=(Dr(this,ne),Dr(this,P,[]));get pad(){return this.#s}set pad(G){this.#s=G}constructor(G=bt(new Yt(ce.EINVAL,"fsxattr must be initialized with an inode"))){super(new ArrayBuffer(xt(me))),Dr(this,Y),this.extsize=G.size,this.nextents=1,this.projid=G.uid,this.cowextsize=G.size;for(const J of Object.keys(yr))G.flags&yr[J]&&J in us&&(this.xflags|=us[J])}};return me=p})();var Nl;(function(e){e[e.SecureRm=1]="SecureRm",e[e.Undelete=2]="Undelete",e[e.Compress=4]="Compress",e[e.Sync=8]="Sync",e[e.Immutable=16]="Immutable",e[e.Append=32]="Append",e[e.NoDump=64]="NoDump",e[e.NoAtime=128]="NoAtime",e[e.Dirty=256]="Dirty",e[e.CompressBlk=512]="CompressBlk",e[e.NoCompress=1024]="NoCompress",e[e.Encrypt=2048]="Encrypt",e[e.Btree=4096]="Btree",e[e.Index=4096]="Index",e[e.IMagic=8192]="IMagic",e[e.JournalData=16384]="JournalData",e[e.NoTail=32768]="NoTail",e[e.DirSync=65536]="DirSync",e[e.TopDir=131072]="TopDir",e[e.HugeFile=262144]="HugeFile",e[e.Extent=524288]="Extent",e[e.Verity=1048576]="Verity",e[e.EaInode=2097152]="EaInode",e[e.EofBlocks=4194304]="EofBlocks",e[e.NoCow=8388608]="NoCow",e[e.Dax=33554432]="Dax",e[e.InlineData=268435456]="InlineData",e[e.ProjInherit=536870912]="ProjInherit",e[e.CaseFold=1073741824]="CaseFold",e[e.Reserved=2147483648]="Reserved"})(Nl||(Nl={}));var Wt;(function(e){e[e.GetFlags=2148034049]="GetFlags",e[e.SetFlags=1074292226]="SetFlags",e[e.GetVersion=2148038145]="GetVersion",e[e.SetVersion=1074296322]="SetVersion",e[e.Fiemap=3223348747]="Fiemap",e[e.GetXattr=2149341215]="GetXattr",e[e.SetXattr=1075599392]="SetXattr",e[e.GetLabel=2164298801]="GetLabel",e[e.SetLabel=1090556978]="SetLabel",e[e.GetUUID=2148603136]="GetUUID",e[e.GetSysfsPath=2155943169]="GetSysfsPath"})(Wt||(Wt={}));var jr;(function(e){e[e.GetFlags=2147771905]="GetFlags",e[e.SetFlags=1074030082]="SetFlags",e[e.GetVersion=2147776001]="GetVersion",e[e.SetVersion=1074034178]="SetVersion"})(jr||(jr={}));async function Xh(e,t,...r){e=Je(e);const{fs:i,path:n}=Lt(e,this);try{const o=new Ot(await i.stat(n));switch(t){case Wt.GetFlags:case jr.GetFlags:return o.flags;case Wt.SetFlags:case jr.SetFlags:o.flags=r[0],await i.touch(n,o);return;case Wt.GetVersion:case jr.GetVersion:return o.version;case Wt.SetVersion:case jr.SetVersion:o.version=r[0],await i.touch(n,o);return;case Wt.Fiemap:break;case Wt.GetXattr:return new Dl(o);case Wt.SetXattr:break;case Wt.GetLabel:return i.label;case Wt.SetLabel:i.label=r[0];return;case Wt.GetUUID:return i.uuid;case Wt.GetSysfsPath:return`/sys/fs/${i.name}/${i.uuid}`}}catch(o){throw ir(Object.assign(o,{syscall:"ioctl",path:e}))}throw oe("ENOTSUP","ioctl",e)}function Jh(e,t,...r){e=Je(e);const{fs:i,path:n}=Lt(e,this);try{const o=new Ot(i.statSync(n));switch(t){case Wt.GetFlags:case jr.GetFlags:return o.flags;case Wt.SetFlags:case jr.SetFlags:o.flags=r[0],i.touchSync(n,o);return;case Wt.GetVersion:case jr.GetVersion:return o.version;case Wt.SetVersion:case jr.SetVersion:o.version=r[0],i.touchSync(n,o);return;case Wt.Fiemap:break;case Wt.GetXattr:return new Dl(o);case Wt.SetXattr:break;case Wt.GetLabel:return i.label;case Wt.SetLabel:i.label=r[0];return;case Wt.GetUUID:return i.uuid;case Wt.GetSysfsPath:return`/sys/fs/${i.name}/${i.uuid}`}}catch(o){throw ir(Object.assign(o,{syscall:"ioctl",path:e}))}throw oe("ENOTSUP","ioctl",e)}var Va=Object.freeze({__proto__:null,BigIntStatsFs:If,Dir:Qs,Dirent:mn,get IOC(){return Wt},get IOC32(){return jr},ReadStream:Ma,Stats:ai,StatsFs:kf,WriteStream:Ca,access:kh,accessSync:hd,appendFile:eh,appendFileSync:Jf,chmod:wh,chmodSync:ld,chown:ph,chownSync:od,chroot:$f,close:rh,closeSync:Yi,constants:Ao,copyFile:Rh,copyFileSync:dc,cp:Ch,cpSync:hc,createReadStream:Dh,createWriteStream:Nh,exists:qd,existsSync:ea,fchmod:lh,fchmodSync:ia,fchown:ch,fchownSync:lc,fdatasync:sh,fdatasyncSync:td,fstat:th,fstatSync:Zf,fsync:nh,fsyncSync:ed,ftruncate:ih,ftruncateSync:Qf,futimes:uh,futimesSync:na,glob:Fh,globSync:bd,ioctl:Xh,ioctlSync:Jh,lchmod:bh,lchmodSync:ud,lchown:gh,lchownSync:cd,link:_h,linkSync:nd,lopenSync:Kn,lstat:Yd,lstatSync:ta,lutimes:vh,lutimesSync:fd,mkdir:dh,mkdirSync:Xn,mkdtemp:xh,mkdtempDisposableSync:md,mkdtempSync:_d,mount:Yn,open:Jd,openAsBlob:Bh,openSync:ra,opendir:Mh,opendirSync:gd,promises:Pd,read:oh,readFile:Zd,readFileSync:oc,readSync:id,readdir:hh,readdirSync:wn,readlink:yh,readlinkSync:ad,readv:zh,readvSync:yd,realpath:Sh,realpathSync:dd,rename:Gd,renameSync:Kf,rm:Th,rmSync:sa,rmdir:fh,rmdirSync:uc,stat:Hd,statSync:gn,statfs:Ph,statfsSync:wd,symlink:mh,symlinkSync:sd,truncate:Kd,truncateSync:Xf,umount:nc,unlink:Xd,unlinkSync:ac,unwatchFile:Oh,utimes:Eh,utimesSync:fc,watch:Ah,watchFile:Ih,write:ah,writeFile:Qd,writeFileSync:cc,writeSync:rd,writev:Lh,writevSync:pd,xattr:Kh}),Zh={version:"2.4.4"};globalThis.__zenfs__=Object.assign(Object.create(Va),{_version:Zh.version});var Ga=function(e,t,r,i,n,o){function u(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var l=i.kind,p=l==="getter"?"get":l==="setter"?"set":"value",h=!t&&e?i.static?e:e.prototype:null,_=t||(h?Object.getOwnPropertyDescriptor(h,i.name):{}),m,A=!1,S=r.length-1;S>=0;S--){var O={};for(var k in i)O[k]=k==="access"?{}:i[k];for(var k in i.access)O.access[k]=i.access[k];O.addInitializer=function(v){if(A)throw new TypeError("Cannot add initializers after decoration has completed");o.push(u(v||null))};var E=(0,r[S])(l==="accessor"?{get:_.get,set:_.set}:_[p],O);if(l==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(m=u(E.get))&&(_.get=m),(m=u(E.set))&&(_.set=m),(m=u(E.init))&&n.unshift(m)}else(m=u(E))&&(l==="field"?n.unshift(m):_[p]=m)}h&&Object.defineProperty(h,i.name,_),A=!0},Sn=function(e,t,r){for(var i=arguments.length>2,n=0;n<t.length;n++)r=i?t[n].call(e,r):t[n].call(e);return i?r:void 0},rn;(function(e){e[e.CONTINUE=1]="CONTINUE",e[e.CURRENT=2]="CURRENT",e[e.PARENT=4]="PARENT",e[e.ROOT=8]="ROOT"})(rn||(rn={}));let Qh=(()=>{var e,t;let r=[gt.packed("SLComponentRecord")],i,n=[],o,u=Yr,l,p=[],h=[],_,m=[],A=[];return class extends u{static{o=this}static{const S=typeof Symbol=="function"&&Symbol.metadata?Object.create(u[Symbol.metadata]??null):void 0;l=[(e=te).uint8.bind(e)],_=[(t=te).uint8.bind(t)],Ga(this,null,l,{kind:"accessor",name:"flags",static:!1,private:!1,access:{has:O=>"flags"in O,get:O=>O.flags,set:(O,k)=>{O.flags=k}},metadata:S},p,h),Ga(this,null,_,{kind:"accessor",name:"componentLength",static:!1,private:!1,access:{has:O=>"componentLength"in O,get:O=>O.componentLength,set:(O,k)=>{O.componentLength=k}},metadata:S},m,A),Ga(null,i={value:o},r,{kind:"class",name:o.name,metadata:S},null,n),o=i.value,S&&Object.defineProperty(o,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:S}),Sn(o,n)}#e=Sn(this,p,void 0);get flags(){return this.#e}set flags(S){this.#e=S}#t=(Sn(this,h),Sn(this,m,void 0));get componentLength(){return this.#t}set componentLength(S){this.#t=S}get length(){return 2+this.componentLength}content(S){return S(new Uint8Array(this.buffer,this.byteOffset+2,this.componentLength))}constructor(){super(...arguments),Sn(this,A)}},o})();var sr=function(e,t,r,i,n,o){function u(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var l=i.kind,p=l==="getter"?"get":l==="setter"?"set":"value",h=!t&&e?i.static?e:e.prototype:null,_=t||(h?Object.getOwnPropertyDescriptor(h,i.name):{}),m,A=!1,S=r.length-1;S>=0;S--){var O={};for(var k in i)O[k]=k==="access"?{}:i[k];for(var k in i.access)O.access[k]=i.access[k];O.addInitializer=function(v){if(A)throw new TypeError("Cannot add initializers after decoration has completed");o.push(u(v||null))};var E=(0,r[S])(l==="accessor"?{get:_.get,set:_.set}:_[p],O);if(l==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(m=u(E.get))&&(_.get=m),(m=u(E.set))&&(_.set=m),(m=u(E.init))&&n.unshift(m)}else(m=u(E))&&(l==="field"?n.unshift(m):_[p]=m)}h&&Object.defineProperty(h,i.name,_),A=!0},kt=function(e,t,r){for(var i=arguments.length>2,n=0;n<t.length;n++)r=i?t[n].call(e,r):t[n].call(e);return i?r:void 0};let hi=(()=>{var e;let t=[gt.packed("LongFormDate")],r,i=[],n,o=Yr,u,l=[],p=[],h,_=[],m=[],A,S=[],O=[],k,E=[],v=[],N,T=[],j=[],R,V=[],ae=[],ne,de=[],P=[],Y,me=[],G=[];return class extends o{static{n=this}static{const J=typeof Symbol=="function"&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;u=[te.char(4)],h=[te.char(2)],A=[te.char(2)],k=[te.char(2)],N=[te.char(2)],R=[te.char(2)],ne=[te.char(2)],Y=[(e=te).uint8.bind(e)],sr(this,null,u,{kind:"accessor",name:"_year",static:!1,private:!1,access:{has:re=>"_year"in re,get:re=>re._year,set:(re,ve)=>{re._year=ve}},metadata:J},l,p),sr(this,null,h,{kind:"accessor",name:"_month",static:!1,private:!1,access:{has:re=>"_month"in re,get:re=>re._month,set:(re,ve)=>{re._month=ve}},metadata:J},_,m),sr(this,null,A,{kind:"accessor",name:"_day",static:!1,private:!1,access:{has:re=>"_day"in re,get:re=>re._day,set:(re,ve)=>{re._day=ve}},metadata:J},S,O),sr(this,null,k,{kind:"accessor",name:"_hour",static:!1,private:!1,access:{has:re=>"_hour"in re,get:re=>re._hour,set:(re,ve)=>{re._hour=ve}},metadata:J},E,v),sr(this,null,N,{kind:"accessor",name:"_minute",static:!1,private:!1,access:{has:re=>"_minute"in re,get:re=>re._minute,set:(re,ve)=>{re._minute=ve}},metadata:J},T,j),sr(this,null,R,{kind:"accessor",name:"_second",static:!1,private:!1,access:{has:re=>"_second"in re,get:re=>re._second,set:(re,ve)=>{re._second=ve}},metadata:J},V,ae),sr(this,null,ne,{kind:"accessor",name:"_centisecond",static:!1,private:!1,access:{has:re=>"_centisecond"in re,get:re=>re._centisecond,set:(re,ve)=>{re._centisecond=ve}},metadata:J},de,P),sr(this,null,Y,{kind:"accessor",name:"offsetFromGMT",static:!1,private:!1,access:{has:re=>"offsetFromGMT"in re,get:re=>re.offsetFromGMT,set:(re,ve)=>{re.offsetFromGMT=ve}},metadata:J},me,G),sr(null,r={value:n},t,{kind:"class",name:n.name,metadata:J},null,i),n=r.value,J&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:J}),kt(n,i)}#e=kt(this,l,"");get _year(){return this.#e}set _year(J){this.#e=J}get year(){return parseInt(this._year)}set year(J){this._year=J.toFixed()}#t=(kt(this,p),kt(this,_,""));get _month(){return this.#t}set _month(J){this.#t=J}get month(){return parseInt(this._month)}set month(J){this._month=J.toFixed()}#r=(kt(this,m),kt(this,S,""));get _day(){return this.#r}set _day(J){this.#r=J}get day(){return parseInt(this._day)}set day(J){this._day=J.toFixed()}#i=(kt(this,O),kt(this,E,""));get _hour(){return this.#i}set _hour(J){this.#i=J}get hour(){return parseInt(this._hour)}set hour(J){this._hour=J.toFixed()}#n=(kt(this,v),kt(this,T,""));get _minute(){return this.#n}set _minute(J){this.#n=J}get minute(){return parseInt(this._minute)}set minute(J){this._minute=J.toFixed()}#s=(kt(this,j),kt(this,V,""));get _second(){return this.#s}set _second(J){this.#s=J}get second(){return parseInt(this._second)}set second(J){this._second=J.toFixed()}#a=(kt(this,ae),kt(this,de,""));get _centisecond(){return this.#a}set _centisecond(J){this.#a=J}get centisecond(){return parseInt(this._centisecond)}set centisecond(J){this._centisecond=J.toFixed()}#o=(kt(this,P),kt(this,me,void 0));get offsetFromGMT(){return this.#o}set offsetFromGMT(J){this.#o=J}get date(){return new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.centisecond*10)}constructor(){super(...arguments),kt(this,G)}},n})(),Tl=(()=>{var e,t,r,i,n,o,u;let l=[gt.packed("ShortFormDate")],p,h=[],_,m=Hr.typed(Uint8Array),A=[],S,O=[],k=[],E,v=[],N=[],T,j=[],R=[],V,ae=[],ne=[],de,P=[],Y=[],me,G=[],J=[],re,ve=[],We=[],_e;return class extends m{static{_=this}static{const W=typeof Symbol=="function"&&Symbol.metadata?Object.create(m[Symbol.metadata]??null):void 0;S=[(e=te).uint8.bind(e)],E=[(t=te).uint8.bind(t)],T=[(r=te).uint8.bind(r)],V=[(i=te).uint8.bind(i)],de=[(n=te).uint8.bind(n)],me=[(o=te).uint8.bind(o)],re=[(u=te).uint8.bind(u)],_e=[Qr],sr(this,null,S,{kind:"accessor",name:"year",static:!1,private:!1,access:{has:x=>"year"in x,get:x=>x.year,set:(x,X)=>{x.year=X}},metadata:W},O,k),sr(this,null,E,{kind:"accessor",name:"month",static:!1,private:!1,access:{has:x=>"month"in x,get:x=>x.month,set:(x,X)=>{x.month=X}},metadata:W},v,N),sr(this,null,T,{kind:"accessor",name:"day",static:!1,private:!1,access:{has:x=>"day"in x,get:x=>x.day,set:(x,X)=>{x.day=X}},metadata:W},j,R),sr(this,null,V,{kind:"accessor",name:"hour",static:!1,private:!1,access:{has:x=>"hour"in x,get:x=>x.hour,set:(x,X)=>{x.hour=X}},metadata:W},ae,ne),sr(this,null,de,{kind:"accessor",name:"minute",static:!1,private:!1,access:{has:x=>"minute"in x,get:x=>x.minute,set:(x,X)=>{x.minute=X}},metadata:W},P,Y),sr(this,null,me,{kind:"accessor",name:"second",static:!1,private:!1,access:{has:x=>"second"in x,get:x=>x.second,set:(x,X)=>{x.second=X}},metadata:W},G,J),sr(this,null,re,{kind:"accessor",name:"offsetFromGMT",static:!1,private:!1,access:{has:x=>"offsetFromGMT"in x,get:x=>x.offsetFromGMT,set:(x,X)=>{x.offsetFromGMT=X}},metadata:W},ve,We),sr(this,null,_e,{kind:"getter",name:"date",static:!1,private:!1,access:{has:x=>"date"in x,get:x=>x.date},metadata:W},null,A),sr(null,p={value:_},l,{kind:"class",name:_.name,metadata:W},null,h),_=p.value,W&&Object.defineProperty(_,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:W}),kt(_,h)}#e=(kt(this,A),kt(this,O,void 0));get year(){return this.#e}set year(W){this.#e=W}#t=(kt(this,k),kt(this,v,void 0));get month(){return this.#t}set month(W){this.#t=W}#r=(kt(this,N),kt(this,j,void 0));get day(){return this.#r}set day(W){this.#r=W}#i=(kt(this,R),kt(this,ae,void 0));get hour(){return this.#i}set hour(W){this.#i=W}#n=(kt(this,ne),kt(this,P,void 0));get minute(){return this.#n}set minute(W){this.#n=W}#s=(kt(this,Y),kt(this,G,void 0));get second(){return this.#s}set second(W){this.#s=W}#a=(kt(this,J),kt(this,ve,void 0));get offsetFromGMT(){return this.#a}set offsetFromGMT(W){this.#a=W}get date(){return new Date(1900+this.year,this.month-1,this.day,this.hour,this.minute,this.second)}constructor(){super(...arguments),kt(this,We)}},_})();var fs;(function(e){e[e.Hidden=1]="Hidden",e[e.Directory=2]="Directory",e[e.AssociatedFile=4]="AssociatedFile",e[e.EARContainsInfo=8]="EARContainsInfo",e[e.EARContainsPerms=16]="EARContainsPerms",e[e.FinalDirectoryRecordForFile=32]="FinalDirectoryRecordForFile"})(fs||(fs={}));var dt=function(e,t,r,i,n,o){function u(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var l=i.kind,p=l==="getter"?"get":l==="setter"?"set":"value",h=!t&&e?i.static?e:e.prototype:null,_=t||(h?Object.getOwnPropertyDescriptor(h,i.name):{}),m,A=!1,S=r.length-1;S>=0;S--){var O={};for(var k in i)O[k]=k==="access"?{}:i[k];for(var k in i.access)O.access[k]=i.access[k];O.addInitializer=function(v){if(A)throw new TypeError("Cannot add initializers after decoration has completed");o.push(u(v||null))};var E=(0,r[S])(l==="accessor"?{get:_.get,set:_.set}:_[p],O);if(l==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(m=u(E.get))&&(_.get=m),(m=u(E.set))&&(_.set=m),(m=u(E.init))&&n.unshift(m)}else(m=u(E))&&(l==="field"?n.unshift(m):_[p]=m)}h&&Object.defineProperty(h,i.name,_),A=!0},qe=function(e,t,r){for(var i=arguments.length>2,n=0;n<t.length;n++)r=i?t[n].call(e,r):t[n].call(e);return i?r:void 0},ar;(function(e){e[e.CE=17221]="CE",e[e.PD=20548]="PD",e[e.SP=21328]="SP",e[e.ST=21332]="ST",e[e.ER=17746]="ER",e[e.ES=17747]="ES",e[e.PX=20568]="PX",e[e.PN=20558]="PN",e[e.SL=21324]="SL",e[e.NM=20045]="NM",e[e.CL=17228]="CL",e[e.PL=20556]="PL",e[e.RE=21061]="RE",e[e.TF=21574]="TF",e[e.SF=21318]="SF",e[e.RR=21074]="RR"})(ar||(ar={}));let ur=(()=>{var e,t,r;let i=[gt.packed("SystemUseEntry")],n,o=[],u,l=Yr,p,h=[],_=[],m,A=[],S=[],O,k=[],E=[];return class extends l{static{u=this}static{const v=typeof Symbol=="function"&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;p=[(e=te).uint16.bind(e)],m=[(t=te).uint8.bind(t)],O=[(r=te).uint8.bind(r)],dt(this,null,p,{kind:"accessor",name:"signature",static:!1,private:!1,access:{has:N=>"signature"in N,get:N=>N.signature,set:(N,T)=>{N.signature=T}},metadata:v},h,_),dt(this,null,m,{kind:"accessor",name:"length",static:!1,private:!1,access:{has:N=>"length"in N,get:N=>N.length,set:(N,T)=>{N.length=T}},metadata:v},A,S),dt(this,null,O,{kind:"accessor",name:"suVersion",static:!1,private:!1,access:{has:N=>"suVersion"in N,get:N=>N.suVersion,set:(N,T)=>{N.suVersion=T}},metadata:v},k,E),dt(null,n={value:u},i,{kind:"class",name:u.name,metadata:v},null,o),u=n.value,v&&Object.defineProperty(u,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v}),qe(u,o)}#e=qe(this,h,void 0);get signature(){return this.#e}set signature(v){this.#e=v}get signatureString(){return Vr(new Uint8Array(this.buffer,this.byteOffset,2))}#t=(qe(this,_),qe(this,A,void 0));get length(){return this.#t}set length(v){this.#t=v}#r=(qe(this,S),qe(this,k,void 0));get suVersion(){return this.#r}set suVersion(v){this.#r=v}constructor(){super(...arguments),qe(this,E)}},u})(),xl=(()=>{var e,t,r;let i=[gt.packed("CEEntry")],n,o=[],u,l=ur,p,h=[],_=[],m,A=[],S=[],O,k=[],E=[];return class extends l{static{u=this}static{const v=typeof Symbol=="function"&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;p=[(e=te).uint64.bind(e)],m=[(t=te).uint64.bind(t)],O=[(r=te).uint64.bind(r)],dt(this,null,p,{kind:"accessor",name:"extent",static:!1,private:!1,access:{has:N=>"extent"in N,get:N=>N.extent,set:(N,T)=>{N.extent=T}},metadata:v},h,_),dt(this,null,m,{kind:"accessor",name:"offset",static:!1,private:!1,access:{has:N=>"offset"in N,get:N=>N.offset,set:(N,T)=>{N.offset=T}},metadata:v},A,S),dt(this,null,O,{kind:"accessor",name:"size",static:!1,private:!1,access:{has:N=>"size"in N,get:N=>N.size,set:(N,T)=>{N.size=T}},metadata:v},k,E),dt(null,n={value:u},i,{kind:"class",name:u.name,metadata:v},null,o),u=n.value,v&&Object.defineProperty(u,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v}),qe(u,o)}_entries=[];#e=qe(this,h,void 0);get extent(){return this.#e}set extent(v){this.#e=v}#t=(qe(this,_),qe(this,A,void 0));get offset(){return this.#t}set offset(v){this.#t=v}#r=(qe(this,S),qe(this,k,void 0));get size(){return this.#r}set size(v){this.#r=v}entries(){return this._entries||=jl(this.buffer,Number(this.extent*2048n+this.offset),this.size),this._entries}constructor(){super(...arguments),qe(this,E)}},u})(),e_=(()=>{let e=[gt.packed("PDEntry")],t,r=[],i,n=ur;return class extends n{static{i=this}static{const o=typeof Symbol=="function"&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;dt(null,t={value:i},e,{kind:"class",name:i.name,metadata:o},null,r),i=t.value,o&&Object.defineProperty(i,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),qe(i,r)}},i})(),Rl=(()=>{var e;let t=[gt.packed("SPEntry")],r,i=[],n,o=ur,u,l=[],p=[],h,_=[],m=[];return class extends o{static{n=this}static{const A=typeof Symbol=="function"&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;u=[te.uint8(2)],h=[(e=te).uint8.bind(e)],dt(this,null,u,{kind:"accessor",name:"magic",static:!1,private:!1,access:{has:S=>"magic"in S,get:S=>S.magic,set:(S,O)=>{S.magic=O}},metadata:A},l,p),dt(this,null,h,{kind:"accessor",name:"skip",static:!1,private:!1,access:{has:S=>"skip"in S,get:S=>S.skip,set:(S,O)=>{S.skip=O}},metadata:A},_,m),dt(null,r={value:n},t,{kind:"class",name:n.name,metadata:A},null,i),n=r.value,A&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:A}),qe(n,i)}#e=qe(this,l,void 0);get magic(){return this.#e}set magic(A){this.#e=A}checkMagic(){return this.magic[0]==190&&this.magic[1]==239}#t=(qe(this,p),qe(this,_,void 0));get skip(){return this.#t}set skip(A){this.#t=A}constructor(){super(...arguments),qe(this,m)}},n})(),zl=(()=>{let e=[gt.packed("STEntry")],t,r=[],i,n=ur;return class extends n{static{i=this}static{const o=typeof Symbol=="function"&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;dt(null,t={value:i},e,{kind:"class",name:i.name,metadata:o},null,r),i=t.value,o&&Object.defineProperty(i,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),qe(i,r)}},i})(),Ll=(()=>{var e,t,r,i;let n=[gt.packed("EREntry")],o,u=[],l,p=ur,h,_=[],m=[],A,S=[],O=[],k,E=[],v=[],N,T=[],j=[];return class extends p{static{l=this}static{const R=typeof Symbol=="function"&&Symbol.metadata?Object.create(p[Symbol.metadata]??null):void 0;h=[(e=te).uint8.bind(e)],A=[(t=te).uint8.bind(t)],k=[(r=te).uint8.bind(r)],N=[(i=te).uint8.bind(i)],dt(this,null,h,{kind:"accessor",name:"idLength",static:!1,private:!1,access:{has:V=>"idLength"in V,get:V=>V.idLength,set:(V,ae)=>{V.idLength=ae}},metadata:R},_,m),dt(this,null,A,{kind:"accessor",name:"descriptorLength",static:!1,private:!1,access:{has:V=>"descriptorLength"in V,get:V=>V.descriptorLength,set:(V,ae)=>{V.descriptorLength=ae}},metadata:R},S,O),dt(this,null,k,{kind:"accessor",name:"sourceLength",static:!1,private:!1,access:{has:V=>"sourceLength"in V,get:V=>V.sourceLength,set:(V,ae)=>{V.sourceLength=ae}},metadata:R},E,v),dt(this,null,N,{kind:"accessor",name:"extensionVersion",static:!1,private:!1,access:{has:V=>"extensionVersion"in V,get:V=>V.extensionVersion,set:(V,ae)=>{V.extensionVersion=ae}},metadata:R},T,j),dt(null,o={value:l},n,{kind:"class",name:l.name,metadata:R},null,u),l=o.value,R&&Object.defineProperty(l,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:R}),qe(l,u)}#e=qe(this,_,void 0);get idLength(){return this.#e}set idLength(R){this.#e=R}#t=(qe(this,m),qe(this,S,void 0));get descriptorLength(){return this.#t}set descriptorLength(R){this.#t=R}#r=(qe(this,O),qe(this,E,void 0));get sourceLength(){return this.#r}set sourceLength(R){this.#r=R}#i=(qe(this,v),qe(this,T,void 0));get extensionVersion(){return this.#i}set extensionVersion(R){this.#i=R}get extensionIdentifier(){return Vr(new Uint8Array(this.buffer,this.byteOffset+8,this.idLength))}get extensionDescriptor(){return Vr(new Uint8Array(this.buffer,this.byteOffset+8+this.idLength,this.descriptorLength))}get extensionSource(){return Vr(new Uint8Array(this.buffer,8+this.idLength+this.descriptorLength,this.sourceLength))}constructor(){super(...arguments),qe(this,j)}},l})(),t_=(()=>{var e;let t=[gt.packed("ESEntry")],r,i=[],n,o=ur,u,l=[],p=[];return class extends o{static{n=this}static{const h=typeof Symbol=="function"&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;u=[(e=te).uint8.bind(e)],dt(this,null,u,{kind:"accessor",name:"extensionSequence",static:!1,private:!1,access:{has:_=>"extensionSequence"in _,get:_=>_.extensionSequence,set:(_,m)=>{_.extensionSequence=m}},metadata:h},l,p),dt(null,r={value:n},t,{kind:"class",name:n.name,metadata:h},null,i),n=r.value,h&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h}),qe(n,i)}#e=qe(this,l,void 0);get extensionSequence(){return this.#e}set extensionSequence(h){this.#e=h}constructor(){super(...arguments),qe(this,p)}},n})(),Ml=(()=>{let e=[gt.packed("RREntry")],t,r=[],i,n=ur;return class extends n{static{i=this}static{const o=typeof Symbol=="function"&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;dt(null,t={value:i},e,{kind:"class",name:i.name,metadata:o},null,r),i=t.value,o&&Object.defineProperty(i,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),qe(i,r)}},i})(),Cl=(()=>{var e,t,r,i,n;let o=[gt.packed("PXEntry")],u,l=[],p,h=ur,_,m=[],A=[],S,O=[],k=[],E,v=[],N=[],T,j=[],R=[],V,ae=[],ne=[];return class extends h{static{p=this}static{const de=typeof Symbol=="function"&&Symbol.metadata?Object.create(h[Symbol.metadata]??null):void 0;_=[(e=te).uint64.bind(e)],S=[(t=te).uint64.bind(t)],E=[(r=te).uint64.bind(r)],T=[(i=te).uint64.bind(i)],V=[(n=te).uint64.bind(n)],dt(this,null,_,{kind:"accessor",name:"mode",static:!1,private:!1,access:{has:P=>"mode"in P,get:P=>P.mode,set:(P,Y)=>{P.mode=Y}},metadata:de},m,A),dt(this,null,S,{kind:"accessor",name:"nlinks",static:!1,private:!1,access:{has:P=>"nlinks"in P,get:P=>P.nlinks,set:(P,Y)=>{P.nlinks=Y}},metadata:de},O,k),dt(this,null,E,{kind:"accessor",name:"uid",static:!1,private:!1,access:{has:P=>"uid"in P,get:P=>P.uid,set:(P,Y)=>{P.uid=Y}},metadata:de},v,N),dt(this,null,T,{kind:"accessor",name:"gid",static:!1,private:!1,access:{has:P=>"gid"in P,get:P=>P.gid,set:(P,Y)=>{P.gid=Y}},metadata:de},j,R),dt(this,null,V,{kind:"accessor",name:"inode",static:!1,private:!1,access:{has:P=>"inode"in P,get:P=>P.inode,set:(P,Y)=>{P.inode=Y}},metadata:de},ae,ne),dt(null,u={value:p},o,{kind:"class",name:p.name,metadata:de},null,l),p=u.value,de&&Object.defineProperty(p,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:de}),qe(p,l)}#e=qe(this,m,void 0);get mode(){return this.#e}set mode(de){this.#e=de}#t=(qe(this,A),qe(this,O,void 0));get nlinks(){return this.#t}set nlinks(de){this.#t=de}#r=(qe(this,k),qe(this,v,void 0));get uid(){return this.#r}set uid(de){this.#r=de}#i=(qe(this,N),qe(this,j,void 0));get gid(){return this.#i}set gid(de){this.#i=de}#n=(qe(this,R),qe(this,ae,void 0));get inode(){return this.#n}set inode(de){this.#n=de}constructor(){super(...arguments),qe(this,ne)}},p})(),r_=(()=>{var e,t;let r=[gt.packed("PNEntry")],i,n=[],o,u=ur,l,p=[],h=[],_,m=[],A=[];return class extends u{static{o=this}static{const S=typeof Symbol=="function"&&Symbol.metadata?Object.create(u[Symbol.metadata]??null):void 0;l=[(e=te).uint64.bind(e)],_=[(t=te).uint64.bind(t)],dt(this,null,l,{kind:"accessor",name:"dev_high",static:!1,private:!1,access:{has:O=>"dev_high"in O,get:O=>O.dev_high,set:(O,k)=>{O.dev_high=k}},metadata:S},p,h),dt(this,null,_,{kind:"accessor",name:"dev_low",static:!1,private:!1,access:{has:O=>"dev_low"in O,get:O=>O.dev_low,set:(O,k)=>{O.dev_low=k}},metadata:S},m,A),dt(null,i={value:o},r,{kind:"class",name:o.name,metadata:S},null,n),o=i.value,S&&Object.defineProperty(o,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:S}),qe(o,n)}#e=qe(this,p,void 0);get dev_high(){return this.#e}set dev_high(S){this.#e=S}#t=(qe(this,h),qe(this,m,void 0));get dev_low(){return this.#t}set dev_low(S){this.#t=S}constructor(){super(...arguments),qe(this,A)}},o})(),qa=(()=>{var e;let t=[gt.packed("SLEntry")],r,i=[],n,o=ur,u,l=[],p=[];return class extends o{static{n=this}static{const h=typeof Symbol=="function"&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;u=[(e=te).uint8.bind(e)],dt(this,null,u,{kind:"accessor",name:"flags",static:!1,private:!1,access:{has:_=>"flags"in _,get:_=>_.flags,set:(_,m)=>{_.flags=m}},metadata:h},l,p),dt(null,r={value:n},t,{kind:"class",name:n.name,metadata:h},null,i),n=r.value,h&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h}),qe(n,i)}#e=qe(this,l,void 0);get flags(){return this.#e}set flags(h){this.#e=h}get continueFlag(){return this.flags&1}get componentRecords(){const h=[];let _=5;for(;_<this.length;){const m=new Qh(this.buffer,this.byteOffset+_);h.push(m),_+=m.length}return h}constructor(){super(...arguments),qe(this,p)}},n})();var kn;(function(e){e[e.CONTINUE=1]="CONTINUE",e[e.CURRENT=2]="CURRENT",e[e.PARENT=4]="PARENT"})(kn||(kn={}));let Pl=(()=>{var e;let t=[gt.packed("NMEntry")],r,i=[],n,o=ur,u,l=[],p=[];return class extends o{static{n=this}static{const h=typeof Symbol=="function"&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;u=[(e=te).uint8.bind(e)],dt(this,null,u,{kind:"accessor",name:"flags",static:!1,private:!1,access:{has:_=>"flags"in _,get:_=>_.flags,set:(_,m)=>{_.flags=m}},metadata:h},l,p),dt(null,r={value:n},t,{kind:"class",name:n.name,metadata:h},null,i),n=r.value,h&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h}),qe(n,i)}#e=qe(this,l,void 0);get flags(){return this.#e}set flags(h){this.#e=h}name(h){return h(new Uint8Array(this.buffer,this.byteOffset+5,this.length))}constructor(){super(...arguments),qe(this,p)}},n})(),Ha=(()=>{var e;let t=[gt.packed("CLEntry")],r,i=[],n,o=ur,u,l=[],p=[];return class extends o{static{n=this}static{const h=typeof Symbol=="function"&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;u=[(e=te).uint32.bind(e)],dt(this,null,u,{kind:"accessor",name:"childDirectoryLba",static:!1,private:!1,access:{has:_=>"childDirectoryLba"in _,get:_=>_.childDirectoryLba,set:(_,m)=>{_.childDirectoryLba=m}},metadata:h},l,p),dt(null,r={value:n},t,{kind:"class",name:n.name,metadata:h},null,i),n=r.value,h&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h}),qe(n,i)}#e=qe(this,l,void 0);get childDirectoryLba(){return this.#e}set childDirectoryLba(h){this.#e=h}constructor(){super(...arguments),qe(this,p)}},n})(),i_=(()=>{var e;let t=[gt.packed("PLEntry")],r,i=[],n,o=ur,u,l=[],p=[];return class extends o{static{n=this}static{const h=typeof Symbol=="function"&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;u=[(e=te).uint32.bind(e)],dt(this,null,u,{kind:"accessor",name:"parentDirectoryLba",static:!1,private:!1,access:{has:_=>"parentDirectoryLba"in _,get:_=>_.parentDirectoryLba,set:(_,m)=>{_.parentDirectoryLba=m}},metadata:h},l,p),dt(null,r={value:n},t,{kind:"class",name:n.name,metadata:h},null,i),n=r.value,h&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h}),qe(n,i)}#e=qe(this,l,void 0);get parentDirectoryLba(){return this.#e}set parentDirectoryLba(h){this.#e=h}constructor(){super(...arguments),qe(this,p)}},n})(),Bl=(()=>{let e=[gt.packed("REEntry")],t,r=[],i,n=ur;return class extends n{static{i=this}static{const o=typeof Symbol=="function"&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;dt(null,t={value:i},e,{kind:"class",name:i.name,metadata:o},null,r),i=t.value,o&&Object.defineProperty(i,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),qe(i,r)}},i})();var Rr;(function(e){e[e.CREATION=1]="CREATION",e[e.MODIFY=2]="MODIFY",e[e.ACCESS=4]="ACCESS",e[e.ATTRIBUTES=8]="ATTRIBUTES",e[e.BACKUP=16]="BACKUP",e[e.EXPIRATION=32]="EXPIRATION",e[e.EFFECTIVE=64]="EFFECTIVE",e[e.LONG_FORM=128]="LONG_FORM"})(Rr||(Rr={}));let Fl=(()=>{var e;let t=[gt.packed("TFEntry")],r,i=[],n,o=ur,u,l=[],p=[];return class extends o{static{n=this}static{const h=typeof Symbol=="function"&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;u=[(e=te).uint8.bind(e)],dt(this,null,u,{kind:"accessor",name:"flags",static:!1,private:!1,access:{has:_=>"flags"in _,get:_=>_.flags,set:(_,m)=>{_.flags=m}},metadata:h},l,p),dt(null,r={value:n},t,{kind:"class",name:n.name,metadata:h},null,i),n=r.value,h&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h}),qe(n,i)}#e=qe(this,l,void 0);get flags(){return this.#e}set flags(h){this.#e=h}_getDate(h){if(!(this.flags&h))return;let _=0;for(let O=0;O<h-1;O++)_+=this.flags&1<<O?1:0;const m=this.flags&Rr.LONG_FORM?hi:Tl,A=5+_*xt(m);return new m(this.buffer,this.byteOffset+A,xt(m)).date}get creation(){return this._getDate(Rr.CREATION)}get modify(){return this._getDate(Rr.MODIFY)}get access(){return this._getDate(Rr.ACCESS)}get backup(){return this._getDate(Rr.BACKUP)}get expiration(){return this._getDate(Rr.EXPIRATION)}get effective(){return this._getDate(Rr.EFFECTIVE)}constructor(){super(...arguments),qe(this,p)}},n})(),n_=(()=>{var e,t,r;let i=ur,n,o=[],u=[],l,p=[],h=[],_,m=[],A=[];return class extends i{static{const O=typeof Symbol=="function"&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;n=[(e=te).uint64.bind(e)],l=[(t=te).uint64.bind(t)],_=[(r=te).uint8.bind(r)],dt(this,null,n,{kind:"accessor",name:"virtualSizeHigh",static:!1,private:!1,access:{has:k=>"virtualSizeHigh"in k,get:k=>k.virtualSizeHigh,set:(k,E)=>{k.virtualSizeHigh=E}},metadata:O},o,u),dt(this,null,l,{kind:"accessor",name:"virtualSizeLow",static:!1,private:!1,access:{has:k=>"virtualSizeLow"in k,get:k=>k.virtualSizeLow,set:(k,E)=>{k.virtualSizeLow=E}},metadata:O},p,h),dt(this,null,_,{kind:"accessor",name:"tableDepth",static:!1,private:!1,access:{has:k=>"tableDepth"in k,get:k=>k.tableDepth,set:(k,E)=>{k.tableDepth=E}},metadata:O},m,A),O&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:O})}#e=qe(this,o,void 0);get virtualSizeHigh(){return this.#e}set virtualSizeHigh(O){this.#e=O}#t=(qe(this,u),qe(this,p,void 0));get virtualSizeLow(){return this.#t}set virtualSizeLow(O){this.#t=O}#r=(qe(this,h),qe(this,m,void 0));get tableDepth(){return this.#r}set tableDepth(O){this.#r=O}constructor(){super(...arguments),qe(this,A)}}})();const Ul={[ar.CE]:xl,[ar.PD]:e_,[ar.SP]:Rl,[ar.ST]:zl,[ar.ER]:Ll,[ar.ES]:t_,[ar.PX]:Cl,[ar.PN]:r_,[ar.SL]:qa,[ar.NM]:Pl,[ar.CL]:Ha,[ar.PL]:i_,[ar.RE]:Bl,[ar.TF]:Fl,[ar.SF]:n_,[ar.RR]:Ml};function jl(e,t,r){r-=4n;const i=[];for(;t<r;){const n=new ur(e,t),o=n.signature in Ul?new Ul[n.signature](e,t):n,u=o.length;if(!u)return i;if(t+=u,o instanceof zl)break;i.push(...o instanceof xl?o.entries():[o])}return i}class s_ extends Map{record;dotEntry;constructor(t){super(),this.record=t;let r=t.lba,i=r+t.dataLength;if(!(t.fileFlags&fs.Directory)){const o=t.suEntries.find(u=>u instanceof Ha);if(!o)throw new ReferenceError("No CL entry");r=o.childDirectoryLba*2048,i=1/0}const n=new Uint8Array(t.buffer);for(;r<i;){if(!n[r]){r++;continue}const u=new ds(t.buffer,r);u.rockRidgeOffset=t.rockRidgeOffset;const l=u.fileName;l!=="\0"&&l!==""&&(!u.hasRockRidge||!u.suEntries.filter(p=>p instanceof Bl).length)?this.set(l,u):i===1/0&&(i=r+u.dataLength),r+=u.length}this.dotEntry=new ds(t.buffer,t.lba),this.dotEntry.rockRidgeOffset=t.rockRidgeOffset}}var Nt=function(e,t,r){for(var i=arguments.length>2,n=0;n<t.length;n++)r=i?t[n].call(e,r):t[n].call(e);return i?r:void 0},Zt=function(e,t,r,i,n,o){function u(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var l=i.kind,p=l==="getter"?"get":l==="setter"?"set":"value",h=!t&&e?i.static?e:e.prototype:null,_=t||(h?Object.getOwnPropertyDescriptor(h,i.name):{}),m,A=!1,S=r.length-1;S>=0;S--){var O={};for(var k in i)O[k]=k==="access"?{}:i[k];for(var k in i.access)O.access[k]=i.access[k];O.addInitializer=function(v){if(A)throw new TypeError("Cannot add initializers after decoration has completed");o.push(u(v||null))};var E=(0,r[S])(l==="accessor"?{get:_.get,set:_.set}:_[p],O);if(l==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(m=u(E.get))&&(_.get=m),(m=u(E.set))&&(_.set=m),(m=u(E.init))&&n.unshift(m)}else(m=u(E))&&(l==="field"?n.unshift(m):_[p]=m)}h&&Object.defineProperty(h,i.name,_),A=!0};let ds=(()=>{var e,t,r,i,n,o,u,l,p,h,_,m;let A=[gt.packed("DirectoryRecord")],S,O=[],k,E=Yr,v=[],N,T=[],j=[],R,V=[],ae=[],ne,de=[],P=[],Y,me=[],G=[],J,re=[],ve=[],We,_e=[],W=[],x,X=[],se=[],ie,Le=[],je=[],Qe,He=[],ue=[],ye,be=[],ge=[],xe,$=[],Z=[],fe,Ne=[],Oe=[],Se,C=[],q=[],he,le=[],rt=[],Tt,at,It,I,d,y,z,H;return class extends E{static{k=this}static{const U=typeof Symbol=="function"&&Symbol.metadata?Object.create(E[Symbol.metadata]??null):void 0;N=[(e=te).uint8.bind(e)],R=[(t=te).uint8.bind(t)],ne=[(r=te).uint32.bind(r)],Y=[(i=te).uint32.bind(i)],J=[(n=te).uint32.bind(n)],We=[(o=te).uint32.bind(o)],x=[qr(Tl)],ie=[(u=te).uint8.bind(u)],Qe=[(l=te).uint8.bind(l)],ye=[(p=te).uint8.bind(p)],xe=[(h=te).uint16.bind(h)],fe=[(_=te).uint16.bind(_)],Se=[(m=te).uint8.bind(m)],he=[te.char(0,{countedBy:"identifierLength"})],Tt=[Qr],at=[Qr],It=[Qr],I=[Qr],d=[Qr],y=[Qr],z=[Qr],H=[Qr],Zt(this,null,N,{kind:"accessor",name:"length",static:!1,private:!1,access:{has:B=>"length"in B,get:B=>B.length,set:(B,Ce)=>{B.length=Ce}},metadata:U},T,j),Zt(this,null,R,{kind:"accessor",name:"extendedAttributeRecordLength",static:!1,private:!1,access:{has:B=>"extendedAttributeRecordLength"in B,get:B=>B.extendedAttributeRecordLength,set:(B,Ce)=>{B.extendedAttributeRecordLength=Ce}},metadata:U},V,ae),Zt(this,null,ne,{kind:"accessor",name:"_lba",static:!1,private:!1,access:{has:B=>"_lba"in B,get:B=>B._lba,set:(B,Ce)=>{B._lba=Ce}},metadata:U},de,P),Zt(this,null,Y,{kind:"accessor",name:"_lbaBE",static:!1,private:!1,access:{has:B=>"_lbaBE"in B,get:B=>B._lbaBE,set:(B,Ce)=>{B._lbaBE=Ce}},metadata:U},me,G),Zt(this,null,J,{kind:"accessor",name:"dataLength",static:!1,private:!1,access:{has:B=>"dataLength"in B,get:B=>B.dataLength,set:(B,Ce)=>{B.dataLength=Ce}},metadata:U},re,ve),Zt(this,null,We,{kind:"accessor",name:"dataLengthBE",static:!1,private:!1,access:{has:B=>"dataLengthBE"in B,get:B=>B.dataLengthBE,set:(B,Ce)=>{B.dataLengthBE=Ce}},metadata:U},_e,W),Zt(this,null,x,{kind:"accessor",name:"date",static:!1,private:!1,access:{has:B=>"date"in B,get:B=>B.date,set:(B,Ce)=>{B.date=Ce}},metadata:U},X,se),Zt(this,null,ie,{kind:"accessor",name:"fileFlags",static:!1,private:!1,access:{has:B=>"fileFlags"in B,get:B=>B.fileFlags,set:(B,Ce)=>{B.fileFlags=Ce}},metadata:U},Le,je),Zt(this,null,Qe,{kind:"accessor",name:"fileUnitSize",static:!1,private:!1,access:{has:B=>"fileUnitSize"in B,get:B=>B.fileUnitSize,set:(B,Ce)=>{B.fileUnitSize=Ce}},metadata:U},He,ue),Zt(this,null,ye,{kind:"accessor",name:"interleaveGapSize",static:!1,private:!1,access:{has:B=>"interleaveGapSize"in B,get:B=>B.interleaveGapSize,set:(B,Ce)=>{B.interleaveGapSize=Ce}},metadata:U},be,ge),Zt(this,null,xe,{kind:"accessor",name:"volumeSequenceNumber",static:!1,private:!1,access:{has:B=>"volumeSequenceNumber"in B,get:B=>B.volumeSequenceNumber,set:(B,Ce)=>{B.volumeSequenceNumber=Ce}},metadata:U},$,Z),Zt(this,null,fe,{kind:"accessor",name:"volumeSequenceNumberBE",static:!1,private:!1,access:{has:B=>"volumeSequenceNumberBE"in B,get:B=>B.volumeSequenceNumberBE,set:(B,Ce)=>{B.volumeSequenceNumberBE=Ce}},metadata:U},Ne,Oe),Zt(this,null,Se,{kind:"accessor",name:"identifierLength",static:!1,private:!1,access:{has:B=>"identifierLength"in B,get:B=>B.identifierLength,set:(B,Ce)=>{B.identifierLength=Ce}},metadata:U},C,q),Zt(this,null,he,{kind:"accessor",name:"_identifier",static:!1,private:!1,access:{has:B=>"_identifier"in B,get:B=>B._identifier,set:(B,Ce)=>{B._identifier=Ce}},metadata:U},le,rt),Zt(this,null,Tt,{kind:"getter",name:"fileName",static:!1,private:!1,access:{has:B=>"fileName"in B,get:B=>B.fileName},metadata:U},null,v),Zt(this,null,at,{kind:"getter",name:"isSymlink",static:!1,private:!1,access:{has:B=>"isSymlink"in B,get:B=>B.isSymlink},metadata:U},null,v),Zt(this,null,It,{kind:"getter",name:"symlinkPath",static:!1,private:!1,access:{has:B=>"symlinkPath"in B,get:B=>B.symlinkPath},metadata:U},null,v),Zt(this,null,I,{kind:"getter",name:"file",static:!1,private:!1,access:{has:B=>"file"in B,get:B=>B.file},metadata:U},null,v),Zt(this,null,d,{kind:"getter",name:"directory",static:!1,private:!1,access:{has:B=>"directory"in B,get:B=>B.directory},metadata:U},null,v),Zt(this,null,y,{kind:"getter",name:"suEntries",static:!1,private:!1,access:{has:B=>"suEntries"in B,get:B=>B.suEntries},metadata:U},null,v),Zt(this,null,z,{kind:"getter",name:"string",static:!1,private:!1,access:{has:B=>"string"in B,get:B=>B.string},metadata:U},null,v),Zt(this,null,H,{kind:"getter",name:"_rockRidgeFilename",static:!1,private:!1,access:{has:B=>"_rockRidgeFilename"in B,get:B=>B._rockRidgeFilename},metadata:U},null,v),Zt(null,S={value:k},A,{kind:"class",name:k.name,metadata:U},null,O),k=S.value,U&&Object.defineProperty(k,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:U}),Nt(k,O)}_kind=Nt(this,v);rockRidgeOffset=-1;get hasRockRidge(){return this.rockRidgeOffset>-1}#e=Nt(this,T,void 0);get length(){return this.#e}set length(U){this.#e=U}#t=(Nt(this,j),Nt(this,V,void 0));get extendedAttributeRecordLength(){return this.#t}set extendedAttributeRecordLength(U){this.#t=U}#r=(Nt(this,ae),Nt(this,de,void 0));get _lba(){return this.#r}set _lba(U){this.#r=U}#i=(Nt(this,P),Nt(this,me,void 0));get _lbaBE(){return this.#i}set _lbaBE(U){this.#i=U}get lba(){return this._lba*2048}set lba(U){if(!Number.isInteger(U/2048))throw ee("EINVAL","Invalid LBA value");this._lba=U/2048}#n=(Nt(this,G),Nt(this,re,void 0));get dataLength(){return this.#n}set dataLength(U){this.#n=U}#s=(Nt(this,ve),Nt(this,_e,void 0));get dataLengthBE(){return this.#s}set dataLengthBE(U){this.#s=U}#a=(Nt(this,W),Nt(this,X,void 0));get date(){return this.#a}set date(U){this.#a=U}get recordingDate(){return this.date.date}#o=(Nt(this,se),Nt(this,Le,void 0));get fileFlags(){return this.#o}set fileFlags(U){this.#o=U}#c=(Nt(this,je),Nt(this,He,void 0));get fileUnitSize(){return this.#c}set fileUnitSize(U){this.#c=U}#l=(Nt(this,ue),Nt(this,be,void 0));get interleaveGapSize(){return this.#l}set interleaveGapSize(U){this.#l=U}#u=(Nt(this,ge),Nt(this,$,void 0));get volumeSequenceNumber(){return this.#u}set volumeSequenceNumber(U){this.#u=U}#f=(Nt(this,Z),Nt(this,Ne,void 0));get volumeSequenceNumberBE(){return this.#f}set volumeSequenceNumberBE(U){this.#f=U}#d=(Nt(this,Oe),Nt(this,C,void 0));get identifierLength(){return this.#d}set identifierLength(U){this.#d=U}#h=(Nt(this,q),Nt(this,le,void 0));get _identifier(){return this.#h}set _identifier(U){this.#h=U}get identifier(){return this._decode(new Uint8Array(this.buffer,this.byteOffset+Bo(this,"_identifier"),this.identifierLength))}get fileName(){if(this._rockRidgeFilename)return this._rockRidgeFilename;if(this.isDirectory())return this.identifier;const U=this.identifier.indexOf(";");return U===-1?this.identifier:this.identifier.at(-1)==="."?this.identifier.slice(0,U-1):this.identifier.slice(0,U)}isDirectory(){let U=!!(this.fileFlags&fs.Directory);return!U&&this.hasRockRidge&&(U=this.suEntries.filter(B=>B instanceof Ha).length>0),U}get isSymlink(){return this.hasRockRidge&&this.suEntries.filter(U=>U instanceof qa).length>0}get symlinkPath(){let U="";for(const B of this.suEntries){if(!(B instanceof qa))continue;const Ce=B.componentRecords;for(const wt of Ce){const ze=wt.flags;ze&rn.CURRENT?U+="./":ze&rn.PARENT?U+="../":ze&rn.ROOT?U+="/":(U+=wt.content(this._decode),ze&rn.CONTINUE||(U+="/"))}if(!B.continueFlag)break}return U.endsWith("/")?U.slice(0,-1):U}get file(){if(!this.buffer)throw Kt(ee("ENODATA"));if(this.isDirectory())throw Kt(ee("EISDIR"));return new Uint8Array(this.buffer,this.lba,this.dataLength)}get directory(){if(!this.buffer)throw Kt(ee("ENODATA"));if(!this.isDirectory())throw Kt(ee("ENOTDIR"));return new s_(this)}get suEntries(){if(!this.buffer)throw Kt(ee("ENODATA"));let U=xt(this);return U%2===1&&U++,U+=this.rockRidgeOffset,jl(this.buffer,U,BigInt(this.length))}get string(){if(!this.buffer)throw Kt(ee("ENODATA"));return this._decode(new Uint8Array(this.buffer,this.byteOffset))}_decoder=Nt(this,rt);get _decode(){return this._decoder||=new TextDecoder(this._kind=="Joliet"?"utf-16be":"utf-8"),U=>this._decoder.decode(U).toLowerCase()}get _rockRidgeFilename(){if(!this.hasRockRidge)return null;const U=this.suEntries.filter(Ce=>Ce instanceof Pl);if(!U.length||U[0].flags&(kn.CURRENT|kn.PARENT))return null;let B="";for(const Ce of U)if(B+=Ce.name(this._decode),!(Ce.flags&kn.CONTINUE))break;return B}},k})();var pt=function(e,t,r,i,n,o){function u(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var l=i.kind,p=l==="getter"?"get":l==="setter"?"set":"value",h=!t&&e?i.static?e:e.prototype:null,_=t||(h?Object.getOwnPropertyDescriptor(h,i.name):{}),m,A=!1,S=r.length-1;S>=0;S--){var O={};for(var k in i)O[k]=k==="access"?{}:i[k];for(var k in i.access)O.access[k]=i.access[k];O.addInitializer=function(v){if(A)throw new TypeError("Cannot add initializers after decoration has completed");o.push(u(v||null))};var E=(0,r[S])(l==="accessor"?{get:_.get,set:_.set}:_[p],O);if(l==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(m=u(E.get))&&(_.get=m),(m=u(E.set))&&(_.set=m),(m=u(E.init))&&n.unshift(m)}else(m=u(E))&&(l==="field"?n.unshift(m):_[p]=m)}h&&Object.defineProperty(h,i.name,_),A=!0},$e=function(e,t,r){for(var i=arguments.length>2,n=0;n<t.length;n++)r=i?t[n].call(e,r):t[n].call(e);return i?r:void 0};const a_="IEEE_P1282";var Mi;(function(e){e[e.BootRecord=0]="BootRecord",e[e.Primary=1]="Primary",e[e.Supplementary=2]="Supplementary",e[e.Partition=3]="Partition",e[e.SetTerminator=255]="SetTerminator"})(Mi||(Mi={}));let o_=(()=>{var e,t,r;let i=[gt.packed("VolumeDescriptor")],n,o=[],u,l=Yr,p,h=[],_=[],m,A=[],S=[],O,k=[],E=[],v,N=[],T=[];return class extends l{static{u=this}static{const j=typeof Symbol=="function"&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;p=[(e=te).uint8.bind(e)],m=[te.char(5)],O=[(t=te).uint8.bind(t)],v=[(r=te).char.bind(r)],pt(this,null,p,{kind:"accessor",name:"type",static:!1,private:!1,access:{has:R=>"type"in R,get:R=>R.type,set:(R,V)=>{R.type=V}},metadata:j},h,_),pt(this,null,m,{kind:"accessor",name:"standardIdentifier",static:!1,private:!1,access:{has:R=>"standardIdentifier"in R,get:R=>R.standardIdentifier,set:(R,V)=>{R.standardIdentifier=V}},metadata:j},A,S),pt(this,null,O,{kind:"accessor",name:"version",static:!1,private:!1,access:{has:R=>"version"in R,get:R=>R.version,set:(R,V)=>{R.version=V}},metadata:j},k,E),pt(this,null,v,{kind:"accessor",name:"__padding__7",static:!1,private:!1,access:{has:R=>"__padding__7"in R,get:R=>R.__padding__7,set:(R,V)=>{R.__padding__7=V}},metadata:j},N,T),pt(null,n={value:u},i,{kind:"class",name:u.name,metadata:j},null,o),u=n.value,j&&Object.defineProperty(u,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:j}),$e(u,o)}#e=$e(this,h,void 0);get type(){return this.#e}set type(j){this.#e=j}#t=($e(this,_),$e(this,A,""));get standardIdentifier(){return this.#t}set standardIdentifier(j){this.#t=j}#r=($e(this,S),$e(this,k,void 0));get version(){return this.#r}set version(j){this.#r=j}#i=($e(this,E),$e(this,N,void 0));get __padding__7(){return this.#i}set __padding__7(j){this.#i=j}constructor(){super(...arguments),$e(this,T)}},u})(),Wl=(()=>{var e,t,r,i,n,o,u,l,p,h,_,m,A,S,O;let k=[gt.packed("PrimaryVolumeDescriptor")],E,v=[],N,T=o_,j,R=[],V=[],ae,ne=[],de=[],P,Y=[],me=[],G,J=[],re=[],ve,We=[],_e=[],W,x=[],X=[],se,ie=[],Le=[],je,Qe=[],He=[],ue,ye=[],be=[],ge,xe=[],$=[],Z,fe=[],Ne=[],Oe,Se=[],C=[],q,he=[],le=[],rt,Tt=[],at=[],It,I=[],d=[],y,z=[],H=[],U,B=[],Ce=[],wt,ze=[],et=[],Ae,Ee=[],ot=[],Rt,Ge=[],Be=[],we,st=[],Jr=[],M,F=[],Me=[],Re,Ze=[],Pt=[],fr,Ci=[],wr=[],Pi,on=[],Bi=[],Fi,vi=[],Si=[],ki,mt=[],Lr=[],er,Ui=[],Zr=[],cn,gs=[],Dn=[],ft,ws=[],w=[],nt,bs=[],Es=[],Vt,ji=[],Nn=[],Tn,vs=[],Ss=[];return class extends T{static{N=this}static{const ke=typeof Symbol=="function"&&Symbol.metadata?Object.create(T[Symbol.metadata]??null):void 0;j=[te.char(32)],ae=[te.char(32)],P=[te.char(8)],G=[(e=te).uint32.bind(e)],ve=[(t=te).uint32.bind(t)],W=[te.char(32)],se=[(r=te).uint16.bind(r)],je=[(i=te).uint16.bind(i)],ue=[(n=te).uint16.bind(n)],ge=[(o=te).uint16.bind(o)],Z=[(u=te).uint16.bind(u)],Oe=[(l=te).uint16.bind(l)],q=[(p=te).uint32.bind(p)],rt=[(h=te).uint32.bind(h)],It=[(_=te).uint32.bind(_)],y=[(m=te).uint32.bind(m)],U=[(A=te).uint32.bind(A)],wt=[(S=te).uint32.bind(S)],Ae=[qr(ds)],Rt=[te.char(128)],we=[te.char(128)],M=[te.char(128)],Re=[te.char(128)],fr=[te.char(38)],Pi=[te.char(36)],Fi=[te.char(37)],ki=[qr(hi)],er=[qr(hi)],cn=[qr(hi)],ft=[qr(hi)],nt=[(O=te).uint8.bind(O)],Vt=[te.char(512)],Tn=[te.char(653)],pt(this,null,j,{kind:"accessor",name:"_systemIdentifier",static:!1,private:!1,access:{has:K=>"_systemIdentifier"in K,get:K=>K._systemIdentifier,set:(K,Ve)=>{K._systemIdentifier=Ve}},metadata:ke},R,V),pt(this,null,ae,{kind:"accessor",name:"_volumeIdentifier",static:!1,private:!1,access:{has:K=>"_volumeIdentifier"in K,get:K=>K._volumeIdentifier,set:(K,Ve)=>{K._volumeIdentifier=Ve}},metadata:ke},ne,de),pt(this,null,P,{kind:"accessor",name:"__padding__72",static:!1,private:!1,access:{has:K=>"__padding__72"in K,get:K=>K.__padding__72,set:(K,Ve)=>{K.__padding__72=Ve}},metadata:ke},Y,me),pt(this,null,G,{kind:"accessor",name:"volumeSpaceSize",static:!1,private:!1,access:{has:K=>"volumeSpaceSize"in K,get:K=>K.volumeSpaceSize,set:(K,Ve)=>{K.volumeSpaceSize=Ve}},metadata:ke},J,re),pt(this,null,ve,{kind:"accessor",name:"_volumeSpaceSizeBE",static:!1,private:!1,access:{has:K=>"_volumeSpaceSizeBE"in K,get:K=>K._volumeSpaceSizeBE,set:(K,Ve)=>{K._volumeSpaceSizeBE=Ve}},metadata:ke},We,_e),pt(this,null,W,{kind:"accessor",name:"escapeSequence",static:!1,private:!1,access:{has:K=>"escapeSequence"in K,get:K=>K.escapeSequence,set:(K,Ve)=>{K.escapeSequence=Ve}},metadata:ke},x,X),pt(this,null,se,{kind:"accessor",name:"volumeSetSize",static:!1,private:!1,access:{has:K=>"volumeSetSize"in K,get:K=>K.volumeSetSize,set:(K,Ve)=>{K.volumeSetSize=Ve}},metadata:ke},ie,Le),pt(this,null,je,{kind:"accessor",name:"_volumeSetSizeBE",static:!1,private:!1,access:{has:K=>"_volumeSetSizeBE"in K,get:K=>K._volumeSetSizeBE,set:(K,Ve)=>{K._volumeSetSizeBE=Ve}},metadata:ke},Qe,He),pt(this,null,ue,{kind:"accessor",name:"volumeSequenceNumber",static:!1,private:!1,access:{has:K=>"volumeSequenceNumber"in K,get:K=>K.volumeSequenceNumber,set:(K,Ve)=>{K.volumeSequenceNumber=Ve}},metadata:ke},ye,be),pt(this,null,ge,{kind:"accessor",name:"_volumeSequenceNumberBE",static:!1,private:!1,access:{has:K=>"_volumeSequenceNumberBE"in K,get:K=>K._volumeSequenceNumberBE,set:(K,Ve)=>{K._volumeSequenceNumberBE=Ve}},metadata:ke},xe,$),pt(this,null,Z,{kind:"accessor",name:"logicalBlockSize",static:!1,private:!1,access:{has:K=>"logicalBlockSize"in K,get:K=>K.logicalBlockSize,set:(K,Ve)=>{K.logicalBlockSize=Ve}},metadata:ke},fe,Ne),pt(this,null,Oe,{kind:"accessor",name:"_logicalBlockSizeBE",static:!1,private:!1,access:{has:K=>"_logicalBlockSizeBE"in K,get:K=>K._logicalBlockSizeBE,set:(K,Ve)=>{K._logicalBlockSizeBE=Ve}},metadata:ke},Se,C),pt(this,null,q,{kind:"accessor",name:"pathTableSize",static:!1,private:!1,access:{has:K=>"pathTableSize"in K,get:K=>K.pathTableSize,set:(K,Ve)=>{K.pathTableSize=Ve}},metadata:ke},he,le),pt(this,null,rt,{kind:"accessor",name:"_pathTableSizeBE",static:!1,private:!1,access:{has:K=>"_pathTableSizeBE"in K,get:K=>K._pathTableSizeBE,set:(K,Ve)=>{K._pathTableSizeBE=Ve}},metadata:ke},Tt,at),pt(this,null,It,{kind:"accessor",name:"locationOfTypeLPathTable",static:!1,private:!1,access:{has:K=>"locationOfTypeLPathTable"in K,get:K=>K.locationOfTypeLPathTable,set:(K,Ve)=>{K.locationOfTypeLPathTable=Ve}},metadata:ke},I,d),pt(this,null,y,{kind:"accessor",name:"locationOfOptionalTypeLPathTable",static:!1,private:!1,access:{has:K=>"locationOfOptionalTypeLPathTable"in K,get:K=>K.locationOfOptionalTypeLPathTable,set:(K,Ve)=>{K.locationOfOptionalTypeLPathTable=Ve}},metadata:ke},z,H),pt(this,null,U,{kind:"accessor",name:"_locationOfTypeMPathTable",static:!1,private:!1,access:{has:K=>"_locationOfTypeMPathTable"in K,get:K=>K._locationOfTypeMPathTable,set:(K,Ve)=>{K._locationOfTypeMPathTable=Ve}},metadata:ke},B,Ce),pt(this,null,wt,{kind:"accessor",name:"_locationOfOptionalTypeMPathTable",static:!1,private:!1,access:{has:K=>"_locationOfOptionalTypeMPathTable"in K,get:K=>K._locationOfOptionalTypeMPathTable,set:(K,Ve)=>{K._locationOfOptionalTypeMPathTable=Ve}},metadata:ke},ze,et),pt(this,null,Ae,{kind:"accessor",name:"_root",static:!1,private:!1,access:{has:K=>"_root"in K,get:K=>K._root,set:(K,Ve)=>{K._root=Ve}},metadata:ke},Ee,ot),pt(this,null,Rt,{kind:"accessor",name:"_volumeSetIdentifier",static:!1,private:!1,access:{has:K=>"_volumeSetIdentifier"in K,get:K=>K._volumeSetIdentifier,set:(K,Ve)=>{K._volumeSetIdentifier=Ve}},metadata:ke},Ge,Be),pt(this,null,we,{kind:"accessor",name:"_publisherIdentifier",static:!1,private:!1,access:{has:K=>"_publisherIdentifier"in K,get:K=>K._publisherIdentifier,set:(K,Ve)=>{K._publisherIdentifier=Ve}},metadata:ke},st,Jr),pt(this,null,M,{kind:"accessor",name:"_dataPreparerIdentifier",static:!1,private:!1,access:{has:K=>"_dataPreparerIdentifier"in K,get:K=>K._dataPreparerIdentifier,set:(K,Ve)=>{K._dataPreparerIdentifier=Ve}},metadata:ke},F,Me),pt(this,null,Re,{kind:"accessor",name:"_applicationIdentifier",static:!1,private:!1,access:{has:K=>"_applicationIdentifier"in K,get:K=>K._applicationIdentifier,set:(K,Ve)=>{K._applicationIdentifier=Ve}},metadata:ke},Ze,Pt),pt(this,null,fr,{kind:"accessor",name:"_copyrightFileIdentifier",static:!1,private:!1,access:{has:K=>"_copyrightFileIdentifier"in K,get:K=>K._copyrightFileIdentifier,set:(K,Ve)=>{K._copyrightFileIdentifier=Ve}},metadata:ke},Ci,wr),pt(this,null,Pi,{kind:"accessor",name:"_abstractFileIdentifier",static:!1,private:!1,access:{has:K=>"_abstractFileIdentifier"in K,get:K=>K._abstractFileIdentifier,set:(K,Ve)=>{K._abstractFileIdentifier=Ve}},metadata:ke},on,Bi),pt(this,null,Fi,{kind:"accessor",name:"_bibliographicFileIdentifier",static:!1,private:!1,access:{has:K=>"_bibliographicFileIdentifier"in K,get:K=>K._bibliographicFileIdentifier,set:(K,Ve)=>{K._bibliographicFileIdentifier=Ve}},metadata:ke},vi,Si),pt(this,null,ki,{kind:"accessor",name:"volumeCreationDate",static:!1,private:!1,access:{has:K=>"volumeCreationDate"in K,get:K=>K.volumeCreationDate,set:(K,Ve)=>{K.volumeCreationDate=Ve}},metadata:ke},mt,Lr),pt(this,null,er,{kind:"accessor",name:"volumeModificationDate",static:!1,private:!1,access:{has:K=>"volumeModificationDate"in K,get:K=>K.volumeModificationDate,set:(K,Ve)=>{K.volumeModificationDate=Ve}},metadata:ke},Ui,Zr),pt(this,null,cn,{kind:"accessor",name:"volumeExpirationDate",static:!1,private:!1,access:{has:K=>"volumeExpirationDate"in K,get:K=>K.volumeExpirationDate,set:(K,Ve)=>{K.volumeExpirationDate=Ve}},metadata:ke},gs,Dn),pt(this,null,ft,{kind:"accessor",name:"volumeEffectiveDate",static:!1,private:!1,access:{has:K=>"volumeEffectiveDate"in K,get:K=>K.volumeEffectiveDate,set:(K,Ve)=>{K.volumeEffectiveDate=Ve}},metadata:ke},ws,w),pt(this,null,nt,{kind:"accessor",name:"fileStructureVersion",static:!1,private:!1,access:{has:K=>"fileStructureVersion"in K,get:K=>K.fileStructureVersion,set:(K,Ve)=>{K.fileStructureVersion=Ve}},metadata:ke},bs,Es),pt(this,null,Vt,{kind:"accessor",name:"applicationUsed",static:!1,private:!1,access:{has:K=>"applicationUsed"in K,get:K=>K.applicationUsed,set:(K,Ve)=>{K.applicationUsed=Ve}},metadata:ke},ji,Nn),pt(this,null,Tn,{kind:"accessor",name:"reserved",static:!1,private:!1,access:{has:K=>"reserved"in K,get:K=>K.reserved,set:(K,Ve)=>{K.reserved=Ve}},metadata:ke},vs,Ss),pt(null,E={value:N},k,{kind:"class",name:N.name,metadata:ke},null,v),N=E.value,ke&&Object.defineProperty(N,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:ke}),$e(N,v)}name;constructor(ke=bt(ee("EINVAL","VolumeDescriptor.name is required")),...K){super(...K),$e(this,Ss),this.name=ke,this._root=new ds(this.buffer,this.byteOffset+156),this._root._kind=this.name;const Ve=this._root.directory.dotEntry;if(Ve.suEntries.length&&Ve.suEntries[0]instanceof Rl&&Ve.suEntries[0].checkMagic()){for(const Sr of Ve.suEntries.slice(1))if(Sr instanceof Ml||Sr instanceof Ll&&Sr.extensionIdentifier===a_){this._root.rockRidgeOffset=Ve.suEntries[0].skip;break}}this._root.rockRidgeOffset>-1&&(Ve._dir=void 0)}_decoder;_decode(ke){return this._decoder||=new TextDecoder(this.name=="Joilet"?"utf-16be":"utf-8"),this._decoder.decode(ke).toLowerCase()}#e=$e(this,R,new Uint8Array(32));get _systemIdentifier(){return this.#e}set _systemIdentifier(ke){this.#e=ke}get systemIdentifier(){return this._decode(this._systemIdentifier)}#t=($e(this,V),$e(this,ne,new Uint8Array(32)));get _volumeIdentifier(){return this.#t}set _volumeIdentifier(ke){this.#t=ke}get volumeIdentifier(){return this._decode(this._volumeIdentifier)}#r=($e(this,de),$e(this,Y,new Uint8Array(8)));get __padding__72(){return this.#r}set __padding__72(ke){this.#r=ke}#i=($e(this,me),$e(this,J,void 0));get volumeSpaceSize(){return this.#i}set volumeSpaceSize(ke){this.#i=ke}#n=($e(this,re),$e(this,We,void 0));get _volumeSpaceSizeBE(){return this.#n}set _volumeSpaceSizeBE(ke){this.#n=ke}#s=($e(this,_e),$e(this,x,new Uint8Array(32)));get escapeSequence(){return this.#s}set escapeSequence(ke){this.#s=ke}#a=($e(this,X),$e(this,ie,void 0));get volumeSetSize(){return this.#a}set volumeSetSize(ke){this.#a=ke}#o=($e(this,Le),$e(this,Qe,void 0));get _volumeSetSizeBE(){return this.#o}set _volumeSetSizeBE(ke){this.#o=ke}#c=($e(this,He),$e(this,ye,void 0));get volumeSequenceNumber(){return this.#c}set volumeSequenceNumber(ke){this.#c=ke}#l=($e(this,be),$e(this,xe,void 0));get _volumeSequenceNumberBE(){return this.#l}set _volumeSequenceNumberBE(ke){this.#l=ke}#u=($e(this,$),$e(this,fe,void 0));get logicalBlockSize(){return this.#u}set logicalBlockSize(ke){this.#u=ke}#f=($e(this,Ne),$e(this,Se,void 0));get _logicalBlockSizeBE(){return this.#f}set _logicalBlockSizeBE(ke){this.#f=ke}#d=($e(this,C),$e(this,he,void 0));get pathTableSize(){return this.#d}set pathTableSize(ke){this.#d=ke}#h=($e(this,le),$e(this,Tt,void 0));get _pathTableSizeBE(){return this.#h}set _pathTableSizeBE(ke){this.#h=ke}#_=($e(this,at),$e(this,I,void 0));get locationOfTypeLPathTable(){return this.#_}set locationOfTypeLPathTable(ke){this.#_=ke}#m=($e(this,d),$e(this,z,void 0));get locationOfOptionalTypeLPathTable(){return this.#m}set locationOfOptionalTypeLPathTable(ke){this.#m=ke}#y=($e(this,H),$e(this,B,void 0));get _locationOfTypeMPathTable(){return this.#y}set _locationOfTypeMPathTable(ke){this.#y=ke}get locationOfTypeMPathTable(){return new DataView(this.buffer).getUint32(148)}#p=($e(this,Ce),$e(this,ze,void 0));get _locationOfOptionalTypeMPathTable(){return this.#p}set _locationOfOptionalTypeMPathTable(ke){this.#p=ke}locationOfOptionalTypeMPathTable(){return new DataView(this.buffer).getUint32(152)}#g=($e(this,et),$e(this,Ee,void 0));get _root(){return this.#g}set _root(ke){this.#g=ke}get root(){return this._root&&this._root.buffer?this._root:this._root}#w=($e(this,ot),$e(this,Ge,new Uint8Array(128)));get _volumeSetIdentifier(){return this.#w}set _volumeSetIdentifier(ke){this.#w=ke}get volumeSetIdentifier(){return this._decode(this._volumeIdentifier)}#b=($e(this,Be),$e(this,st,new Uint8Array(128)));get _publisherIdentifier(){return this.#b}set _publisherIdentifier(ke){this.#b=ke}get publisherIdentifier(){return this._decode(this._publisherIdentifier)}#E=($e(this,Jr),$e(this,F,new Uint8Array(128)));get _dataPreparerIdentifier(){return this.#E}set _dataPreparerIdentifier(ke){this.#E=ke}get dataPreparerIdentifier(){return this._decode(this._dataPreparerIdentifier)}#v=($e(this,Me),$e(this,Ze,new Uint8Array(128)));get _applicationIdentifier(){return this.#v}set _applicationIdentifier(ke){this.#v=ke}get applicationIdentifier(){return this._decode(this._applicationIdentifier)}#S=($e(this,Pt),$e(this,Ci,new Uint8Array(38)));get _copyrightFileIdentifier(){return this.#S}set _copyrightFileIdentifier(ke){this.#S=ke}get copyrightFileIdentifier(){return this._decode(this._copyrightFileIdentifier)}#k=($e(this,wr),$e(this,on,new Uint8Array(36)));get _abstractFileIdentifier(){return this.#k}set _abstractFileIdentifier(ke){this.#k=ke}get abstractFileIdentifier(){return this._decode(this._abstractFileIdentifier)}#I=($e(this,Bi),$e(this,vi,new Uint8Array(37)));get _bibliographicFileIdentifier(){return this.#I}set _bibliographicFileIdentifier(ke){this.#I=ke}get bibliographicFileIdentifier(){return this._decode(this._bibliographicFileIdentifier)}#O=($e(this,Si),$e(this,mt,new hi));get volumeCreationDate(){return this.#O}set volumeCreationDate(ke){this.#O=ke}#A=($e(this,Lr),$e(this,Ui,new hi));get volumeModificationDate(){return this.#A}set volumeModificationDate(ke){this.#A=ke}#D=($e(this,Zr),$e(this,gs,new hi));get volumeExpirationDate(){return this.#D}set volumeExpirationDate(ke){this.#D=ke}#N=($e(this,Dn),$e(this,ws,new hi));get volumeEffectiveDate(){return this.#N}set volumeEffectiveDate(ke){this.#N=ke}#T=($e(this,w),$e(this,bs,void 0));get fileStructureVersion(){return this.#T}set fileStructureVersion(ke){this.#T=ke}#x=($e(this,Es),$e(this,ji,new Uint8Array(512)));get applicationUsed(){return this.#x}set applicationUsed(ke){this.#x=ke}#R=($e(this,Nn),$e(this,vs,new Uint8Array(653)));get reserved(){return this.#R}set reserved(ke){this.#R=ke}toString(){return`${this.name} CD-ROM
				System id: ${this.systemIdentifier}
				Volume id: ${this.volumeIdentifier}
				Volume set id: ${this.volumeSetIdentifier}
				Publisher id: ${this.publisherIdentifier}
				Data preparer id: ${this.dataPreparerIdentifier}
				Application id: ${this.applicationIdentifier}
				Copyright file id: ${this.copyrightFileIdentifier}
				Abstract file id: ${this.abstractFileIdentifier}
				Bibliographic file id: ${this.bibliographicFileIdentifier}
				Volume set size: ${this.volumeSetSize}
				Volume sequence number: ${this.volumeSequenceNumber}
				Logical block size: ${this.logicalBlockSize}
				Volume size: ${this.volumeSpaceSize}`.replaceAll("	","")}},N})();class Dp extends Ol(Al(ci)){data;pvd;constructor(t){super(543781743,"iso9660"),this.data=t;let r;for(let i=16*2048,n=!1;i<t.length&&!n;i+=2048)switch(t[i]){case Mi.Primary:r?.type==Mi.Supplementary?Ln("iso9660: Skipping primary volume descriptor at 0x"+i.toString(16)):(Cr("iso9660: Found primary volume descriptor at 0x"+i.toString(16)),r=new Wl("ISO9660",t.buffer,i));break;case Mi.Supplementary:{const o=new Wl("Joliet",t.buffer,i);if(o.type!==Mi.Supplementary)throw lo(ee("EIO","iso9660: Supplementary volume descriptor signature mismatch (something is very wrong!)"));if(o.escapeSequence[0]!==37||o.escapeSequence[1]!==47||![64,67,69].includes(o.escapeSequence[2]))throw ee("EIO","Unrecognized escape sequence for supplementary volume descriptor: "+oo(o.escapeSequence));Cr("iso9660: Found supplementary volume descriptor at 0x"+i.toString(16)),r=o;break}case Mi.SetTerminator:Cr("iso9660: Found set terminator at 0x"+i.toString(16)),n=!0;break}if(!r)throw ee("EIO","iso9660: unable to find a suitable volume descriptor");un("iso9660: Using volume descriptor at 0x"+r.byteOffset.toString(16)),this.pvd=r}usage(){return{totalSpace:this.data.byteLength,freeSpace:0}}statSync(t){const r=this._getDirectoryRecord(t);if(!r)throw ee("ENOENT");return this._get(t,r)}readdirSync(t){const r=this._getDirectoryRecord(t);if(!r)throw ee("ENOENT");if(r.isDirectory())return Array.from(r.directory.keys());throw ee("ENOTDIR")}readSync(t,r,i,n){const o=this._getDirectoryRecord(t);if(!o)throw ee("ENOENT");if(o.isDirectory())throw ee("EISDIR");r.set(o.file.subarray(i,n))}_getDirectoryRecord(t){if(t==="/")return this.pvd.root;let r=this.pvd.root;for(const i of t.split("/").slice(1))if(!r.isDirectory()||(r=r.directory.get(i),!r))return;return r}_get(t,r){if(r.isSymlink){const p=Or(t,r.symlinkPath),h=this._getDirectoryRecord(p);return h?this._get(p,h):void 0}let i=365;const n=r.recordingDate.getTime();let o=n,u=n,l=n;if(r.hasRockRidge)for(const p of r.suEntries){if(p instanceof Cl){i=Number(p.mode);continue}if(!(p instanceof Fl))continue;const h=p.flags;h&Rr.ACCESS&&(o=p.access.getTime()),h&Rr.MODIFY&&(u=p.modify.getTime()),h&Rr.CREATION&&(l=p.creation.getTime())}return i&=365,new Ot({mode:i|(r.isDirectory()?At:br),size:r.dataLength,atimeMs:o,mtimeMs:u,ctimeMs:l})}}var zr=Uint8Array,nn=Uint16Array,c_=Int32Array,$l=new zr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Vl=new zr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),l_=new zr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Gl=function(e,t){for(var r=new nn(31),i=0;i<31;++i)r[i]=t+=1<<e[i-1];for(var n=new c_(r[30]),i=1;i<30;++i)for(var o=r[i];o<r[i+1];++o)n[o]=o-r[i]<<5|i;return{b:r,r:n}},ql=Gl($l,2),Hl=ql.b,u_=ql.r;Hl[28]=258,u_[258]=28;for(var f_=Gl(Vl,0),d_=f_.b,Ya=new nn(32768),$t=0;$t<32768;++$t){var Ei=($t&43690)>>1|($t&21845)<<1;Ei=(Ei&52428)>>2|(Ei&13107)<<2,Ei=(Ei&61680)>>4|(Ei&3855)<<4,Ya[$t]=((Ei&65280)>>8|(Ei&255)<<8)>>1}for(var In=(function(e,t,r){for(var i=e.length,n=0,o=new nn(t);n<i;++n)e[n]&&++o[e[n]-1];var u=new nn(t);for(n=1;n<t;++n)u[n]=u[n-1]+o[n-1]<<1;var l;if(r){l=new nn(1<<t);var p=15-t;for(n=0;n<i;++n)if(e[n])for(var h=n<<4|e[n],_=t-e[n],m=u[e[n]-1]++<<_,A=m|(1<<_)-1;m<=A;++m)l[Ya[m]>>p]=h}else for(l=new nn(i),n=0;n<i;++n)e[n]&&(l[n]=Ya[u[e[n]-1]++]>>15-e[n]);return l}),On=new zr(288),$t=0;$t<144;++$t)On[$t]=8;for(var $t=144;$t<256;++$t)On[$t]=9;for(var $t=256;$t<280;++$t)On[$t]=7;for(var $t=280;$t<288;++$t)On[$t]=8;for(var Yl=new zr(32),$t=0;$t<32;++$t)Yl[$t]=5;var h_=In(On,9,1),__=In(Yl,5,1),Ka=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Wr=function(e,t,r){var i=t/8|0;return(e[i]|e[i+1]<<8)>>(t&7)&r},Xa=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},m_=function(e){return(e+7)/8|0},y_=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new zr(e.subarray(t,r))},p_=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],_i=function(e,t,r){var i=new Error(t||p_[e]);if(i.code=e,Error.captureStackTrace&&Error.captureStackTrace(i,_i),!r)throw i;return i},g_=function(e,t,r,i){var n=e.length,o=0;if(!n||t.f&&!t.l)return r||new zr(0);var u=!r,l=u||t.i!=2,p=t.i;u&&(r=new zr(n*3));var h=function(ge){var xe=r.length;if(ge>xe){var $=new zr(Math.max(xe*2,ge));$.set(r),r=$}},_=t.f||0,m=t.p||0,A=t.b||0,S=t.l,O=t.d,k=t.m,E=t.n,v=n*8;do{if(!S){_=Wr(e,m,1);var N=Wr(e,m+1,3);if(m+=3,N)if(N==1)S=h_,O=__,k=9,E=5;else if(N==2){var V=Wr(e,m,31)+257,ae=Wr(e,m+10,15)+4,ne=V+Wr(e,m+5,31)+1;m+=14;for(var de=new zr(ne),P=new zr(19),Y=0;Y<ae;++Y)P[l_[Y]]=Wr(e,m+Y*3,7);m+=ae*3;for(var me=Ka(P),G=(1<<me)-1,J=In(P,me,1),Y=0;Y<ne;){var re=J[Wr(e,m,G)];m+=re&15;var T=re>>4;if(T<16)de[Y++]=T;else{var ve=0,We=0;for(T==16?(We=3+Wr(e,m,3),m+=2,ve=de[Y-1]):T==17?(We=3+Wr(e,m,7),m+=3):T==18&&(We=11+Wr(e,m,127),m+=7);We--;)de[Y++]=ve}}var _e=de.subarray(0,V),W=de.subarray(V);k=Ka(_e),E=Ka(W),S=In(_e,k,1),O=In(W,E,1)}else _i(1);else{var T=m_(m)+4,j=e[T-4]|e[T-3]<<8,R=T+j;if(R>n){p&&_i(0);break}l&&h(A+j),r.set(e.subarray(T,R),A),t.b=A+=j,t.p=m=R*8,t.f=_;continue}if(m>v){p&&_i(0);break}}l&&h(A+131072);for(var x=(1<<k)-1,X=(1<<E)-1,se=m;;se=m){var ve=S[Xa(e,m)&x],ie=ve>>4;if(m+=ve&15,m>v){p&&_i(0);break}if(ve||_i(2),ie<256)r[A++]=ie;else if(ie==256){se=m,S=null;break}else{var Le=ie-254;if(ie>264){var Y=ie-257,je=$l[Y];Le=Wr(e,m,(1<<je)-1)+Hl[Y],m+=je}var Qe=O[Xa(e,m)&X],He=Qe>>4;Qe||_i(3),m+=Qe&15;var W=d_[He];if(He>3){var je=Vl[He];W+=Xa(e,m)&(1<<je)-1,m+=je}if(m>v){p&&_i(0);break}l&&h(A+131072);var ue=A+Le;if(A<W){var ye=o-W,be=Math.min(W,ue);for(ye+A<0&&_i(3);A<be;++A)r[A]=i[ye+A]}for(;A<ue;++A)r[A]=r[A-W]}}t.l=S,t.p=se,t.b=A,t.f=_,S&&(_=1,t.m=k,t.d=O,t.n=E)}while(!_);return A!=r.length&&u?y_(r,0,A):r.subarray(0,A)},w_=new zr(0);function b_(e,t){return g_(e,{i:2},t,t)}var E_=typeof TextDecoder<"u"&&new TextDecoder,v_=0;try{E_.decode(w_,{stream:!0}),v_=1}catch{}var sn;(function(e){e[e.STORED=0]="STORED",e[e.SHRUNK=1]="SHRUNK",e[e.REDUCED_1=2]="REDUCED_1",e[e.REDUCED_2=3]="REDUCED_2",e[e.REDUCED_3=4]="REDUCED_3",e[e.REDUCED_4=5]="REDUCED_4",e[e.IMPLODE=6]="IMPLODE",e[e.DEFLATE=8]="DEFLATE",e[e.DEFLATE64=9]="DEFLATE64",e[e.TERSE_OLD=10]="TERSE_OLD",e[e.BZIP2=12]="BZIP2",e[e.LZMA=14]="LZMA",e[e.TERSE_NEW=18]="TERSE_NEW",e[e.LZ77=19]="LZ77",e[e.WAVPACK=97]="WAVPACK",e[e.PPMD=98]="PPMD"})(sn||(sn={}));const S_={[sn.DEFLATE](e){return b_(e)},[sn.STORED](e,t,r){return e.subarray(0,t)}};function Kl(e){return new Date((e>>25&127)+1980,(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(e&31)*2)}const k_=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","_","_","_","","","","","","","","","+","+","","","+","+","-","-","+","-","+","","","+","+","-","-","","-","+","","","","","","","i","","","","+","+","_","_","","","_","","","","","","","","","","","","","","","","","","","_","","","","","","","","","","","","_"," "];async function hs(e,t,r,i){if(i===0)return"";const n=await e.get(r,i);return t?Vr(n):[...n].map(o=>o>127?k_[o-128]:String.fromCharCode(o)).join("")}var ht=function(e,t,r,i,n,o){function u(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var l=i.kind,p=l==="getter"?"get":l==="setter"?"set":"value",h=!t&&e?i.static?e:e.prototype:null,_=t||(h?Object.getOwnPropertyDescriptor(h,i.name):{}),m,A=!1,S=r.length-1;S>=0;S--){var O={};for(var k in i)O[k]=k==="access"?{}:i[k];for(var k in i.access)O.access[k]=i.access[k];O.addInitializer=function(v){if(A)throw new TypeError("Cannot add initializers after decoration has completed");o.push(u(v||null))};var E=(0,r[S])(l==="accessor"?{get:_.get,set:_.set}:_[p],O);if(l==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(m=u(E.get))&&(_.get=m),(m=u(E.set))&&(_.set=m),(m=u(E.init))&&n.unshift(m)}else(m=u(E))&&(l==="field"?n.unshift(m):_[p]=m)}h&&Object.defineProperty(h,i.name,_),A=!0},Ue=function(e,t,r){for(var i=arguments.length>2,n=0;n<t.length;n++)r=i?t[n].call(e,r):t[n].call(e);return i?r:void 0},Xl;(function(e){e[e.MSDOS=0]="MSDOS",e[e.AMIGA=1]="AMIGA",e[e.OPENVMS=2]="OPENVMS",e[e.UNIX=3]="UNIX",e[e.VM_CMS=4]="VM_CMS",e[e.ATARI_ST=5]="ATARI_ST",e[e.OS2_HPFS=6]="OS2_HPFS",e[e.MAC=7]="MAC",e[e.Z_SYSTEM=8]="Z_SYSTEM",e[e.CP_M=9]="CP_M",e[e.NTFS=10]="NTFS",e[e.MVS=11]="MVS",e[e.VSE=12]="VSE",e[e.ACORN_RISC=13]="ACORN_RISC",e[e.VFAT=14]="VFAT",e[e.ALT_MVS=15]="ALT_MVS",e[e.BEOS=16]="BEOS",e[e.TANDEM=17]="TANDEM",e[e.OS_400=18]="OS_400",e[e.OSX=19]="OSX"})(Xl||(Xl={}));let Jl=(()=>{var e,t,r,i,n,o,u,l,p,h;let _=[gt.packed("LocalFileHeader")],m,A=[],S,O=Hr.typed(Uint8Array),k,E=[],v=[],N,T=[],j=[],R,V=[],ae=[],ne,de=[],P=[],Y,me=[],G=[],J,re=[],ve=[],We,_e=[],W=[],x,X=[],se=[],ie,Le=[],je=[],Qe,He=[],ue=[];var ye=class extends O{static{S=this}static{const be=typeof Symbol=="function"&&Symbol.metadata?Object.create(O[Symbol.metadata]??null):void 0;k=[(e=te).uint32.bind(e)],N=[(t=te).uint16.bind(t)],R=[(r=te).uint16.bind(r)],ne=[(i=te).uint16.bind(i)],Y=[(n=te).uint32.bind(n)],J=[(o=te).uint32.bind(o)],We=[(u=te).uint32.bind(u)],x=[(l=te).uint32.bind(l)],ie=[(p=te).uint16.bind(p)],Qe=[(h=te).uint16.bind(h)],ht(this,null,k,{kind:"accessor",name:"signature",static:!1,private:!1,access:{has:ge=>"signature"in ge,get:ge=>ge.signature,set:(ge,xe)=>{ge.signature=xe}},metadata:be},E,v),ht(this,null,N,{kind:"accessor",name:"versionNeeded",static:!1,private:!1,access:{has:ge=>"versionNeeded"in ge,get:ge=>ge.versionNeeded,set:(ge,xe)=>{ge.versionNeeded=xe}},metadata:be},T,j),ht(this,null,R,{kind:"accessor",name:"flags",static:!1,private:!1,access:{has:ge=>"flags"in ge,get:ge=>ge.flags,set:(ge,xe)=>{ge.flags=xe}},metadata:be},V,ae),ht(this,null,ne,{kind:"accessor",name:"compressionMethod",static:!1,private:!1,access:{has:ge=>"compressionMethod"in ge,get:ge=>ge.compressionMethod,set:(ge,xe)=>{ge.compressionMethod=xe}},metadata:be},de,P),ht(this,null,Y,{kind:"accessor",name:"datetime",static:!1,private:!1,access:{has:ge=>"datetime"in ge,get:ge=>ge.datetime,set:(ge,xe)=>{ge.datetime=xe}},metadata:be},me,G),ht(this,null,J,{kind:"accessor",name:"crc32",static:!1,private:!1,access:{has:ge=>"crc32"in ge,get:ge=>ge.crc32,set:(ge,xe)=>{ge.crc32=xe}},metadata:be},re,ve),ht(this,null,We,{kind:"accessor",name:"compressedSize",static:!1,private:!1,access:{has:ge=>"compressedSize"in ge,get:ge=>ge.compressedSize,set:(ge,xe)=>{ge.compressedSize=xe}},metadata:be},_e,W),ht(this,null,x,{kind:"accessor",name:"uncompressedSize",static:!1,private:!1,access:{has:ge=>"uncompressedSize"in ge,get:ge=>ge.uncompressedSize,set:(ge,xe)=>{ge.uncompressedSize=xe}},metadata:be},X,se),ht(this,null,ie,{kind:"accessor",name:"nameLength",static:!1,private:!1,access:{has:ge=>"nameLength"in ge,get:ge=>ge.nameLength,set:(ge,xe)=>{ge.nameLength=xe}},metadata:be},Le,je),ht(this,null,Qe,{kind:"accessor",name:"extraLength",static:!1,private:!1,access:{has:ge=>"extraLength"in ge,get:ge=>ge.extraLength,set:(ge,xe)=>{ge.extraLength=xe}},metadata:be},He,ue),ht(null,m={value:S},_,{kind:"class",name:S.name,metadata:be},null,A),ye=S=m.value,be&&Object.defineProperty(S,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:be}),Ue(S,A)}_source;#e=Ue(this,E,void 0);get signature(){return this.#e}set signature(be){this.#e=be}check(){if(this.signature!==67324752)throw ee("EINVAL","Invalid Zip file: Local file header has invalid signature: "+this.signature)}#t=(Ue(this,v),Ue(this,T,void 0));get versionNeeded(){return this.#t}set versionNeeded(be){this.#t=be}#r=(Ue(this,j),Ue(this,V,void 0));get flags(){return this.#r}set flags(be){this.#r=be}#i=(Ue(this,ae),Ue(this,de,void 0));get compressionMethod(){return this.#i}set compressionMethod(be){this.#i=be}#n=(Ue(this,P),Ue(this,me,void 0));get datetime(){return this.#n}set datetime(be){this.#n=be}get lastModified(){return Kl(this.datetime)}#s=(Ue(this,G),Ue(this,re,void 0));get crc32(){return this.#s}set crc32(be){this.#s=be}#a=(Ue(this,ve),Ue(this,_e,void 0));get compressedSize(){return this.#a}set compressedSize(be){this.#a=be}#o=(Ue(this,W),Ue(this,X,void 0));get uncompressedSize(){return this.#o}set uncompressedSize(be){this.#o=be}#c=(Ue(this,se),Ue(this,Le,void 0));get nameLength(){return this.#c}set nameLength(be){this.#c=be}#l=(Ue(this,je),Ue(this,He,void 0));get extraLength(){return this.#l}set extraLength(be){this.#l=be}name=Ue(this,ue);extra;get size(){return ye.size+this.nameLength+this.extraLength}get useUTF8(){return!!(this.flags&2048)}static async from(be,ge){const xe=await be.get(ge,ye.size),$=new ye(xe.buffer,xe.byteOffset);return $._source=be,ge+=ye.size,$.name=await hs(be,$.useUTF8,ge,$.nameLength),ge+=$.nameLength,$.extra=await be.get(ge,$.extraLength),ge+=$.extraLength,$}};return ye=S})();(()=>{var e,t;let r=[gt.packed("ExtraDataRecord")],i,n=[],o,u=Hr.typed(Uint8Array),l,p=[],h=[],_,m=[],A=[];var S=class extends u{static{o=this}static{const O=typeof Symbol=="function"&&Symbol.metadata?Object.create(u[Symbol.metadata]??null):void 0;l=[(e=te).uint32.bind(e)],_=[(t=te).uint32.bind(t)],ht(this,null,l,{kind:"accessor",name:"signature",static:!1,private:!1,access:{has:k=>"signature"in k,get:k=>k.signature,set:(k,E)=>{k.signature=E}},metadata:O},p,h),ht(this,null,_,{kind:"accessor",name:"length",static:!1,private:!1,access:{has:k=>"length"in k,get:k=>k.length,set:(k,E)=>{k.length=E}},metadata:O},m,A),ht(null,i={value:o},r,{kind:"class",name:o.name,metadata:O},null,n),S=o=i.value,O&&Object.defineProperty(o,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:O}),Ue(o,n)}_source;#e=Ue(this,p,void 0);get signature(){return this.#e}set signature(O){this.#e=O}check(){if(this.signature!=134630224)throw ee("EINVAL","Invalid archive extra data record signature: "+this.signature)}#t=(Ue(this,h),Ue(this,m,void 0));get length(){return this.#t}set length(O){this.#t=O}extraField=Ue(this,A);static async from(O,k){const E=await O.get(k,S.size),v=new S(E.buffer,E.byteOffset);return v._source=O,k+=S.size,v.extraField=await O.get(k,v.length),v}};return S=o})();let I_=(()=>{var e,t,r,i,n,o,u,l,p,h,_,m,A,S,O,k,E;let v=[gt.packed("FileEntry")],N,T=[],j,R=Hr.typed(Uint8Array),V,ae=[],ne=[],de,P=[],Y=[],me,G=[],J=[],re,ve=[],We=[],_e,W=[],x=[],X,se=[],ie=[],Le,je=[],Qe=[],He,ue=[],ye=[],be,ge=[],xe=[],$,Z=[],fe=[],Ne,Oe=[],Se=[],C,q=[],he=[],le,rt=[],Tt=[],at,It=[],I=[],d,y=[],z=[],H,U=[],B=[],Ce,wt=[],ze=[];var et=class extends R{static{j=this}static{const Ae=typeof Symbol=="function"&&Symbol.metadata?Object.create(R[Symbol.metadata]??null):void 0;V=[(e=te).uint32.bind(e)],de=[(t=te).uint8.bind(t)],me=[(r=te).uint8.bind(r)],re=[(i=te).uint16.bind(i)],_e=[(n=te).uint16.bind(n)],X=[(o=te).uint16.bind(o)],Le=[(u=te).uint32.bind(u)],He=[(l=te).uint32.bind(l)],be=[(p=te).uint32.bind(p)],$=[(h=te).uint32.bind(h)],Ne=[(_=te).uint16.bind(_)],C=[(m=te).uint16.bind(m)],le=[(A=te).uint16.bind(A)],at=[(S=te).uint16.bind(S)],d=[(O=te).uint16.bind(O)],H=[(k=te).uint32.bind(k)],Ce=[(E=te).uint32.bind(E)],ht(this,null,V,{kind:"accessor",name:"signature",static:!1,private:!1,access:{has:Ee=>"signature"in Ee,get:Ee=>Ee.signature,set:(Ee,ot)=>{Ee.signature=ot}},metadata:Ae},ae,ne),ht(this,null,de,{kind:"accessor",name:"zipVersion",static:!1,private:!1,access:{has:Ee=>"zipVersion"in Ee,get:Ee=>Ee.zipVersion,set:(Ee,ot)=>{Ee.zipVersion=ot}},metadata:Ae},P,Y),ht(this,null,me,{kind:"accessor",name:"attributeCompat",static:!1,private:!1,access:{has:Ee=>"attributeCompat"in Ee,get:Ee=>Ee.attributeCompat,set:(Ee,ot)=>{Ee.attributeCompat=ot}},metadata:Ae},G,J),ht(this,null,re,{kind:"accessor",name:"versionNeeded",static:!1,private:!1,access:{has:Ee=>"versionNeeded"in Ee,get:Ee=>Ee.versionNeeded,set:(Ee,ot)=>{Ee.versionNeeded=ot}},metadata:Ae},ve,We),ht(this,null,_e,{kind:"accessor",name:"flag",static:!1,private:!1,access:{has:Ee=>"flag"in Ee,get:Ee=>Ee.flag,set:(Ee,ot)=>{Ee.flag=ot}},metadata:Ae},W,x),ht(this,null,X,{kind:"accessor",name:"compressionMethod",static:!1,private:!1,access:{has:Ee=>"compressionMethod"in Ee,get:Ee=>Ee.compressionMethod,set:(Ee,ot)=>{Ee.compressionMethod=ot}},metadata:Ae},se,ie),ht(this,null,Le,{kind:"accessor",name:"datetime",static:!1,private:!1,access:{has:Ee=>"datetime"in Ee,get:Ee=>Ee.datetime,set:(Ee,ot)=>{Ee.datetime=ot}},metadata:Ae},je,Qe),ht(this,null,He,{kind:"accessor",name:"crc32",static:!1,private:!1,access:{has:Ee=>"crc32"in Ee,get:Ee=>Ee.crc32,set:(Ee,ot)=>{Ee.crc32=ot}},metadata:Ae},ue,ye),ht(this,null,be,{kind:"accessor",name:"compressedSize",static:!1,private:!1,access:{has:Ee=>"compressedSize"in Ee,get:Ee=>Ee.compressedSize,set:(Ee,ot)=>{Ee.compressedSize=ot}},metadata:Ae},ge,xe),ht(this,null,$,{kind:"accessor",name:"uncompressedSize",static:!1,private:!1,access:{has:Ee=>"uncompressedSize"in Ee,get:Ee=>Ee.uncompressedSize,set:(Ee,ot)=>{Ee.uncompressedSize=ot}},metadata:Ae},Z,fe),ht(this,null,Ne,{kind:"accessor",name:"nameLength",static:!1,private:!1,access:{has:Ee=>"nameLength"in Ee,get:Ee=>Ee.nameLength,set:(Ee,ot)=>{Ee.nameLength=ot}},metadata:Ae},Oe,Se),ht(this,null,C,{kind:"accessor",name:"extraLength",static:!1,private:!1,access:{has:Ee=>"extraLength"in Ee,get:Ee=>Ee.extraLength,set:(Ee,ot)=>{Ee.extraLength=ot}},metadata:Ae},q,he),ht(this,null,le,{kind:"accessor",name:"commentLength",static:!1,private:!1,access:{has:Ee=>"commentLength"in Ee,get:Ee=>Ee.commentLength,set:(Ee,ot)=>{Ee.commentLength=ot}},metadata:Ae},rt,Tt),ht(this,null,at,{kind:"accessor",name:"startDisk",static:!1,private:!1,access:{has:Ee=>"startDisk"in Ee,get:Ee=>Ee.startDisk,set:(Ee,ot)=>{Ee.startDisk=ot}},metadata:Ae},It,I),ht(this,null,d,{kind:"accessor",name:"internalAttributes",static:!1,private:!1,access:{has:Ee=>"internalAttributes"in Ee,get:Ee=>Ee.internalAttributes,set:(Ee,ot)=>{Ee.internalAttributes=ot}},metadata:Ae},y,z),ht(this,null,H,{kind:"accessor",name:"externalAttributes",static:!1,private:!1,access:{has:Ee=>"externalAttributes"in Ee,get:Ee=>Ee.externalAttributes,set:(Ee,ot)=>{Ee.externalAttributes=ot}},metadata:Ae},U,B),ht(this,null,Ce,{kind:"accessor",name:"headerRelativeOffset",static:!1,private:!1,access:{has:Ee=>"headerRelativeOffset"in Ee,get:Ee=>Ee.headerRelativeOffset,set:(Ee,ot)=>{Ee.headerRelativeOffset=ot}},metadata:Ae},wt,ze),ht(null,N={value:j},v,{kind:"class",name:j.name,metadata:Ae},null,T),et=j=N.value,Ae&&Object.defineProperty(j,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:Ae}),Ue(j,T)}_source;#e=Ue(this,ae,void 0);get signature(){return this.#e}set signature(Ae){this.#e=Ae}check(){if(this.signature!=33639248)throw ee("EINVAL","Invalid Zip file: Central directory record has invalid signature: "+this.signature)}#t=(Ue(this,ne),Ue(this,P,void 0));get zipVersion(){return this.#t}set zipVersion(Ae){this.#t=Ae}#r=(Ue(this,Y),Ue(this,G,void 0));get attributeCompat(){return this.#r}set attributeCompat(Ae){this.#r=Ae}#i=(Ue(this,J),Ue(this,ve,void 0));get versionNeeded(){return this.#i}set versionNeeded(Ae){this.#i=Ae}#n=(Ue(this,We),Ue(this,W,void 0));get flag(){return this.#n}set flag(Ae){this.#n=Ae}get useUTF8(){return!!(this.flag&2048)}get isEncrypted(){return!!(this.flag&1)}#s=(Ue(this,x),Ue(this,se,void 0));get compressionMethod(){return this.#s}set compressionMethod(Ae){this.#s=Ae}#a=(Ue(this,ie),Ue(this,je,void 0));get datetime(){return this.#a}set datetime(Ae){this.#a=Ae}get lastModified(){return Kl(this.datetime)}#o=(Ue(this,Qe),Ue(this,ue,void 0));get crc32(){return this.#o}set crc32(Ae){this.#o=Ae}#c=(Ue(this,ye),Ue(this,ge,void 0));get compressedSize(){return this.#c}set compressedSize(Ae){this.#c=Ae}#l=(Ue(this,xe),Ue(this,Z,void 0));get uncompressedSize(){return this.#l}set uncompressedSize(Ae){this.#l=Ae}#u=(Ue(this,fe),Ue(this,Oe,void 0));get nameLength(){return this.#u}set nameLength(Ae){this.#u=Ae}#f=(Ue(this,Se),Ue(this,q,void 0));get extraLength(){return this.#f}set extraLength(Ae){this.#f=Ae}#d=(Ue(this,he),Ue(this,rt,void 0));get commentLength(){return this.#d}set commentLength(Ae){this.#d=Ae}#h=(Ue(this,Tt),Ue(this,It,void 0));get startDisk(){return this.#h}set startDisk(Ae){this.#h=Ae}#_=(Ue(this,I),Ue(this,y,void 0));get internalAttributes(){return this.#_}set internalAttributes(Ae){this.#_=Ae}#m=(Ue(this,z),Ue(this,U,void 0));get externalAttributes(){return this.#m}set externalAttributes(Ae){this.#m=Ae}#y=(Ue(this,B),Ue(this,wt,void 0));get headerRelativeOffset(){return this.#y}set headerRelativeOffset(Ae){this.#y=Ae}name=Ue(this,ze);extra;comment;get size(){return xt(et)+this.nameLength+this.extraLength+this.commentLength}get isDirectory(){return!!(this.externalAttributes&16)||this.name.at(-1)=="/"}get isFile(){return!this.isDirectory}async loadContents(){const Ae=await this._source.get(this.headerRelativeOffset,xt(Jl)),{compressionMethod:Ee,size:ot,name:Rt}=new Jl(Ae.buffer,Ae.byteOffset),Ge=await this._source.get(this.headerRelativeOffset+ot,this.compressedSize),Be=S_[Ee];if(typeof Be!="function"){const we=Ee in sn?sn[Ee]:Ee.toString();throw ee("EINVAL",`Invalid compression method on file "${Rt}": ${we}`)}this.contents=Be(Ge,this.compressedSize,this.uncompressedSize,this.flag)}contents;get data(){return this.contents}static async from(Ae,Ee){const ot=await Ae.get(Ee,et.size),Rt=new et(ot.buffer,ot.byteOffset);return Rt._source=Ae,Ee+=et.size,Rt.name=await hs(Ae,Rt.useUTF8,Ee,Rt.nameLength),Ee+=Rt.nameLength,Rt.extra=await Ae.get(Ee,Rt.extraLength),Ee+=Rt.extraLength,Rt.comment=await hs(Ae,Rt.useUTF8,Ee,Rt.commentLength),Rt}};return et=j})();(()=>{var e,t;let r=[gt.packed("DigitalSignature")],i,n=[],o,u=Hr.typed(Uint8Array),l,p=[],h=[],_,m=[],A=[];var S=class extends u{static{o=this}static{const O=typeof Symbol=="function"&&Symbol.metadata?Object.create(u[Symbol.metadata]??null):void 0;l=[(e=te).uint32.bind(e)],_=[(t=te).uint16.bind(t)],ht(this,null,l,{kind:"accessor",name:"signature",static:!1,private:!1,access:{has:k=>"signature"in k,get:k=>k.signature,set:(k,E)=>{k.signature=E}},metadata:O},p,h),ht(this,null,_,{kind:"accessor",name:"size",static:!1,private:!1,access:{has:k=>"size"in k,get:k=>k.size,set:(k,E)=>{k.size=E}},metadata:O},m,A),ht(null,i={value:o},r,{kind:"class",name:o.name,metadata:O},null,n),S=o=i.value,O&&Object.defineProperty(o,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:O}),Ue(o,n)}_source;#e=Ue(this,p,void 0);get signature(){return this.#e}set signature(O){this.#e=O}check(){if(this.signature!=84233040)throw ee("EINVAL","Invalid digital signature signature: "+this.signature)}#t=(Ue(this,h),Ue(this,m,void 0));get size(){return this.#t}set size(O){this.#t=O}signatureData=Ue(this,A);static async from(O,k){const E=await O.get(k,S.size),v=new S(E.buffer,E.byteOffset);return v._source=O,k+=S.size,v.signatureData=await O.get(k,v.size),v}};return S=o})();let Zl=(()=>{var e,t,r,i,n,o,u,l;let p=[gt.packed("Header")],h,_=[],m,A=Hr.typed(Uint8Array),S,O=[],k=[],E,v=[],N=[],T,j=[],R=[],V,ae=[],ne=[],de,P=[],Y=[],me,G=[],J=[],re,ve=[],We=[],_e,W=[],x=[];return class extends A{static{m=this}static{const X=typeof Symbol=="function"&&Symbol.metadata?Object.create(A[Symbol.metadata]??null):void 0;S=[(e=te).uint32.bind(e)],E=[(t=te).uint16.bind(t)],T=[(r=te).uint16.bind(r)],V=[(i=te).uint16.bind(i)],de=[(n=te).uint16.bind(n)],me=[(o=te).uint32.bind(o)],re=[(u=te).uint32.bind(u)],_e=[(l=te).uint16.bind(l)],ht(this,null,S,{kind:"accessor",name:"signature",static:!1,private:!1,access:{has:se=>"signature"in se,get:se=>se.signature,set:(se,ie)=>{se.signature=ie}},metadata:X},O,k),ht(this,null,E,{kind:"accessor",name:"disk",static:!1,private:!1,access:{has:se=>"disk"in se,get:se=>se.disk,set:(se,ie)=>{se.disk=ie}},metadata:X},v,N),ht(this,null,T,{kind:"accessor",name:"entriesDisk",static:!1,private:!1,access:{has:se=>"entriesDisk"in se,get:se=>se.entriesDisk,set:(se,ie)=>{se.entriesDisk=ie}},metadata:X},j,R),ht(this,null,V,{kind:"accessor",name:"diskEntryCount",static:!1,private:!1,access:{has:se=>"diskEntryCount"in se,get:se=>se.diskEntryCount,set:(se,ie)=>{se.diskEntryCount=ie}},metadata:X},ae,ne),ht(this,null,de,{kind:"accessor",name:"totalEntryCount",static:!1,private:!1,access:{has:se=>"totalEntryCount"in se,get:se=>se.totalEntryCount,set:(se,ie)=>{se.totalEntryCount=ie}},metadata:X},P,Y),ht(this,null,me,{kind:"accessor",name:"size",static:!1,private:!1,access:{has:se=>"size"in se,get:se=>se.size,set:(se,ie)=>{se.size=ie}},metadata:X},G,J),ht(this,null,re,{kind:"accessor",name:"offset",static:!1,private:!1,access:{has:se=>"offset"in se,get:se=>se.offset,set:(se,ie)=>{se.offset=ie}},metadata:X},ve,We),ht(this,null,_e,{kind:"accessor",name:"commentLength",static:!1,private:!1,access:{has:se=>"commentLength"in se,get:se=>se.commentLength,set:(se,ie)=>{se.commentLength=ie}},metadata:X},W,x),ht(null,h={value:m},p,{kind:"class",name:m.name,metadata:X},null,_),m=h.value,X&&Object.defineProperty(m,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:X}),Ue(m,_)}_source;#e=Ue(this,O,void 0);get signature(){return this.#e}set signature(X){this.#e=X}check(){if(this.signature!=101010256)throw ee("EINVAL","Invalid Zip file: End of central directory record has invalid signature: 0x"+this.signature.toString(16))}#t=(Ue(this,k),Ue(this,v,void 0));get disk(){return this.#t}set disk(X){this.#t=X}#r=(Ue(this,N),Ue(this,j,void 0));get entriesDisk(){return this.#r}set entriesDisk(X){this.#r=X}#i=(Ue(this,R),Ue(this,ae,void 0));get diskEntryCount(){return this.#i}set diskEntryCount(X){this.#i=X}#n=(Ue(this,ne),Ue(this,P,void 0));get totalEntryCount(){return this.#n}set totalEntryCount(X){this.#n=X}#s=(Ue(this,Y),Ue(this,G,void 0));get size(){return this.#s}set size(X){this.#s=X}#a=(Ue(this,J),Ue(this,ve,void 0));get offset(){return this.#a}set offset(X){this.#a=X}#o=(Ue(this,We),Ue(this,W,void 0));get commentLength(){return this.#o}set commentLength(X){this.#o=X}comment=Ue(this,x)},m})();async function O_(e){for(let t=e.size-22;t>e.size-65535;t--){const r=await e.get(t,22);if((r[0]|r[1]<<8|r[2]<<16|r[3]<<24)>>>0===101010256){Cr("zipfs: found End of Central Directory signature at 0x"+t.toString(16));const n=new Zl(r.buffer,r.byteOffset);return n._source=e,n.comment=await hs(e,!0,t+Zl.size,n.commentLength),n}}throw Kt(ee("EINVAL","zipfs: could not locate End of Central Directory signature"))}class A_ extends Ol(ci){label;data;lazy;files=new Map;directories=new Map;_time=Date.now();_ready=!1;eocd;async ready(){if(await super.ready(),this._ready)return;if(this._ready=!0,this.eocd=await O_(this.data),this.eocd.disk!=this.eocd.entriesDisk)throw ee("EINVAL","ZipFS does not support spanned zip files.");let t=this.eocd.offset;if(t===4294967295)throw ee("EINVAL","ZipFS does not support Zip64.");const r=t+this.eocd.size;for(;t<r;){const i=await I_.from(this.data,t);if(this.lazy||await i.loadContents(),i.name.startsWith("/"))throw ee("EPERM","Unexpectedly encountered an absolute path in a zip file.");const n=i.name.endsWith("/")?i.name.slice(0,-1):i.name;this.files.set("/"+n,i),t+=i.size}for(const i of this.files.keys()){const{dir:n,base:o}=lr(i);this.directories.has(n)||this.directories.set(n,new Set),this.directories.get(n).add(o)}for(const i of this.directories.keys()){const{dir:n,base:o}=lr(i);o!=""&&(this.directories.has(n)||this.directories.set(n,new Set),this.directories.get(n).add(o))}}constructor(t,r,i=!1){super(544893296,"zipfs"),this.label=t,this.data=r,this.lazy=i}usage(){return{totalSpace:this.data.size,freeSpace:0}}async stat(t){return this.statSync(t)}statSync(t){if(this.directories.has(t))return new Ot({mode:365|At,size:4096,mtimeMs:this._time,ctimeMs:this._time,atimeMs:Date.now(),birthtimeMs:this._time});const r=this.files.get(t);if(!r)throw ee("ENOENT");return new Ot({mode:365|(r.isDirectory?At:br),size:r.uncompressedSize,mtimeMs:r.lastModified.getTime()})}async readdir(t){if(!((await this.stat(t)).mode&At))throw ee("ENOTDIR");const i=this.directories.get(t);if(!i)throw ee("ENODATA");return Array.from(i)}readdirSync(t){if(!(this.statSync(t).mode&At))throw ee("ENOTDIR");const i=this.directories.get(t);if(!i)throw ee("ENODATA");return Array.from(i)}async read(t,r,i,n){if(this.directories.has(t))throw ee("EISDIR");const o=this.files.get(t)??bt(ee("ENOENT"));o.contents||await o.loadContents(),r.set(o.contents.subarray(i,n))}readSync(t,r,i,n){if(this.directories.has(t))throw ee("EISDIR");const o=this.files.get(t)??bt(ee("ENOENT"));if(!o.contents)throw o.loadContents(),ee("EAGAIN");r.set(o.contents.subarray(i,n))}}const D_=e=>typeof e=="object"&&e!==null&&e.constructor.name==="SharedArrayBuffer";function N_(e){if(e instanceof ArrayBuffer||D_(e))return{size:e.byteLength,get(t,r){return new Uint8Array(e,t,r)},set(t,r){new Uint8Array(e,t,r.byteLength).set(new Uint8Array(r.buffer,r.byteOffset,r.byteLength))}};if(ArrayBuffer.isView(e))return{size:e.byteLength,get(t,r){return new Uint8Array(e.buffer,e.byteOffset+t,r)},set(t,r){new Uint8Array(e.buffer,e.byteOffset+t,r.byteLength).set(new Uint8Array(r.buffer,r.byteOffset,r.byteLength))}};if(typeof e=="object"&&e!==null&&"size"in e&&typeof e.size=="number"&&typeof e.get=="function")return e;throw Kt(ee("EINVAL","Invalid zip data source"))}const T_={name:"Zip",options:{data:{type:[ArrayBuffer,Object.getPrototypeOf(Uint8Array),function(t){return typeof t=="object"&&t!==null&&"size"in t&&typeof t.size=="number"&&"get"in t&&typeof t.get=="function"}],required:!0},name:{type:"string",required:!1},lazy:{type:"boolean",required:!1}},isAvailable(){return!0},create(e){return new A_(e.name??"",N_(e.data),e.lazy)}};function x_(e){switch(e.name){case"TypeMismatchError":return"EPERM";case"IndexSizeError":case"HierarchyRequestError":case"InvalidCharacterError":case"InvalidStateError":case"SyntaxError":case"NamespaceError":case"ConstraintError":case"VersionError":case"URLMismatchError":case"InvalidNodeTypeError":return"EINVAL";case"WrongDocumentError":return"EXDEV";case"NoModificationAllowedError":case"InvalidModificationError":case"InvalidAccessError":case"SecurityError":case"NotAllowedError":return"EACCES";case"NotFoundError":return"ENOENT";case"NotSupportedError":return"ENOTSUP";case"InUseAttributeError":return"EBUSY";case"NetworkError":return"ENETDOWN";case"AbortError":return"EINTR";case"QuotaExceededError":return"ENOSPC";case"TimeoutError":return"ETIMEDOUT";case"ReadOnlyError":return"EROFS";default:return"EIO"}}function _s(e,t){if(e instanceof Yt)return e;const r=e instanceof DOMException?ce[x_(e)]:ce.EIO,i=new Yt(r,e.message);return i.stack=e.stack,Error.captureStackTrace?.(i,_s),i.cause=e.cause,i}function an(e){return new Promise((t,r)=>{e.onsuccess=()=>t(e.result),e.onerror=i=>{i.preventDefault(),r(_s(e.error))}})}class R_ extends Hs{async(t){this.asyncDone=this.asyncDone.then(()=>t)}constructor(t,r){super(r),this.tx=t,this.store=r,this.asyncDone=Promise.resolve(),this._idb=t.objectStore(r.name)}async keys(){return(await an(this._idb.getAllKeys())).map(Number)}async get(t){const r=await an(this._idb.get(t));return r&&this.store.cache.set(t,new Uint8Array(r)),r}getSync(t,r,i){if(!this.store.cache.has(t))return;const n=new Uint8Array(this.store.cache.get(t));return i??(i=n.byteLength),n.subarray(r,i)}async set(t,r){this.store.cache.set(t,new Uint8Array(r)),await an(this._idb.put(r,t))}setSync(t,r){this.async(this.set(t,r))}remove(t){return this.store.cache.delete(t),an(this._idb.delete(t))}removeSync(t){this.store.cache.delete(t),this.async(this.remove(t))}async commit(){await this.asyncDone;const{promise:t,resolve:r,reject:i}=Promise.withResolvers();return this.tx.oncomplete=()=>r(),this.tx.onerror=()=>i(_s(this.tx.error)),this.tx.commit(),t}async abort(){await this.asyncDone;const{promise:t,resolve:r,reject:i}=Promise.withResolvers();return this.tx.onabort=()=>r(),this.tx.onerror=()=>i(_s(this.tx.error)),this.tx.abort(),t}}async function z_(e,t=globalThis.indexedDB){const r=t.open(e);return r.onupgradeneeded=()=>{const i=r.result;i.objectStoreNames.contains(e)&&(qt("Found unexpected object store: "+e),i.deleteObjectStore(e)),i.createObjectStore(e)},await an(r)}class L_{constructor(t){this.db=t,this.cache=new Map}sync(){return Promise.resolve()}get name(){return this.db.name}transaction(){const t=this.db.transaction(this.name,"readwrite");return new R_(t,this)}}const Ja=new WeakMap;async function M_(e){if(!(e instanceof IDBFactory))return!1;try{const t=e.open("__zenfs_test");return(await an(t)).close(),!0}catch{return!1}finally{e?.deleteDatabase("__zenfs_test")}}const C_={name:"IndexedDB",options:{storeName:{type:"string",required:!1},idbFactory:{type:"object",required:!1}},async isAvailable({idbFactory:e=globalThis.indexedDB}){if(Ja.has(e))return Ja.get(e);const t=M_(e);return Ja.set(e,t),t},async create(e){const t=await z_(e.storeName||"zenfs",e.idbFactory),r=new L_(t),i=new Ys(r);if(e?.disableAsyncCache)return Ln("Async preloading disabled for IndexedDB"),i;const n=r.transaction();for(const o of await n.keys())await n.get(o);return i}};function ms(e){const t={};for(const r of hn){const i=e.getAttribute(r);i!=null&&(t[r]=parseInt(i,16))}return new Ot(t)}function Ql(e,t){for(const r of Object.keys(t))!(r in hn)||t[r]===void 0||e.setAttribute(r,t[r].toString(16))}function Za(e,t=!1){let r;try{const i=t?e.textContent:e.getAttribute("paths");r=JSON.parse(i||"[]")}catch{r=[]}return r}class xp extends Al(ci){constructor(t=new DOMParser().parseFromString("<fs></fs>","application/xml").documentElement){super(544763244,"xmltmpfs"),this.root=t;try{this.mkdirSync("/",{uid:0,gid:0,mode:511})}catch(r){const i=r;if(i.code!="EEXIST")throw i}}renameSync(t,r){const i=this.get("rename",t);this.remove("rename",i,t),this.add("rename",i,r)}statSync(t){return ms(this.get("stat",t))}createFileSync(t,r){const i=this.statSync(Et(t)),n=new Ot({mode:r.mode|br,uid:i.mode&Oi?i.uid:r.uid,gid:i.mode&Ai?i.gid:r.gid});return this.create("createFile",t,n),n}unlinkSync(t){const r=this.get("unlink",t);if(ms(r).mode&At)throw ee("EISDIR");this.remove("unlink",r,t)}rmdirSync(t){const r=this.get("rmdir",t);if(r.textContent?.length)throw ee("ENOTEMPTY");if(!(ms(r).mode&At))throw ee("ENOTDIR");this.remove("rmdir",r,t)}mkdirSync(t,r){const i=this.statSync(Et(t)),n=new Ot({mode:r.mode|At,uid:i.mode&Oi?i.uid:r.uid,gid:i.mode&Ai?i.gid:r.gid});return this.create("mkdir",t,n).textContent="[]",n}readdirSync(t){const r=this.get("readdir",t);if(!(ms(r).mode&At))throw ee("ENOTDIR");try{return JSON.parse(r.textContent)}catch(i){throw ee("EIO","Invalid directory listing: "+i)}}linkSync(t,r){const i=this.get("link",t);this.add("link",i,r)}touchSync(t,r){const i=this.get("touch",t);Ql(i,r)}syncSync(){}readSync(t,r,i,n){const o=this.get("read",t),u=$u(o.textContent.slice(i,n));r.set(u)}writeSync(t,r,i){const n=this.get("write",t),o=oo(r),u=n.textContent.slice(i+o.length);n.textContent=n.textContent.slice(0,i)+o+u}toString(){return new XMLSerializer().serializeToString(this.root)}get(t,r){const i=this.root.children;if(!i)throw ee("EIO");for(let n=0;n<i.length;n++)if(Za(i[n]).includes(r))return i[n];throw ee("ENOENT")}create(t,r,i){if(this.existsSync(r))throw ee("EEXIST");const n=document.createElement("file");return this.add(t,n,r),Ql(n,new Ot({...i,uid:i.mode})),this.root.append(n),n}add(t,r,i,n=!1){const o=Za(r,n);if(o.push(i),n){r.textContent=JSON.stringify(o);return}if(r.setAttribute("paths",JSON.stringify(o)),r.setAttribute("nlink",o.length.toString(16)),i!="/"){const u=this.get(t,Et(i));this.add(t,u,Pr(i),!0)}}remove(t,r,i,n=!1){const o=Za(r,n),u=o.indexOf(i);if(u!=-1){if(o.splice(u,1),n){r.textContent=JSON.stringify(o);return}if(o.length?(r.setAttribute("paths",JSON.stringify(o)),r.setAttribute("nlink",o.length.toString(16))):r.remove(),i!="/"){const l=this.get(t,Et(i));this.remove(t,l,Pr(i),!0)}}}}async function P_(e,t,r="/libraries",i="/tmp"){const n=async(o,u)=>{try{await t.symlink(o,u)}catch(l){console.error(`symlink(${o}, ${u}) failed: `,l)}};await Promise.all(e.map(o=>(async()=>{if(!(o in Ns))throw new Error(`Archive named ${o} invalid (valid ones: ${Ts.join(", ")})`);const{symlinks:u}=Ns[o];if(u)for(const l in u){const p=u[l],h=p==="."?`${r}/${o}`:`${r}/${o}/${p}`,_=l.startsWith("/")?l:`${i}/${l}`;await n(h,_)}else await n(`${r}/${o}`,`${i}/${o}`)})()))}let ys=null;async function B_(e=!1){return ys||(ys=(async()=>{const t={},r=await Promise.all(Ts.map(async i=>[i,await fetch(`/libraries/${i}.zip`).then(n=>n.arrayBuffer())]));for(const[i,n]of r)n.byteLength>0&&(t[`/libraries/${i}`]={backend:T_,data:n});await Fd({mounts:{...e?{"/src":{backend:C_}}:{},...t}})})(),ys)}function An(e,t){return Uo(e+"/"+t)}class F_{constructor(t=Va,r,i){this.fs=t,this.em_fs=r,this.path=i,this.node_ops={getattr:n=>{const o=this.realPath(n);let u;try{u=this.fs.lstatSync(o)}catch(l){throw l.code?new this.em_fs.ErrnoError(l.errno):l}return u},setattr:(n,o)=>{const u=this.realPath(n);try{if(o.mode!==void 0&&(this.fs.chmodSync(u,o.mode),n.mode=o.mode),o.timestamp!==void 0){const l=new Date(o.timestamp);this.fs.utimesSync(u,l,l)}}catch(l){if(!l.code)throw l;if(l.code!=="ENOTSUP")throw new this.em_fs.ErrnoError(l.errno)}if(o.size!==void 0)try{this.fs.truncateSync(u,o.size)}catch(l){throw l.code?new this.em_fs.ErrnoError(l.errno):l}},lookup:(n,o)=>{const u=An(this.realPath(n),o),l=this.getMode(u);return this.createNode(n,o,l)},mknod:(n,o,u,l)=>{const p=this.createNode(n,o,u,l),h=this.realPath(p);try{this.em_fs.isDir(p.mode)?this.fs.mkdirSync(h,p.mode):this.fs.writeFileSync(h,"",{mode:p.mode})}catch(_){throw _.code?new this.em_fs.ErrnoError(_.errno):_}return p},rename:(n,o,u)=>{const l=this.realPath(n),p=An(this.realPath(o),u);try{this.fs.renameSync(l,p),n.name=u,n.parent=o}catch(h){throw h.code?new this.em_fs.ErrnoError(h.errno):h}},unlink:(n,o)=>{const u=An(this.realPath(n),o);try{this.fs.unlinkSync(u)}catch(l){throw l.code?new this.em_fs.ErrnoError(l.errno):l}},rmdir:(n,o)=>{const u=An(this.realPath(n),o);try{this.fs.rmdirSync(u)}catch(l){throw l.code?new this.em_fs.ErrnoError(l.errno):l}},readdir:n=>{const o=this.realPath(n);try{const u=this.fs.readdirSync(o);return u.push(".",".."),u}catch(u){throw u.code?new this.em_fs.ErrnoError(u.errno):u}},symlink:(n,o,u)=>{const l=An(this.realPath(n),o);try{this.fs.symlinkSync(u,l)}catch(p){throw p.code?new this.em_fs.ErrnoError(p.errno):p}},readlink:n=>{const o=this.realPath(n);try{return this.fs.readlinkSync(o,"utf8")}catch(u){throw u.code?new this.em_fs.ErrnoError(u.errno):u}}},this.stream_ops={open:n=>{const o=this.realPath(n.object);try{this.em_fs.isFile(n.object.mode)&&(n.nfd=this.fs.openSync(o,Kr(n.flags)))}catch(u){throw u.code?new this.em_fs.ErrnoError(u.errno):u}},close:n=>{try{this.em_fs.isFile(n.object.mode)&&n.nfd&&this.fs.closeSync(n.nfd)}catch(o){throw o.code?new this.em_fs.ErrnoError(o.errno):o}},read:(n,o,u,l,p)=>{try{return this.fs.readSync(n.nfd,o,u,l,p)}catch(h){throw new this.em_fs.ErrnoError(h.errno)}},write:(n,o,u,l,p)=>{try{return this.fs.writeSync(n.nfd,o,u,l,p)}catch(h){throw new this.em_fs.ErrnoError(h.errno)}},llseek:(n,o,u)=>{let l=o;if(u===1)l+=n.position;else if(u===2&&this.em_fs.isFile(n.object.mode))try{l+=this.fs.fstatSync(n.nfd).size}catch(p){throw new this.em_fs.ErrnoError(p.errno)}if(l<0)throw new this.em_fs.ErrnoError(ce.EINVAL);return n.position=l,l}},un("emscripten: Created new plugin")}mount(t){return this.createNode(null,"/",this.getMode(t.opts.root),0)}createNode(t,r,i,n){if(!this.em_fs.isDir(i)&&!this.em_fs.isFile(i)&&!this.em_fs.isLink(i))throw new this.em_fs.ErrnoError(ce.EINVAL);const o=new this.em_fs.FSNode(t,r,i,n);return o.node_ops=this.node_ops,o.stream_ops=this.stream_ops,o}getMode(t){let r;try{r=this.fs.lstatSync(t)}catch(i){throw i.code?new this.em_fs.ErrnoError(i.errno):i}return r.mode}realPath(t){const r=[];for(;t.parent!==t;)r.push(t.name),t=t.parent;return r.push(t.mount.opts.root),r.reverse(),Dt(...r)}}async function U_({content:e,path:t}){if((t.endsWith(".scad")||t.endsWith(".json"))&&e)return new TextEncoder().encode(e);throw new Error("Invalid source: "+JSON.stringify({path:t,content:e}))}function ps(e){self.postMessage(e)}self.addEventListener("message",async e=>{const{mountArchives:t,files:r,args:i,outputPaths:n,id:o}=e.data,u=function(...A){console.log(o,...A)},l=function(...A){console.debug(o,...A)},p=function(...A){console.error(o,...A)};u("starting with: ",e.data);const h=[];let _;const m=performance.now();try{if(_=await Ru({noInitialRun:!0,print:N=>{l("openscad.wasm.stdout |",N),ps({stdout:N}),h.push({stdout:N})},printErr:N=>{l("openscad.wasm.stderr |",N),ps({stderr:N}),h.push({stderr:N})}}),t){_.FS.mkdir("/app"),_.FS.mkdir("/src"),await B_();const N=new F_(Va,_.FS);_.FS.mount(N,{root:"/"},"/app"),_.FS.mkdir("/libraries"),await P_(Ts,_.FS,"/app/libraries","/libraries"),_.FS.symlink("/app/libraries/fonts","/fonts")}_.FS.chdir("/"),_.FS.mkdir("/locale");const A=(N,T="")=>{try{_.FS.readdir(N)?.forEach(j=>{if(j.startsWith("."))return;const R=`${N!=="/"?N+"/":"/"}${j}`;let V="";try{const ae=_.FS.lstat(R).mode;_.FS.isLink&&_.FS.isLink(ae)?V="[SYMLINK] "+_.FS.readlink(R)+" <-":_.FS.isDir(ae)?V="[DIR]":_.FS.isFile(ae)?V="[FILE]":V="[OTHER] "+ae.toString(8)}catch{V="[UNKNOWN]"}l(`${T}${V} ${R}`),V==="[DIR]"&&A(R,T+"  ")})}catch(j){p(j)}};if(r)for(const N of r)try{const T=N.path;N.content==null&&N.path!=null?_.FS.isFile(_.FS.stat(T).mode)||p(`File ${T} does not exist!`):(_.FS.mkdirTree(T.lastIndexOf("/")>0?T.substring(0,T.lastIndexOf("/")):"/"),_.FS.writeFile(T,await U_(N)))}catch(T){throw console.trace(T),new Error(`Error while trying to write ${N.path}: ${T}`)}u("Invoking OpenSCAD with: ",i);let S;try{S=_.callMain(i)}catch(N){throw typeof N=="number"&&_.formatException&&(N=_.formatException(N)),new Error(`OpenSCAD invocation failed: ${N}`)}const k=performance.now()-m,E=[];for(const N of n??[])try{const T=_.FS.readFile(N,{encoding:"utf8"});E.push([N,T])}catch(T){throw console.trace(T),new Error(`Failed to read output file ${N}: ${T}`)}const v={outputs:E,mergedOutputs:h,exitCode:S,elapsedMillis:k};l("result",v),ps({result:v})}catch(A){const O=performance.now()-m;console.trace(A);const k=`${A}`;h.push({error:k}),ps({result:{exitCode:void 0,error:k,mergedOutputs:h,elapsedMillis:O}})}})})();
