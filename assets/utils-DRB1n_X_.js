function m(e,t){return e}function p(e,t,a){const n=[];for(const r of Object.keys(e))a&&!a(r)||n.push(t(r,e[r]));return n}function g(e){let t;const a=new Promise((n,r)=>{t=e(n,r)});return Object.assign(a,{kill:t})}function w(e,t){let a,n;return(...r)=>({now:i})=>g((l,u)=>{let o;return(async()=>{const c=async()=>{n&&(n(),n=null),o=t(...r),n=o.kill;try{l(await o)}catch(f){u(f)}finally{n=null}};a&&(clearTimeout(a),a=null),i?c():a=window.setTimeout(c,e)})(),()=>o?.kill()})}function y(e){if(e===0)return"0 B";const t=1024,a=["B","KB","MB","GB","TB"],n=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,n)).toFixed(2))+" "+a[n]}function d(e){if(e)return s(new Date(e))}function s(e=new Date){return navigator.language=="en-US"?e.toISOString().slice(0,10):e.toLocaleDateString()}function S(e=new Date){return s(e)+" "+e.toLocaleTimeString()}function b(e){const t=window.location.hash,a=t.indexOf("?");if(a===-1)return null;const n=t.substring(a+1),r=new URLSearchParams(n);return r.has(e)?r.get(e):null}function h(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function A(e){if(!e)return"";let t=h(e);return t=t.replace(/#([a-zA-Z0-9\-]+)/g,(a,n)=>{const r=n.toLowerCase().replace(/[^a-z0-9\-]/g,"");return`<a href="#/tag/${r}">#${r}</a>`}),t=t.replace(/@([a-zA-Z0-9\-]+)/g,(a,n)=>{const r=n.toLowerCase().replace(/[^a-z0-9\-]/g,"");return`<a href="#/user/${r}">@${r}</a>`}),t=t.replace(/\r?\n/g,"<br>"),t}async function x(e){const a=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-1",a);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}export{g as A,S as a,y as b,d as c,s as f,b as g,x as h,m as l,p as m,A as s,w as t};
